<!DOCTYPE html>
<html>
<head>
    <title>Debug Arrow Rendering</title>
    <style>
        body { padding: 20px; background: #f0f0f0; }
        .test-container { margin: 20px 0; border: 2px solid blue; background: white; }
        svg { display: block; }
    </style>
</head>
<body>
    <h1>Debug Arrow Rendering Tests</h1>

    <div class="test-container">
        <h2>Test 1: Basic Red Line</h2>
        <svg width="200" height="600">
            <line x1="100" y1="50" x2="100" y2="550"
                  stroke="red" stroke-width="10"/>
            <text x="100" y="30" text-anchor="middle" fill="black">Should see red line</text>
        </svg>
    </div>

    <div class="test-container">
        <h2>Test 2: White Rectangle</h2>
        <svg width="200" height="600" style="background: #ccc;">
            <rect x="60" y="50" width="80" height="500"
                  fill="white" opacity="0.8"/>
            <text x="100" y="30" text-anchor="middle" fill="black">Should see white rect</text>
        </svg>
    </div>

    <div class="test-container">
        <h2>Test 3: Polygon Arrow</h2>
        <svg width="200" height="600">
            <polygon points="70,100 100,150 130,100"
                     fill="red"/>
            <text x="100" y="30" text-anchor="middle" fill="black">Should see red triangle</text>
        </svg>
    </div>

    <div class="test-container">
        <h2>Test 4: Complete Bent Indicator (copied from viewer)</h2>
        <svg width="200" height="600">
            <!-- Exact copy from Chiều chiều viewer -->
            <g class="bent-note-group">
                <!-- White background rectangle for visibility -->
                <rect x="60" y="15"
                      width="80" height="514"
                      fill="white" opacity="0.8"/>

                <!-- Red vertical arrow line (up to 500px) -->
                <line x1="100" y1="20"
                      x2="100" y2="494"
                      stroke="#FF0000" stroke-width="10"/>

                <!-- Extra Large red arrow head pointing down -->
                <polygon points="65,449 100,494 135,449"
                         fill="#FF0000"/>

                <!-- Bend indicator text with background -->
                <rect x="65" y="494"
                      width="70" height="25"
                      fill="white" stroke="#FF0000" stroke-width="2" rx="3"/>
                <text x="100" y="509"
                      text-anchor="middle" class="bend-amount"
                      style="font-size: 20px; fill: #FF0000; font-weight: bold;">
                    BEND
                </text>
            </g>
        </svg>
    </div>

    <div class="test-container">
        <h2>Test 5: Using CSS stroke instead of attribute</h2>
        <svg width="200" height="600">
            <line x1="100" y1="50" x2="100" y2="550"
                  style="stroke: red; stroke-width: 10px;"/>
            <text x="100" y="30" text-anchor="middle" fill="black">CSS stroke</text>
        </svg>
    </div>

    <div class="test-container">
        <h2>Test 6: Path instead of line</h2>
        <svg width="200" height="600">
            <path d="M 100 50 L 100 550"
                  stroke="red" stroke-width="10" fill="none"/>
            <text x="100" y="30" text-anchor="middle" fill="black">Path line</text>
        </svg>
    </div>

    <script>
        // Check if SVG elements are being rendered
        document.addEventListener('DOMContentLoaded', () => {
            const lines = document.querySelectorAll('line');
            const rects = document.querySelectorAll('rect');
            const polygons = document.querySelectorAll('polygon');

            console.log('Found elements:');
            console.log('- Lines:', lines.length);
            console.log('- Rectangles:', rects.length);
            console.log('- Polygons:', polygons.length);

            // Check computed styles
            if (lines[0]) {
                const computed = window.getComputedStyle(lines[0]);
                console.log('First line computed styles:');
                console.log('- stroke:', computed.stroke);
                console.log('- stroke-width:', computed.strokeWidth);
                console.log('- display:', computed.display);
                console.log('- visibility:', computed.visibility);
            }
        });
    </script>
</body>
</html>