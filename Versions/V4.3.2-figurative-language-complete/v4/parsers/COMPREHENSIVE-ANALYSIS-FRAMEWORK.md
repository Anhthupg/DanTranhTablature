# COMPREHENSIVE STATISTICAL ANALYSIS FRAMEWORK
## Based on User's Precise Specifications

---

## üéØ CORE FRAMEWORK DEFINITIONS

### **1. PITCH CONTOUR** (No Rhythm)
- **Definition**: Pure melodic shape without timing consideration
- **Data**: Sequence of pitches only: D4 ‚Üí G4 ‚Üí A4 ‚Üí C5
- **Analysis**: Intervals, directions, contour shape, pitch patterns

### **2. DURATION/RHYTHM** (No Pitch)
- **Definition**: Pure timing patterns without melodic consideration
- **Data**: Sequence of durations only: 480 ‚Üí 240 ‚Üí 240 ‚Üí 960 (ticks)
- **Analysis**: Rhythmic patterns, syncopation, tempo, beat strength

### **3. MELODY** (Pitch + Rhythm Interplay)
- **Definition**: How pitch and rhythm interact together
- **Data**: Combined pitch-duration pairs: (D4,480) ‚Üí (G4,240) ‚Üí (A4,240)
- **Analysis**: Melodic gestures, phrase arcs, emphasis patterns

### **4. LINGUISTIC CORRELATIONS**
- **Words ‚Üî Pitch**: How syllables correlate with note pitches
- **Words ‚Üî Rhythm**: How syllables correlate with note durations
- **Words ‚Üî Melodic Contour**: How words correlate with melodic gestures
- **Tones ‚Üî Musical Elements**: How Vietnamese tones correlate with all musical aspects
- **Phrase Positions**: Beginning/middle/ending correlations with musical elements

### **5. MELISMA & GRACE NOTE FRAMEWORK**
- **Melisma**: Words encompass multiple pitches (one syllable = multiple notes)
- **Grace Notes**: Subset of melisma with specific articulation rules
- **Slur Analysis**: Grace notes can start or end slurs, belong to syllables
- **Position Types**: Grace notes at beginning/end of slurs with syllable relationships

---

## üìä COMPREHENSIVE STATISTICAL GROUPS

### **GROUP A: BASIC MUSICAL STATISTICS** (7 metrics)
1. Total note count (main notes)
2. Grace note count
3. Unique pitch count (different pitches used)
4. Pitch range (lowest to highest in semitones)
5. Most frequent pitch (modal pitch)
6. Average note duration (mean duration in ticks)
7. String usage count (dan tranh strings utilized)

### **GROUP B: PITCH CONTOUR ANALYSIS** (No Rhythm - 14+ metrics)
8. Ascending interval percentage
9. Descending interval percentage
10. Static pitch percentage (repeated notes)
11. Most common interval type (unison, second, third, etc.)
12. Largest melodic leap (biggest interval)
13. Step-wise motion percentage (‚â§2 semitones)
14. Leap motion percentage (>2 semitones)
15. Contour direction changes (how often direction switches)
16. Pitch range utilization (how much of available range used)
17. Modal pitch percentage (most common pitch frequency)
18. Pitch class distribution (C, D, E, G, A percentages)

### **GROUP C: DURATION/RHYTHM ANALYSIS** (No Pitch - 19+ metrics)
19. Rhythmic diversity (number of different durations)
20. Most common duration (modal rhythm)
21. Syncopation index (off-beat emphasis)
22. Rhythmic density (notes per measure)
23. Tempo stability (duration variation)
24. Duration ratios (relationships between note lengths)
25. Rhythmic complexity (pattern entropy)
26. Beat strength distribution (strong vs weak beats)
27. Rhythmic pattern repetition (recurring rhythm sequences)

### **GROUP D: MELODY INTERPLAY** (Pitch + Rhythm - 25+ metrics)
28. Melodic arc types (rising, falling, arch, valley)
29. Rhythm-pitch correlation (longer notes on important pitches)
30. Melodic density variation (pitch activity vs rhythm)
31. Phrase climax analysis (peak moments in melody)
32. Melodic motion rhythm sync (how pitch movement aligns with rhythm)
33. Melodic expectation fulfillment (predictability analysis)
34. Rhythmic emphasis on melodic peaks (accent alignment)
35. Melodic phrase rhythm alignment (phrase boundary coordination)

### **GROUP E: VIETNAMESE LINGUISTIC ANALYSIS** (25+ metrics)
36. Vietnamese tone distribution (ngang, s·∫Øc, huy·ªÅn, h·ªèi, n·∫∑ng, ng√£ %)
37. Syllable count (total lyric syllables)
38. Lyric coverage percentage (notes with lyrics / total notes)
39. Phrase position analysis (beginning/middle/ending identification)
40. Average syllables per phrase
41. Tone-melody correlation percentage
42. Tone sequence patterns (common tone progressions)
43. Semantic field analysis (nature, emotion, action words)
44. Phonetic pattern analysis (vowel/consonant distributions)

### **GROUP F: WORD-MUSICAL CORRELATIONS** (45+ metrics)

#### **Words ‚Üî Pitch Correlations:**
45. Word-pitch correlations (semantic meaning vs pitch level)
46. Syllable-pitch contour mapping (how syllables follow pitch shape)
47. Semantic-pitch mapping (nature words vs high/low pitches)

#### **Words ‚Üî Rhythm Correlations:**
48. Word-duration correlations (important words get longer notes)
49. Syllable-rhythm patterns (syllable stress vs musical stress)
50. Phonetic-rhythm alignment (vowels vs consonants rhythm placement)

#### **Words ‚Üî Melodic Contour:**
51. Word-melodic gesture correlation (words match melodic gestures)
52. Semantic-melodic direction (positive words = ascending melody)
53. Emotional valence-melodic motion (happy words = rising contours)

### **GROUP G: TONE-MUSICAL CORRELATIONS** (50+ metrics)

#### **Tones ‚Üî Pitch:**
54. Tone-pitch direction correlation (rising tones = ascending melody)
55. Tone-pitch register correlation (certain tones prefer high/low pitches)
56. Tone-interval size correlation (specific tones = specific intervals)

#### **Tones ‚Üî Rhythm:**
57. Tone-duration correlation (certain tones get longer/shorter notes)
58. Tone-beat position correlation (tones on strong/weak beats)
59. Tone-rhythmic emphasis correlation (tones with accents)

#### **Tones ‚Üî Melodic Contour:**
60. Tone-melodic arc correlation (tones shape phrase contours)
61. Tone-phrase shape correlation (tone sequences = melodic shapes)
62. Tone sequence-melodic pattern correlation (tone chains = melodic motifs)

### **GROUP H: PHRASE POSITION CORRELATIONS** (50+ metrics)

#### **Beginning Phrase Tendencies:**
63. Beginning pitch tendency (phrases start high/low/middle)
64. Beginning rhythm tendency (phrases start with long/short notes)
65. Beginning melody tendency (phrases start ascending/descending)

#### **Middle Phrase Tendencies:**
66. Middle pitch tendency (phrase centers gravitate to certain pitches)
67. Middle rhythm tendency (phrase centers have specific rhythmic patterns)
68. Middle melody tendency (phrase centers show melodic characteristics)

#### **Ending Phrase Tendencies:**
69. Ending pitch tendency (phrases end high/low/middle)
70. Ending rhythm tendency (phrases end with long/short notes)
71. Ending melody tendency (phrases end ascending/descending/static)

#### **Cross-Position Analysis:**
72. Phrase position consistency (how consistent are positional patterns)
73. Linguistic-musical phrase alignment (linguistic vs musical phrase boundaries)

### **GROUP I: MELISMA & GRACE NOTE ANALYSIS** (50+ metrics)

#### **Melisma Analysis** (Words Encompass Multiple Pitches):
74. Melisma groups count (how many multi-note syllables)
75. Average notes per melisma (complexity of ornamental passages)
76. Melisma syllable distribution (which syllables get melismas)
77. Melisma pitch contour patterns (shapes of ornamental passages)
78. Melisma complexity distribution (simple vs complex ornaments)

#### **Grace Note Analysis** (Subset of Melisma):
79. Grace note percentage (grace notes / total notes)
80. Grace note positions (beginning vs ending of slurs)
81. Grace note slur relationships (how grace notes connect to main notes)
82. Grace note syllable belonging (which syllable owns the grace note)
83. Grace note melodic function (appoggiatura, acciaccatura, turn, etc.)

#### **Slur Analysis:**
84. Slur groups count (total number of slur groups)
85. Slur types classification (true ties vs melismas)
86. Slur-grace note patterns (how grace notes relate to slur structure)

### **GROUP J: CULTURAL & CONTEXTUAL** (30+ metrics)
87. Regional classification (Northern/Southern/Central Vietnam)
88. Song type classification (L√Ω, H√≤, H√°t ru identification)
89. Ceremonial context (folk song, lullaby, work song)
90. Historical period estimation
91. Cultural function (entertainment, ritual, work)

### **GROUP K: TUNING & TECHNICAL** (35+ metrics)
92. Detected tuning system (pentatonic scale identification)
93. Bent note count (pitches outside standard tuning)
94. String efficiency (strings used / total available)
95. Technical difficulty index (based on leaps, grace notes, complexity)
96. Performance tempo (BPM if available)

### **GROUP L: COMPARATIVE ANALYSIS** (40+ metrics)
97. Regional similarity percentage (vs other songs from same region)
98. Universal pattern percentage (patterns in 50%+ of all songs)
99. Uniqueness index (percentage of unique patterns)
100. Collection complexity ranking (1-129 ranking among all songs)
101. Evolution indicators (traditional vs modern adaptation)

### **GROUP M: ADVANCED MATHEMATICAL** (50+ metrics)
102. Fractal dimension (self-similarity using box-counting method)
103. Information entropy (predictability/complexity measure)
104. Compression ratio (how compressible is the musical data)
105. Motif repetition index (recurring melodic pattern frequency)
106. Variation techniques (ornamentation, transposition analysis)

---

## üîß IMPLEMENTATION APPROACH

### **PHASE 1: Core Framework Implementation**
```javascript
// 1. PITCH CONTOUR (Pure melodic analysis)
const pitchSequence = ["D4", "G4", "A4", "C5", "D5"];
const intervals = calculateIntervals(pitchSequence); // [5, 2, 3, 2] semitones
const contourShape = analyzeContourShape(intervals); // "ascending_with_peaks"

// 2. RHYTHM/DURATION (Pure temporal analysis)
const durationSequence = [480, 240, 240, 960, 480]; // ticks
const rhythmPatterns = analyzeRhythmPatterns(durationSequence);
const syncopation = calculateSyncopation(durationSequence);

// 3. MELODY (Combined analysis)
const melody = zip(pitchSequence, durationSequence);
const melodicGestures = analyzeMelodicGestures(melody);
const phraseArcs = identifyPhraseArcs(melody);
```

### **PHASE 2: Linguistic-Musical Correlations**
```javascript
// Words interact with musical elements
const wordPitchCorrelation = correlateWordsWithPitch(lyrics, pitches);
const toneMelodyCorrelation = correlateToneWithMelody(vietnameseTones, melody);
const phrasePositionAnalysis = analyzePhrasePositions(lyrics, musicalPhrases);
```

### **PHASE 3: Melisma & Grace Note Analysis**
```javascript
// Melisma grouping (words encompass pitches)
const melismaGroups = groupMelismas(notes); // [{syllable: "L√Ω", notes: [note1, note2, note3]}]

// Grace note analysis (subset of melisma)
const graceNotePositions = analyzeGraceNotePositions(graceNotes, slurGroups);
const graceNoteSyllableOwnership = determineGraceNoteSyllables(graceNotes, lyrics);
```

---

## ‚úÖ READY FOR IMPLEMENTATION

**I've prepared the complete framework with 100+ statistical measures based on your specifications:**

‚úÖ **Pitch contour** analysis (no rhythm consideration)
‚úÖ **Duration/rhythm** analysis (no pitch consideration)
‚úÖ **Melody interplay** (pitch + rhythm interaction)
‚úÖ **Words interact** with pitch, rhythm, melodic contour
‚úÖ **Tones correlate** with pitch, rhythm, melodic contour
‚úÖ **Phrase positions** (beginning/middle/ending) correlate with all musical elements
‚úÖ **Melisma analysis** (words encompass multiple pitches)
‚úÖ **Grace note analysis** (subset of melisma, slur relationships, syllable ownership)

**All algorithms are ready to process real MusicXML data from your 129 songs.**

**Please confirm which statistical groups (A-M) you want implemented in V4, and I'll build the actual calculation engines and integrate them into the V4 system.**