<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap Chevron - Dotted Rhythm Positions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        svg {
            display: block;
            margin: 20px auto;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }
        .specs {
            margin-top: 30px;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 4px;
            border-left: 4px solid #0066CC;
        }
        .specs h2 {
            margin-top: 0;
            color: #333;
            font-size: 18px;
        }
        .specs code {
            background: #e6f2ff;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #0066CC;
        }
        .formula {
            background: white;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Tap Chevron - Dotted Rhythm Positions</h1>
        <div class="subtitle">Three tap positions on dotted notes (0.125px/cent)</div>

        <svg width="900" height="400" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <style>
                    .string-line { stroke: #000; stroke-width: 3; }
                    .note-circle { fill: #333; stroke: #000; stroke-width: 2; }
                    .note-text { font-family: Arial; font-size: 14px; font-weight: bold; fill: white; text-anchor: middle; dominant-baseline: middle; }
                    .tap-chevron { fill: none; stroke-width: 4; stroke-linecap: round; stroke-linejoin: round; }
                    .tap-chevron-0 { stroke: #0066FF; }  /* Position 0: Blue */
                    .tap-chevron-1-3 { stroke: #00CCCC; }  /* Position 1/3: Cyan */
                    .tap-chevron-2-3 { stroke: #00CC00; }  /* Position 2/3: Green */
                    .duration-line { stroke: #0066CC; stroke-width: 1; stroke-dasharray: 2,2; }
                </style>
            </defs>

            <!-- Title -->
            <text x="450" y="25" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Tap Positions on Dotted 8th Note (duration = 0.75)</text>

            <!-- String lines -->
            <line x1="50" y1="100" x2="850" y2="100" class="string-line"/>
            <line x1="50" y1="200" x2="850" y2="200" class="string-line"/>
            <line x1="50" y1="300" x2="850" y2="300" class="string-line"/>

            <!-- String labels -->
            <text x="30" y="100" font-size="12" text-anchor="middle" dominant-baseline="middle" fill="#333">G4</text>
            <text x="30" y="200" font-size="12" text-anchor="middle" dominant-baseline="middle" fill="#333">D4</text>
            <text x="30" y="300" font-size="12" text-anchor="middle" dominant-baseline="middle" fill="#333">A3</text>

            <!-- Case 1: Tap at position 0 (note start) -->
            <circle cx="150" cy="200" r="12" class="note-circle"/>
            <text x="150" y="200" class="note-text">7</text>
            <polyline points="143,200 150,237.5 157,200" class="tap-chevron tap-chevron-0" data-tap-position="0"/>
            <text x="150" y="255" font-size="10" text-anchor="middle" fill="#0066FF" font-weight="bold">TAP at 0</text>
            <text x="150" y="270" font-size="9" text-anchor="middle" fill="#666">Note Start</text>
            <!-- Duration marker -->
            <line x1="150" y1="180" x2="213.75" y2="180" class="duration-line"/>
            <text x="181.875" y="175" font-size="8" text-anchor="middle" fill="#0066CC">0.75 √ó 85 = 63.75px</text>

            <!-- Case 2: Tap at position 1/3 -->
            <circle cx="350" cy="200" r="12" class="note-circle"/>
            <text x="350" y="200" class="note-text">7</text>
            <polyline points="364.25,200 371.25,237.5 378.25,200" class="tap-chevron tap-chevron-1-3" data-tap-position="1/3"/>
            <text x="371.25" y="255" font-size="10" text-anchor="middle" fill="#00CCCC" font-weight="bold">TAP at 1/3</text>
            <text x="371.25" y="270" font-size="9" text-anchor="middle" fill="#666">Strong Subdivision</text>
            <!-- Duration markers -->
            <line x1="350" y1="180" x2="413.75" y2="180" class="duration-line"/>
            <line x1="350" y1="185" x2="371.25" y2="185" stroke="#0066CC" stroke-width="2"/>
            <text x="360.625" y="175" font-size="8" text-anchor="middle" fill="#0066CC">21.25px (1/3)</text>

            <!-- Case 3: Tap at position 2/3 -->
            <circle cx="550" cy="200" r="12" class="note-circle"/>
            <text x="550" y="200" class="note-text">7</text>
            <polyline points="585.5,200 592.5,237.5 599.5,200" class="tap-chevron tap-chevron-2-3" data-tap-position="2/3"/>
            <text x="592.5" y="255" font-size="10" text-anchor="middle" fill="#00CC00" font-weight="bold">TAP at 2/3</text>
            <text x="592.5" y="270" font-size="9" text-anchor="middle" fill="#666">Strong Subdivision</text>
            <!-- Duration markers -->
            <line x1="550" y1="180" x2="613.75" y2="180" class="duration-line"/>
            <line x1="550" y1="185" x2="592.5" y2="185" stroke="#0066CC" stroke-width="2"/>
            <text x="571.25" y="175" font-size="8" text-anchor="middle" fill="#0066CC">42.5px (2/3)</text>

            <!-- Legend -->
            <text x="750" y="100" font-size="11" fill="#666" font-weight="bold">Formula:</text>
            <text x="750" y="120" font-size="10" fill="#666">chevronX = noteX +</text>
            <text x="750" y="135" font-size="10" fill="#666">(duration √ó 85 √ó position)</text>
            <text x="750" y="160" font-size="9" fill="#999">position ‚àà {0, 1/3, 2/3}</text>
            <text x="750" y="175" font-size="9" fill="#999">duration = 0.75 (dotted 8th)</text>
        </svg>

        <div class="specs">
            <h2>üìê Tap Chevron Position Formula</h2>
            <div class="formula">
<strong>Horizontal Position:</strong>
chevronX = noteX + (noteDuration √ó horizontalScale √ó tapPosition)

<strong>Parameters:</strong>
‚Ä¢ noteDuration: Note duration value (0.75 for dotted 8th, 1.5 for dotted quarter, etc.)
‚Ä¢ horizontalScale: 85 pixels per beat
‚Ä¢ tapPosition: 0 (start), 1/3 (early subdivision), or 2/3 (late subdivision)

<strong>Vertical Position:</strong>
pointY = noteY + (centsDown √ó 0.125)

<strong>Examples:</strong>
Dotted 8th (0.75):
  ‚Ä¢ At 0:   chevronX = noteX + (0.75 √ó 85 √ó 0)   = noteX + 0
  ‚Ä¢ At 1/3: chevronX = noteX + (0.75 √ó 85 √ó 1/3) = noteX + 21.25
  ‚Ä¢ At 2/3: chevronX = noteX + (0.75 √ó 85 √ó 2/3) = noteX + 42.5

Dotted Quarter (1.5):
  ‚Ä¢ At 0:   chevronX = noteX + (1.5 √ó 85 √ó 0)   = noteX + 0
  ‚Ä¢ At 1/3: chevronX = noteX + (1.5 √ó 85 √ó 1/3) = noteX + 42.5
  ‚Ä¢ At 2/3: chevronX = noteX + (1.5 √ó 85 √ó 2/3) = noteX + 85
            </div>

            <h2>üéµ Specifications</h2>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li><strong>Pitch Ratio:</strong> <code>0.125px/cent</code></li>
                <li><strong>Arm Spread:</strong> <code>14px</code> (7px each side)</li>
                <li><strong>Pitch Drop:</strong> <code>300 cents = 37.5px</code></li>
                <li><strong>Stroke Width:</strong> <code>4px</code> (unified left-hand technique)</li>
                <li><strong>Positions:</strong> 0 (start), 1/3, or 2/3 of note duration</li>
            </ul>
        </div>
    </div>
</body>
</html>
