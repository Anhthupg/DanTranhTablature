<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytical ƒê√†n Tranh Tablature</title>
    <style>
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        header h2 {
            color: #7f8c8d;
            font-weight: normal;
            font-size: 1.1em;
        }
        
        .controls {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        
        .controls-grid {
            display: flex;
            gap: 20px;
        }

        .left-column {
            width: 300px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .right-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        @media (max-width: 1200px) {
            .controls-grid {
                flex-direction: column;
            }
            .left-column {
                width: 100%;
            }
        }
        
        .control-section.compact {
            margin-bottom: 0;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .section-title {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-title.collapsible:hover {
            color: #3498db;
        }
        
        .toggle-icon {
            font-size: 12px;
            transition: transform 0.3s;
        }
        
        .toggle-icon.collapsed {
            transform: rotate(-90deg);
        }
        
        .section-content {
            transition: max-height 0.3s ease-out;
            overflow: hidden;
        }
        
        .section-content.collapsed {
            max-height: 0;
            margin: 0;
            padding: 0;
        }
        
        .inline-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        
        .inline-controls .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-bottom: 0;
            min-width: auto;
        }
        
        .control-group-header {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .inline-controls label {
            font-size: 12px;
            margin-bottom: 0;
            white-space: nowrap;
        }
        
        .inline-controls select {
            padding: 4px;
            font-size: 12px;
            min-width: 80px;
        }
        
        .inline-controls input[type="range"] {
            width: 80px;
        }
        
        .inline-controls button {
            padding: 4px 8px;
            font-size: 12px;
            margin-right: 5px;
        }
        
        .pattern-selector {
            margin-top: 8px;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 5px;
        }
        
        .pattern-selector select {
            border: none;
            font-size: 11px;
            width: 100%;
            min-height: 60px;
        }
        
        .patterns-row {
            display: flex;
            gap: 15px;
        }
        
        .pattern-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .control-row:last-child {
            margin-bottom: 0;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            min-width: 200px;
        }
        
        .zoom-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .custom-zoom {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }
        
        .slider-container input[type="range"] {
            flex: 1;
        }
        
        .custom-zoom input {
            padding: 4px 6px;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-size: 14px;
        }
        
        .control-group label {
            font-weight: 600;
            margin-bottom: 5px;
            color: #34495e;
        }
        
        select, input[type="range"] {
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        button {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        .tablature-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        
        .lyrics-section {
            background: white;
            padding: 10px;
            margin-top: 10px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .lyrics-section h3 {
            color: #2c3e50;
            margin: 0 0 8px 0;
            font-size: 16px;
            border-bottom: 1px solid #3498db;
            padding-bottom: 4px;
        }
        
        .lyrics-content {
            font-size: 14px;
            line-height: 1.0;
            color: #2c3e50;
            font-family: serif;
        }
        
        .lyrics-line {
            margin-bottom: 0px;
            padding: 0;
            line-height: 1.1;
        }
        
        .syllable {
            margin-right: 4px;
            padding: 2px 4px;
            border-radius: 3px;
            transition: background-color 0.3s;
        }
        
        .syllable:hover {
            background-color: #ecf0f1;
            cursor: pointer;
        }
        
        .syllable.highlighted {
            background-color: #3498db;
            color: white;
        }
        
        .lyrics-edit-container {
            margin-top: 10px;
        }
        
        .edit-instructions {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 8px;
            padding: 5px;
            background: #ecf0f1;
            border-radius: 3px;
        }
        
        .editable-lyrics {
            line-height: 1.2;
        }
        
        .coverage-indicator {
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 8px;
            color: orange;
            font-weight: bold;
            z-index: 10;
        }
        
        .editable-syllable {
            position: relative;
            display: inline-block;
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 3px;
            transition: background-color 0.2s;
        }

        .editable-syllable:hover {
            background-color: rgba(33, 150, 243, 0.1);
        }

        .syllable-edit-controls {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.9);
            border-radius: 4px;
            padding: 3px;
            display: none;
            z-index: 1000;
            white-space: nowrap;
        }

        .syllable-edit-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 10px;
            padding: 3px 6px;
            cursor: pointer;
            border-radius: 2px;
            margin: 0 2px;
        }

        .syllable-edit-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .merge-left-btn { color: #4CAF50; }
        .merge-right-btn { color: #4CAF50; }
        .split-btn { color: #FF9800; }

        .learning-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2196F3;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            display: none;
            z-index: 1001;
            animation: fadeInOut 2s ease-in-out;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        
        .line-break {
            color: #bdc3c7;
            cursor: pointer;
            margin: 0 2px;
            font-weight: bold;
            opacity: 0.3;
            transition: opacity 0.2s;
        }
        
        .line-break:hover {
            opacity: 0.8;
            color: #3498db;
        }
        
        .line-break.active {
            color: #3498db;
            opacity: 0.7;
        }
        
        .line-break.active::after {
            content: '\A';
            white-space: pre;
            line-height: 0.1;
        }
        
        .legend {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .legend h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .color-sample {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 10px;
            border: 1px solid #ccc;
        }
        
        .color-sample.kpic-highlight {
            background: linear-gradient(45deg, #ffeb3b 25%, #ff9800 25%, #ff9800 50%, #ffeb3b 50%, #ffeb3b 75%, #ff9800 75%);
            background-size: 4px 4px;
        }
        
        .color-sample.kric-highlight {
            background: #e3f2fd;
            border-color: #2196f3;
        }
        
        .color-sample.syllable-repetition {
            background: white;
            border: 3px solid #f44336;
        }
        
        .color-sample.syllable-focus {
            background: #e91e63;
        }
        
        .color-sample.grace-main-unit {
            background: #4caf50;
            border-color: #2e7d32;
        }
        
        .color-sample.syllable-melismatic {
            background: #9c27b0;
            border-color: #6a1b9a;
        }
        
        .color-sample.grace-note {
            background: #FFD700;
            border-color: #0066FF;
        }

        /* Audio visual effects - Force entire circle area clickable */
        .note-circle {
            cursor: pointer !important;
            pointer-events: all !important;
            fill-opacity: 1 !important;
            fill: inherit !important;
        }

        .note-circle:hover {
            filter: brightness(0.9);
        }

        /* Ensure SVG allows all pointer events */
        svg {
            pointer-events: all;
        }

        .note-circle:hover {
            filter: brightness(0.9);
        }

        .active-note-glow {
            filter: drop-shadow(0 0 30px #ff6b35) drop-shadow(0 0 60px #ff6b35) drop-shadow(0 0 90px #ff6b35) drop-shadow(0 0 120px #ff6b35) !important;
            stroke: #ff6b35 !important;
            stroke-width: 6 !important;
            fill: #ffaa00 !important;
        }

        .fade-note-glow {
            filter: drop-shadow(0 0 20px #ff6b35) drop-shadow(0 0 40px #ff6b35) !important;
            stroke: #ff6b35 !important;
            stroke-width: 6 !important;
            transition: filter 3s ease-out, stroke-width 3s ease-out !important;
        }

        .fade-note-glow.fading {
            filter: drop-shadow(0 0 5px #ff6b35) !important;
            stroke-width: 2 !important;
        }
        
        
        #minCountValue {
            font-weight: bold;
            margin-left: 10px;
        }
        
        @media (max-width: 768px) {
            .control-row {
                flex-direction: column;
            }
            
            .control-group {
                min-width: auto;
            }
        }
        
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéº Analytical ƒê√†n Tranh Tablature</h1>
            <h2>MusicXML/B√† r·∫±ng b√† r√≠.musicxml</h2>
        </header>
        
        <div class="controls">
            <!-- Compact control grid -->
            <div class="controls-grid">
                <!-- Left Column: Mode, View, Audio -->
                <div class="left-column">
                    <!-- Mode -->
                    <div class="control-section compact">
                        <h4 class="section-title collapsible" onclick="toggleSection('settings')">
                            üéõÔ∏è Mode <span class="toggle-icon" id="settings-icon">‚ñº</span>
                        </h4>
                        <div class="section-content" id="settings-content">
                            <div class="inline-controls">
                                <div class="control-group">
                                    <div class="control-group-header">
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <label style="display: flex; align-items: center; font-size: 12px;">
                                                <input type="radio" name="analysisMode" value="full" onchange="resetPatternsAndUpdate()" checked style="margin-right: 4px;">
                                                All Notes
                                            </label>
                                            <label style="display: flex; align-items: center; font-size: 12px;">
                                                <input type="radio" name="analysisMode" value="main_melody" onchange="resetPatternsAndUpdate()" style="margin-right: 4px;">
                                                Main Notes
                                            </label>
                                            <label style="display: flex; align-items: center; font-size: 12px;">
                                                <input type="radio" name="analysisMode" value="grace_units" onchange="resetPatternsAndUpdate()" style="margin-right: 4px;">
                                                Grace Units
                                            </label>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <!-- View Controls -->
                    <div class="control-section compact">
                        <h4 class="section-title collapsible" onclick="toggleSection('view')">
                            üîç View <span class="toggle-icon" id="view-icon">‚ñº</span>
                        </h4>
                        <div class="section-content" id="view-content">
                            <div class="inline-controls">
                                <div class="control-group">
                                    <div class="control-group-header">
                                        <label>X-Zoom:</label>
                                        <select id="zoomLevel" onchange="updateZoomFromSelect()">
                                            <option value="fit-width" selected>Fit</option>
                                            <option value="1.0">100%</option>
                                            <option value="0.6">60%</option>
                                            <option value="0.4">40%</option>
                                            <option value="0.2">20%</option>
                                            <option value="0.1">10%</option>
                                            <option value="custom">Custom</option>
                                        </select>
                                        <div style="position: relative; width: 100px;">
                                            <input type="range" id="xZoomSlider" min="5" max="200" value="100"
                                                   oninput="updateZoomFromSlider('x')" style="width: 100%;">
                                            <span id="xZoomValue" style="position: absolute; top: -5px; left: 0px; font-size: 11px; font-weight: 600; color: #495057; background: white; padding: 2px 4px; border-radius: 3px; border: 1px solid #ddd; pointer-events: none;">100%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <div class="control-group-header">
                                        <label>Y-Zoom:</label>
                                        <select id="yZoomLevel" onchange="updateYZoomFromSelect()">
                                            <option value="fit-height">Fit Height</option>
                                            <option value="0.05">5%</option>
                                            <option value="0.10">10%</option>
                                            <option value="0.15">15%</option>
                                            <option value="0.20">20%</option>
                                            <option value="0.30" selected>30%</option>
                                            <option value="0.40">40%</option>
                                            <option value="0.50">50%</option>
                                            <option value="0.67">67%</option>
                                            <option value="0.80">80%</option>
                                            <option value="1.0">100%</option>
                                            <option value="1.5">150%</option>
                                            <option value="2.0">200%</option>
                                            <option value="custom">Custom</option>
                                        </select>
                                        <div style="position: relative; width: 100px;">
                                            <input type="range" id="yZoomSlider" min="5" max="300" value="67"
                                                   oninput="updateZoomFromSlider('y')" style="width: 100%;">
                                            <span id="yZoomValue" style="position: absolute; top: -5px; left: 0px; font-size: 11px; font-weight: 600; color: #495057; background: white; padding: 2px 4px; border-radius: 3px; border: 1px solid #ddd; pointer-events: none;">67%</span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Audio Playback -->
                    <div class="control-section compact" style="padding: 5px;">
                        <h4 class="section-title collapsible" onclick="toggleSection('audio')" style="margin-bottom: 5px;">
                            üéµ Audio <span class="toggle-icon" id="audio-icon">‚ñº</span>
                        </h4>
                        <div class="section-content" id="audio-content">
                            <div style="display: flex; align-items: center; justify-content: space-between; gap: 8px;">
                                <!-- Left: Audio Controls -->
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    <button id="initAudioBtn" onclick="initializeAudio()" style="background: #e74c3c; color: white; padding: 4px 8px; font-size: 12px; border: none; border-radius: 3px;">üîä</button>
                                    <button id="playPauseBtn" onclick="togglePlayback()" disabled style="opacity: 0.5; cursor: not-allowed; padding: 4px 8px; font-size: 12px; border: none; border-radius: 3px;">‚ñ∂</button>
                                    <button id="stopBtn" onclick="stopPlayback()" disabled style="opacity: 0.5; cursor: not-allowed; padding: 4px 8px; font-size: 12px; border: none; border-radius: 3px;">‚èπ</button>
                                </div>

                                <!-- Right: Tempo -->
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    <span style="font-size: 11px;">Tempo:</span>
                                    <input type="range" id="tempoSlider" min="60" max="200" value="120" onchange="updateTempo()" style="width: 60px;">
                                    <span id="tempoValue" style="font-size: 11px; min-width: 30px;">120</span>
                                </div>
                            </div>

                            <!-- Auto-scroll toggle -->
                            <div style="margin-top: 8px;">
                                <label style="display: flex; align-items: center; gap: 5px; font-size: 11px;">
                                    <input type="checkbox" id="autoScrollToggle" checked onchange="saveAutoScrollPreference()">
                                    <span>Auto-scroll during playback</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Syllables, KPIC/KRIC -->
                <div class="right-column">
                    <!-- Syllable Analysis -->
                    <div class="control-section compact">
                        <h4 class="section-title collapsible" onclick="toggleSection('syllables')">
                            üìù Patterns <span class="toggle-icon" id="syllables-icon">‚ñº</span>
                        </h4>
                        <div class="section-content" id="syllables-content">
                            <div class="inline-controls">
                                <div class="control-group">
                                    <div class="control-group-header">
                                        <!-- Multi-Selection Checkboxes -->
                                        <div style="font-size: 11px; display: flex; gap: 8px; align-items: center;">

                                            <!-- Vietnamese Tones in compact line -->
                                            <label><input type="checkbox" id="multi_sac" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #e53e3e; font-weight: 600;">S·∫Øc</span></label>
                                            <label><input type="checkbox" id="multi_huyen" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #3182ce; font-weight: 600;">Huy·ªÅn</span></label>
                                            <label><input type="checkbox" id="multi_hoi" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #38a169; font-weight: 600;">H·ªèi</span></label>
                                            <label><input type="checkbox" id="multi_nga" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #d69e2e; font-weight: 600;">Ng√£</span></label>
                                            <label><input type="checkbox" id="multi_nang" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #805ad5; font-weight: 600;">N·∫∑ng</span></label>
                                            <label><input type="checkbox" id="multi_ngang" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #718096; font-weight: 600;">Ngang</span></label>

                                            <!-- Separator -->
                                            <span style="color: #ccc; margin: 0 5px;">|</span>

                                            <!-- Ornamentation -->
                                            <label><input type="checkbox" id="multi_grace" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #38a169; font-weight: 600;">Grace</span></label>
                                            <label><input type="checkbox" id="multi_melisma" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #d69e2e; font-weight: 600;">Melisma</span></label>

                                            <!-- Separator -->
                                            <span style="color: #ccc; margin: 0 5px;">|</span>

                                            <!-- Repeated Syllables -->
                                            <label><input type="checkbox" id="multi_repeated" onchange="handleMultiCheckbox()" style="margin-right: 2px; transform: scale(0.8);"><span style="color: #e53e3e; font-weight: 600;">Repeated:</span></label>
                                            <select id="multiRepeatedSelect" onchange="handleMultiCheckbox()" style="font-size: 10px; padding: 1px 2px;" disabled>
                                                <option value="">Choose...</option>
                                                <option value="b√†">"b√†" (13√ó)</option>
                                                <option value="∆°i">"∆°i" (7√ó)</option>
                                                <option value="c√°i">"c√°i" (6√ó)</option>
                                                <option value="R√≠">"R√≠" (6√ó)</option>
                                                <option value="R·∫±ng">"R·∫±ng" (5√ó)</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="pattern-selector" id="specificSyllableGroup" style="display: none;">
                                        <select id="specificSyllable" onchange="updateHighlighting()" multiple size="3">
                                        </select>
                                        <small>Hold Ctrl/Cmd for multiple</small>
                                    </div>

                                    <div class="pattern-selector" id="repeatedSyllableGroup" style="display: none;">
                                        <label>Syllable:</label>
                                        <select id="repeatedSyllableSelect" onchange="updateHighlighting()">
                                            <option value="">Choose syllable...</option>
                                            <option value="b√†">"b√†" (13√ó)</option>
                                            <option value="∆°i">"∆°i" (7√ó)</option>
                                            <option value="c√°i">"c√°i" (6√ó)</option>
                                            <option value="R√≠">"R√≠" (6√ó)</option>
                                            <option value="R·∫±ng">"R·∫±ng" (5√ó)</option>
                                            <option value="ch·ªìng">"ch·ªìng" (5√ó)</option>
                                            <option value="ƒëi">"ƒëi" (4√ó)</option>
                                            <option value="l√†m">"l√†m" (4√ó)</option>
                                            <option value="duy√™n">"duy√™n" (3√ó)</option>
                                            <option value="√¥ng">"√¥ng" (3√ó)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- KPIC/KRIC Pattern Sliders -->
                    <div style="padding: 5px; position: relative;">
                        <div style="display: block;">
                            <div class="pattern-sliders">
                            <div style="display: flex; gap: 20px; justify-content: center;">
                                <!-- KPIC Slider + Pattern Box -->
                                <div style="display: flex; flex-direction: column; width: 580px; position: relative;">
                                    <!-- KPIC Label on top -->
                                    <label style="font-size: 13px; font-weight: 700; color: #495057; position: absolute; top: -15px; left: 0px; background: white; padding: 2px 8px; border-radius: 3px; z-index: 10;">KPIC</label>
                                    <!-- KPIC Slider -->
                                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 3px; margin-top: -13px;">
                                        <div style="position: relative; width: 100%;">
                                            <input type="range" id="kpicSlider" min="0" max="136" value="0"
                                                   style="width: 100%;"
                                                   oninput="handleKpicSlider()" onchange="handleKpicSlider()">
                                            <span id="kpicSliderValue" style="position: absolute; top: 0px; left: 0px; font-size: 11px; font-weight: 600; color: #495057; background: white; padding: 2px 4px; border-radius: 3px; border: 1px solid #ddd; pointer-events: none; z-index: 10000;">0</span>
                                        </div>
                                    </div>
                                    <!-- KPIC Pattern Selection -->
                                    <div class="pattern-selector" id="kpicPatternGroup" style="margin-top: -20px;">
                                        <select id="specificKpicPattern" onchange="updateHighlighting()" multiple size="4" style="width: 100%; font-size: 11px; min-height: 80px;">
                                            <option disabled style="text-align: center; color: #6c757d;">Move KPIC slider to see patterns...</option>
                                        </select>
                                        <small style="color: #6c757d; font-size: 9px; display: block; margin-top: 2px;">Hold Ctrl/Cmd for multiple</small>
                                    </div>
                                </div>

                                <!-- KRIC Slider + Pattern Box -->
                                <div style="display: flex; flex-direction: column; width: 580px; position: relative;">
                                    <!-- KRIC Label on top -->
                                    <label style="font-size: 13px; font-weight: 700; color: #495057; position: absolute; top: -15px; left: 0px; background: white; padding: 2px 8px; border-radius: 3px; z-index: 10;">KRIC</label>
                                    <!-- KRIC Slider -->
                                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 3px; margin-top: -13px;">
                                        <div style="position: relative; width: 100%;">
                                            <input type="range" id="kricSlider" min="0" max="136" value="0"
                                                   style="width: 100%;"
                                                   oninput="handleKricSlider()" onchange="handleKricSlider()">
                                            <span id="kricSliderValue" style="position: absolute; top: 0px; left: 0px; font-size: 11px; font-weight: 600; color: #495057; background: white; padding: 2px 4px; border-radius: 3px; border: 1px solid #ddd; pointer-events: none; z-index: 10000;">0</span>
                                        </div>
                                    </div>
                                    <!-- KRIC Pattern Selection -->
                                    <div class="pattern-selector" id="kricPatternGroup" style="margin-top: -20px;">
                                        <select id="specificKricPattern" onchange="updateHighlighting()" multiple size="4" style="width: 100%; font-size: 11px; min-height: 80px;">
                                            <option disabled style="text-align: center; color: #6c757d;">Move KRIC slider to see patterns...</option>
                                        </select>
                                        <small style="color: #6c757d; font-size: 9px; display: block; margin-top: 2px;">Hold Ctrl/Cmd for multiple</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>

            </div>

            <div class="lyrics-edit-container">
            <div class="edit-instructions">
                <strong>üìù Interactive Lyrics:</strong> Click the "|" symbols to add/remove line breaks.
        
        <div id="legend" class="legend" style="display: none;">
            <h3>Color Legend</h3>
            <div class="legend-item"><span class="color-sample kpic-highlight"></span>KPIC Patterns</div>
            <div class="legend-item"><span class="color-sample kric-highlight"></span>KRIC Patterns</div>
            <div class="legend-item"><span class="color-sample syllable-repetition"></span>Repeated Syllables</div>
            <div class="legend-item"><span class="color-sample syllable-focus"></span>Focused Syllable</div>
            <div class="legend-item"><span class="color-sample grace-main-unit"></span>Grace-Main Units</div>
            <div class="legend-item"><span class="color-sample syllable-melismatic"></span>Melismatic Syllables</div>
            <div class="legend-item"><span class="color-sample grace-note"></span>Grace Notes</div>
        </div>

        <!-- Learning System Indicator -->
        <div id="learningIndicator" class="learning-indicator">
            Learning from your correction...
        </div>
        
        <div class="tablature-container">
            <svg width="11420" height="770.0" xmlns="http://www.w3.org/2000/svg" id="tablatureSvg" 
                      data-base-width="11420">
<defs>
    <linearGradient id="resonanceBand" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#008080;stop-opacity:0.8"/>
        <stop offset="25%" style="stop-color:#008080;stop-opacity:0.6"/>
        <stop offset="50%" style="stop-color:#008080;stop-opacity:0.4"/>
        <stop offset="75%" style="stop-color:#008080;stop-opacity:0.2"/>
        <stop offset="100%" style="stop-color:#008080;stop-opacity:0"/>
    </linearGradient>

    <linearGradient id="graceResonanceBand" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#FFD700;stop-opacity:0.6"/>
        <stop offset="50%" style="stop-color:#FFD700;stop-opacity:0.3"/>
        <stop offset="100%" style="stop-color:#FFD700;stop-opacity:0"/>
    </linearGradient>

    <!-- Highlighted resonance band gradients -->
    <linearGradient id="kpicResonanceBand" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#ff9800;stop-opacity:0.8"/>
        <stop offset="50%" style="stop-color:#ff9800;stop-opacity:0.4"/>
        <stop offset="100%" style="stop-color:#ff9800;stop-opacity:0.05"/>
    </linearGradient>

    <linearGradient id="kricResonanceBand" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#2196f3;stop-opacity:0.8"/>
        <stop offset="50%" style="stop-color:#2196f3;stop-opacity:0.4"/>
        <stop offset="100%" style="stop-color:#2196f3;stop-opacity:0.05"/>
    </linearGradient>

    <linearGradient id="focusResonanceBand" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#e91e63;stop-opacity:0.8"/>
        <stop offset="50%" style="stop-color:#e91e63;stop-opacity:0.4"/>
        <stop offset="100%" style="stop-color:#e91e63;stop-opacity:0.05"/>
    </linearGradient>

    <linearGradient id="melismaResonanceBand" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#9c27b0;stop-opacity:0.8"/>
        <stop offset="50%" style="stop-color:#9c27b0;stop-opacity:0.4"/>
        <stop offset="100%" style="stop-color:#9c27b0;stop-opacity:0.05"/>
    </linearGradient>
    
    <!-- Analysis highlight patterns -->
    <pattern id="kpicPattern" patternUnits="userSpaceOnUse" width="4" height="4">
        <rect width="4" height="4" fill="#ffeb3b" opacity="0.6"/>
        <path d="M 0,4 l 4,-4 M -1,1 l 2,-2 M 3,5 l 2,-2" stroke="#ff9800" stroke-width="1"/>
    </pattern>
    
    <pattern id="kricPattern" patternUnits="userSpaceOnUse" width="4" height="4">
        <rect width="4" height="4" fill="#e3f2fd" opacity="0.6"/>
        <circle cx="2" cy="2" r="1" fill="#2196f3"/>
    </pattern>
    
    <style>
        .string-line { stroke: #008ECC; stroke-width: 2; }
        .string-label { font-family: Arial; font-size: 12px; fill: #008ECC; }
        .title { font-family: Arial; font-size: 20px; font-weight: bold; fill: purple; }
        .string-number { font-family: Arial; font-size: 16px; fill: white; font-weight: 1200; stroke: #000; stroke-width: 0.3; }
        .note-circle { cursor: pointer; }
        .note-circle:hover { stroke-width: 4; }
        
        /* Analysis highlighting classes */
        .kpic-highlight {
            fill: #ffff00 !important;
            stroke: #ff0000 !important;
            stroke-width: 8 !important;
            filter: drop-shadow(0 0 15px #ff0000) drop-shadow(0 0 30px #ff0000) drop-shadow(0 0 45px #ff0000) !important;
            opacity: 1.0 !important;
        }
        .kric-highlight { fill: url(#kricPattern) !important; stroke: #2196f3 !important; stroke-width: 3 !important; }
        .syllable-repetition { stroke: #f44336 !important; stroke-width: 4 !important; }
        .syllable-focus { fill: #e91e63 !important; stroke: #ad1457 !important; stroke-width: 4 !important; }
        .syllable-melismatic { fill: #9c27b0 !important; stroke: #6a1b9a !important; stroke-width: 4 !important; }
        .grace-main-unit { fill: #4caf50 !important; stroke: #2e7d32 !important; stroke-width: 4 !important; }
        .note-dimmed { opacity: 0.5 !important; }
        .syllable-tone { stroke-width: 4 !important; }
        .tone-sac { stroke: #ff5722 !important; /* Rising tone - orange */ }
        .tone-huyen { stroke: #3f51b5 !important; /* Falling tone - blue */ }
        .tone-hoi { stroke: #009688 !important; /* Dipping tone - teal */ }
        .tone-nga { stroke: #ff9800 !important; /* Broken rising - amber */ }
        .tone-nang { stroke: #795548 !important; /* Heavy tone - brown */ }
        .tone-ngang { stroke: #607d8b !important; /* Flat tone - blue-grey */ }
        .pattern-member { opacity: 0.8; }
        
        /* Different colors for multiple patterns */
        .pattern-color-0 { stroke: #ff9800 !important; }
        .pattern-color-1 { stroke: #4caf50 !important; }
        .pattern-color-2 { stroke: #2196f3 !important; }
        .pattern-color-3 { stroke: #9c27b0 !important; }
        .pattern-color-4 { stroke: #f44336 !important; }
    </style>
</defs>

<rect width="11420" height="770.0" fill="floralwhite"/>
<text x="20" y="30" class="title">Analytical ƒê√†n Tranh Tablature</text>
<text x="20" y="50" style="font-family: Arial; font-size: 14px; fill: #666;">KPIC/KRIC Analysis with Interactive Highlighting</text>
<line x1="120" y1="110" x2="11400" y2="110" class="string-line" data-base-x2="11400" data-base-y1="110" data-base-y2="110"/>
<text x="20" y="115" class="string-label" data-base-y="115">String 5: D4</text>
<line x1="120" y1="260.0" x2="11400" y2="260.0" class="string-line" data-base-x2="11400" data-base-y1="260.0" data-base-y2="260.0"/>
<text x="20" y="265.0" class="string-label" data-base-y="265.0">String 7: G4</text>
<line x1="120" y1="320.0" x2="11400" y2="320.0" class="string-line" data-base-x2="11400" data-base-y1="320.0" data-base-y2="320.0"/>
<text x="20" y="325.0" class="string-label" data-base-y="325.0">String 8: A4</text>
<line x1="120" y1="410.0" x2="11400" y2="410.0" class="string-line" data-base-x2="11400" data-base-y1="410.0" data-base-y2="410.0"/>
<text x="20" y="415.0" class="string-label" data-base-y="415.0">String 9: C5</text>
<line x1="120" y1="470.0" x2="11400" y2="470.0" class="string-line" data-base-x2="11400" data-base-y1="470.0" data-base-y2="470.0"/>
<text x="20" y="475.0" class="string-label" data-base-y="475.0">String 10: D5</text>
<line x1="120" y1="530.0" x2="11400" y2="530.0" class="string-line" data-base-x2="11400" data-base-y1="530.0" data-base-y2="530.0"/>
<text x="20" y="535.0" class="string-label" data-base-y="535.0">String 11: E5</text>
<line x1="120" y1="620.0" x2="11400" y2="620.0" class="string-line" data-base-x2="11400" data-base-y1="620.0" data-base-y2="620.0"/>
<text x="20" y="625.0" class="string-label" data-base-y="625.0">String 12: G5</text>
<rect x="120" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="120" data-base-y="405.0"/>
<circle cx="120" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="0" data-is-grace="false" data-base-x="120" data-base-y="410.0" onclick="showNoteDetails(0)" id="note-0"/>
<text x="120" y="419" text-anchor="middle" class="string-number" data-base-x="120" data-base-y="415.0">9</text>
<text x="120" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="120" data-base-y="375.0">#0</text>
<text x="120" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="120" data-base-y="390.0">2</text>
<text x="124" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 124, 450.0)" data-base-x="124" data-base-y="450.0" class="lyric-text">B√†</text>
<rect x="205" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="205" data-base-y="405.0"/>
<circle cx="205" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="1" data-is-grace="false" data-base-x="205" data-base-y="410.0" onclick="showNoteDetails(1)" id="note-1"/>
<text x="205" y="419" text-anchor="middle" class="string-number" data-base-x="205" data-base-y="415.0">9</text>
<text x="205" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="205" data-base-y="375.0">#1</text>
<text x="205" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="205" data-base-y="390.0">2</text>
<text x="209" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 209, 450.0)" data-base-x="209" data-base-y="450.0" class="lyric-text">R·∫±ng</text>
<rect x="290" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="290" data-base-y="405.0"/>
<circle cx="290" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="2" data-is-grace="false" data-base-x="290" data-base-y="410.0" onclick="showNoteDetails(2)" id="note-2"/>
<text x="290" y="419" text-anchor="middle" class="string-number" data-base-x="290" data-base-y="415.0">9</text>
<text x="290" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="290" data-base-y="375.0">#2</text>
<text x="290" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="290" data-base-y="390.0">2</text>
<text x="294" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 294, 450.0)" data-base-x="294" data-base-y="450.0" class="lyric-text">b√†</text>
<rect x="375" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="375" data-base-y="467.0"/>
<circle cx="375" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="3" data-is-grace="true" data-base-x="375" data-base-y="470.0" onclick="showNoteDetails(3)" id="note-3"/>
<text x="375" y="479" text-anchor="middle" class="string-number" data-base-x="375" data-base-y="475.0">10</text>
<text x="375" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="375" data-base-y="435.0">#3</text>
<text x="375" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="375" data-base-y="450.0">0.5</text>
<rect x="400" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="400" data-base-y="525.0"/>
<circle cx="400" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="4" data-is-grace="false" data-base-x="400" data-base-y="530.0" onclick="showNoteDetails(4)" id="note-4"/>
<text x="400" y="539" text-anchor="middle" class="string-number" data-base-x="400" data-base-y="535.0">11</text>
<text x="400" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="400" data-base-y="495.0">#4</text>
<text x="400" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="400" data-base-y="510.0">8</text>
<text x="404" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 404, 570.0)" data-base-x="404" data-base-y="570.0" class="lyric-text">R√≠,</text>
<rect x="725" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="725" data-base-y="525.0"/>
<circle cx="725" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="5" data-is-grace="false" data-base-x="725" data-base-y="530.0" onclick="showNoteDetails(5)" id="note-5"/>
<text x="725" y="539" text-anchor="middle" class="string-number" data-base-x="725" data-base-y="535.0">11</text>
<text x="725" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="725" data-base-y="495.0">#5</text>
<text x="725" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="725" data-base-y="510.0">1</text>
<text x="729" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 729, 570.0)" data-base-x="729" data-base-y="570.0" class="lyric-text">·ªöi</text>
<rect x="770" y="615.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="770" data-base-y="615.0"/>
<circle cx="770" cy="620.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="6" data-is-grace="false" data-base-x="770" data-base-y="620.0" onclick="showNoteDetails(6)" id="note-6"/>
<text x="770" y="629" text-anchor="middle" class="string-number" data-base-x="770" data-base-y="625.0">12</text>
<text x="770" y="585.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="770" data-base-y="585.0">#6</text>
<text x="770" y="600.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="770" data-base-y="600.0">1</text>
<rect x="815" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="815" data-base-y="315.0"/>
<circle cx="815" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="7" data-is-grace="false" data-base-x="815" data-base-y="320.0" onclick="showNoteDetails(7)" id="note-7"/>
<text x="815" y="329" text-anchor="middle" class="string-number" data-base-x="815" data-base-y="325.0">8</text>
<text x="815" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="815" data-base-y="285.0">#7</text>
<text x="815" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="815" data-base-y="300.0">2</text>
<text x="819" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 819, 360.0)" data-base-x="819" data-base-y="360.0" class="lyric-text">r·∫±ng</text>
<rect x="900" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="900" data-base-y="405.0"/>
<circle cx="900" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="8" data-is-grace="false" data-base-x="900" data-base-y="410.0" onclick="showNoteDetails(8)" id="note-8"/>
<text x="900" y="419" text-anchor="middle" class="string-number" data-base-x="900" data-base-y="415.0">9</text>
<text x="900" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="900" data-base-y="375.0">#8</text>
<text x="900" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="900" data-base-y="390.0">2</text>
<text x="904" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 904, 450.0)" data-base-x="904" data-base-y="450.0" class="lyric-text">b√†</text>
<rect x="985" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="985" data-base-y="465.0"/>
<circle cx="985" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="9" data-is-grace="false" data-base-x="985" data-base-y="470.0" onclick="showNoteDetails(9)" id="note-9"/>
<text x="985" y="479" text-anchor="middle" class="string-number" data-base-x="985" data-base-y="475.0">10</text>
<text x="985" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="985" data-base-y="435.0">#9</text>
<text x="985" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="985" data-base-y="450.0">8</text>
<text x="989" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 989, 510.0)" data-base-x="989" data-base-y="510.0" class="lyric-text">ƒëi,</text>
<rect x="1310" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1310" data-base-y="467.0"/>
<circle cx="1310" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="10" data-is-grace="true" data-base-x="1310" data-base-y="470.0" onclick="showNoteDetails(10)" id="note-10"/>
<text x="1310" y="479" text-anchor="middle" class="string-number" data-base-x="1310" data-base-y="475.0">10</text>
<text x="1310" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1310" data-base-y="435.0">#10</text>
<text x="1310" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1310" data-base-y="450.0">0.5</text>
<rect x="1335" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1335" data-base-y="525.0"/>
<circle cx="1335" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="11" data-is-grace="false" data-base-x="1335" data-base-y="530.0" onclick="showNoteDetails(11)" id="note-11"/>
<text x="1335" y="539" text-anchor="middle" class="string-number" data-base-x="1335" data-base-y="535.0">11</text>
<text x="1335" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1335" data-base-y="495.0">#11</text>
<text x="1335" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1335" data-base-y="510.0">2</text>
<text x="1339" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1339, 570.0)" data-base-x="1339" data-base-y="570.0" class="lyric-text">·ªõi</text>
<rect x="1420" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1420" data-base-y="465.0"/>
<circle cx="1420" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="12" data-is-grace="false" data-base-x="1420" data-base-y="470.0" onclick="showNoteDetails(12)" id="note-12"/>
<text x="1420" y="479" text-anchor="middle" class="string-number" data-base-x="1420" data-base-y="475.0">10</text>
<text x="1420" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1420" data-base-y="435.0">#12</text>
<text x="1420" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1420" data-base-y="450.0">1</text>
<text x="1424" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1424, 510.0)" data-base-x="1424" data-base-y="510.0" class="lyric-text">ƒëi</text>
<rect x="1465" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1465" data-base-y="405.0"/>
<circle cx="1465" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="13" data-is-grace="false" data-base-x="1465" data-base-y="410.0" onclick="showNoteDetails(13)" id="note-13"/>
<text x="1465" y="419" text-anchor="middle" class="string-number" data-base-x="1465" data-base-y="415.0">9</text>
<text x="1465" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1465" data-base-y="375.0">#13</text>
<text x="1465" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1465" data-base-y="390.0">1</text>
<rect x="1510" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1510" data-base-y="315.0"/>
<circle cx="1510" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="14" data-is-grace="false" data-base-x="1510" data-base-y="320.0" onclick="showNoteDetails(14)" id="note-14"/>
<text x="1510" y="329" text-anchor="middle" class="string-number" data-base-x="1510" data-base-y="325.0">8</text>
<text x="1510" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1510" data-base-y="285.0">#14</text>
<text x="1510" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1510" data-base-y="300.0">2</text>
<text x="1514" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1514, 360.0)" data-base-x="1514" data-base-y="360.0" class="lyric-text">l√†</text>
<rect x="1595" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1595" data-base-y="405.0"/>
<circle cx="1595" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="15" data-is-grace="false" data-base-x="1595" data-base-y="410.0" onclick="showNoteDetails(15)" id="note-15"/>
<text x="1595" y="419" text-anchor="middle" class="string-number" data-base-x="1595" data-base-y="415.0">9</text>
<text x="1595" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1595" data-base-y="375.0">#15</text>
<text x="1595" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1595" data-base-y="390.0">2</text>
<text x="1599" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1599, 450.0)" data-base-x="1599" data-base-y="450.0" class="lyric-text">ƒë√¢u</text>
<rect x="1680" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1680" data-base-y="405.0"/>
<circle cx="1680" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="16" data-is-grace="false" data-base-x="1680" data-base-y="410.0" onclick="showNoteDetails(16)" id="note-16"/>
<text x="1680" y="419" text-anchor="middle" class="string-number" data-base-x="1680" data-base-y="415.0">9</text>
<text x="1680" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1680" data-base-y="375.0">#16</text>
<text x="1680" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1680" data-base-y="390.0">3</text>
<text x="1684" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1684, 450.0)" data-base-x="1684" data-base-y="450.0" class="lyric-text">b√†</text>
<rect x="1805" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1805" data-base-y="465.0"/>
<circle cx="1805" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="17" data-is-grace="false" data-base-x="1805" data-base-y="470.0" onclick="showNoteDetails(17)" id="note-17"/>
<text x="1805" y="479" text-anchor="middle" class="string-number" data-base-x="1805" data-base-y="475.0">10</text>
<text x="1805" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1805" data-base-y="435.0">#17</text>
<text x="1805" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1805" data-base-y="450.0">2</text>
<text x="1809" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1809, 510.0)" data-base-x="1809" data-base-y="510.0" class="lyric-text">ƒëi</text>
<rect x="1890" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1890" data-base-y="525.0"/>
<circle cx="1890" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="18" data-is-grace="false" data-base-x="1890" data-base-y="530.0" onclick="showNoteDetails(18)" id="note-18"/>
<text x="1890" y="539" text-anchor="middle" class="string-number" data-base-x="1890" data-base-y="535.0">11</text>
<text x="1890" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1890" data-base-y="495.0">#18</text>
<text x="1890" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1890" data-base-y="510.0">1</text>
<text x="1894" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1894, 570.0)" data-base-x="1894" data-base-y="570.0" class="lyric-text">kh·∫Øp</text>
<rect x="1935" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1935" data-base-y="467.0"/>
<circle cx="1935" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="19" data-is-grace="true" data-base-x="1935" data-base-y="470.0" onclick="showNoteDetails(19)" id="note-19"/>
<text x="1935" y="479" text-anchor="middle" class="string-number" data-base-x="1935" data-base-y="475.0">10</text>
<text x="1935" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1935" data-base-y="435.0">#19</text>
<text x="1935" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1935" data-base-y="450.0">0.5</text>
<rect x="1960" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="1960" data-base-y="525.0"/>
<circle cx="1960" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="20" data-is-grace="false" data-base-x="1960" data-base-y="530.0" onclick="showNoteDetails(20)" id="note-20"/>
<text x="1960" y="539" text-anchor="middle" class="string-number" data-base-x="1960" data-base-y="535.0">11</text>
<text x="1960" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="1960" data-base-y="495.0">#20</text>
<text x="1960" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="1960" data-base-y="510.0">2</text>
<text x="1964" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 1964, 570.0)" data-base-x="1964" data-base-y="570.0" class="lyric-text">ch·ªën</text>
<rect x="2045" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2045" data-base-y="467.0"/>
<circle cx="2045" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="21" data-is-grace="true" data-base-x="2045" data-base-y="470.0" onclick="showNoteDetails(21)" id="note-21"/>
<text x="2045" y="479" text-anchor="middle" class="string-number" data-base-x="2045" data-base-y="475.0">10</text>
<text x="2045" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2045" data-base-y="435.0">#21</text>
<text x="2045" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2045" data-base-y="450.0">0.5</text>
<rect x="2070" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2070" data-base-y="525.0"/>
<circle cx="2070" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="22" data-is-grace="false" data-base-x="2070" data-base-y="530.0" onclick="showNoteDetails(22)" id="note-22"/>
<text x="2070" y="539" text-anchor="middle" class="string-number" data-base-x="2070" data-base-y="535.0">11</text>
<text x="2070" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2070" data-base-y="495.0">#22</text>
<text x="2070" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2070" data-base-y="510.0">3</text>
<text x="2074" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2074, 570.0)" data-base-x="2074" data-base-y="570.0" class="lyric-text">n·ªëi</text>
<rect x="2195" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2195" data-base-y="465.0"/>
<circle cx="2195" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="23" data-is-grace="false" data-base-x="2195" data-base-y="470.0" onclick="showNoteDetails(23)" id="note-23"/>
<text x="2195" y="479" text-anchor="middle" class="string-number" data-base-x="2195" data-base-y="475.0">10</text>
<text x="2195" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2195" data-base-y="435.0">#23</text>
<text x="2195" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2195" data-base-y="450.0">2</text>
<text x="2199" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2199, 510.0)" data-base-x="2199" data-base-y="510.0" class="lyric-text">d√¢y</text>
<rect x="2280" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2280" data-base-y="405.0"/>
<circle cx="2280" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="24" data-is-grace="false" data-base-x="2280" data-base-y="410.0" onclick="showNoteDetails(24)" id="note-24"/>
<text x="2280" y="419" text-anchor="middle" class="string-number" data-base-x="2280" data-base-y="415.0">9</text>
<text x="2280" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2280" data-base-y="375.0">#24</text>
<text x="2280" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2280" data-base-y="390.0">1</text>
<text x="2284" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2284, 450.0)" data-base-x="2284" data-base-y="450.0" class="lyric-text">t∆°</text>
<rect x="2325" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2325" data-base-y="315.0"/>
<circle cx="2325" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="25" data-is-grace="false" data-base-x="2325" data-base-y="320.0" onclick="showNoteDetails(25)" id="note-25"/>
<text x="2325" y="329" text-anchor="middle" class="string-number" data-base-x="2325" data-base-y="325.0">8</text>
<text x="2325" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2325" data-base-y="285.0">#25</text>
<text x="2325" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2325" data-base-y="300.0">3</text>
<text x="2329" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2329, 360.0)" data-base-x="2329" data-base-y="360.0" class="lyric-text">h·ªìng</text>
<rect x="2450" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2450" data-base-y="405.0"/>
<circle cx="2450" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="26" data-is-grace="false" data-base-x="2450" data-base-y="410.0" onclick="showNoteDetails(26)" id="note-26"/>
<text x="2450" y="419" text-anchor="middle" class="string-number" data-base-x="2450" data-base-y="415.0">9</text>
<text x="2450" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2450" data-base-y="375.0">#26</text>
<text x="2450" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2450" data-base-y="390.0">1</text>
<text x="2454" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2454, 450.0)" data-base-x="2454" data-base-y="450.0" class="lyric-text">c√°i</text>
<rect x="2495" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2495" data-base-y="315.0"/>
<circle cx="2495" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="27" data-is-grace="false" data-base-x="2495" data-base-y="320.0" onclick="showNoteDetails(27)" id="note-27"/>
<text x="2495" y="329" text-anchor="middle" class="string-number" data-base-x="2495" data-base-y="325.0">8</text>
<text x="2495" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2495" data-base-y="285.0">#27</text>
<text x="2495" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2495" data-base-y="300.0">2</text>
<text x="2499" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2499, 360.0)" data-base-x="2499" data-base-y="360.0" class="lyric-text">duy√™n</text>
<rect x="2580" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2580" data-base-y="255.0"/>
<circle cx="2580" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="28" data-is-grace="false" data-base-x="2580" data-base-y="260.0" onclick="showNoteDetails(28)" id="note-28"/>
<text x="2580" y="269" text-anchor="middle" class="string-number" data-base-x="2580" data-base-y="265.0">7</text>
<text x="2580" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2580" data-base-y="225.0">#28</text>
<text x="2580" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2580" data-base-y="240.0">2</text>
<text x="2584" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2584, 300.0)" data-base-x="2584" data-base-y="300.0" class="lyric-text">√¥ng</text>
<rect x="2665" y="105.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2665" data-base-y="105.0"/>
<circle cx="2665" cy="110" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="29" data-is-grace="false" data-base-x="2665" data-base-y="110" onclick="showNoteDetails(29)" id="note-29"/>
<text x="2665" y="119" text-anchor="middle" class="string-number" data-base-x="2665" data-base-y="115.0">5</text>
<text x="2665" y="75" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2665" data-base-y="75">#29</text>
<text x="2665" y="90" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2665" data-base-y="90">2</text>
<text x="2669" y="150" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2669, 150)" data-base-x="2669" data-base-y="150" class="lyric-text">ch·ªìng</text>
<rect x="2750" y="105.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2750" data-base-y="105.0"/>
<circle cx="2750" cy="110" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="30" data-is-grace="false" data-base-x="2750" data-base-y="110" onclick="showNoteDetails(30)" id="note-30"/>
<text x="2750" y="119" text-anchor="middle" class="string-number" data-base-x="2750" data-base-y="115.0">5</text>
<text x="2750" y="75" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2750" data-base-y="75">#30</text>
<text x="2750" y="90" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2750" data-base-y="90">1</text>
<text x="2754" y="150" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2754, 150)" data-base-x="2754" data-base-y="150" class="lyric-text">l√†m</text>
<rect x="2795" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2795" data-base-y="255.0"/>
<circle cx="2795" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="31" data-is-grace="false" data-base-x="2795" data-base-y="260.0" onclick="showNoteDetails(31)" id="note-31"/>
<text x="2795" y="269" text-anchor="middle" class="string-number" data-base-x="2795" data-base-y="265.0">7</text>
<text x="2795" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2795" data-base-y="225.0">#31</text>
<text x="2795" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2795" data-base-y="240.0">1</text>
<text x="2799" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2799, 300.0)" data-base-x="2799" data-base-y="300.0" class="lyric-text">kh·ªï</text>
<rect x="2840" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2840" data-base-y="405.0"/>
<circle cx="2840" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="32" data-is-grace="false" data-base-x="2840" data-base-y="410.0" onclick="showNoteDetails(32)" id="note-32"/>
<text x="2840" y="419" text-anchor="middle" class="string-number" data-base-x="2840" data-base-y="415.0">9</text>
<text x="2840" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2840" data-base-y="375.0">#32</text>
<text x="2840" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2840" data-base-y="390.0">1</text>
<rect x="2885" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2885" data-base-y="405.0"/>
<circle cx="2885" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="33" data-is-grace="false" data-base-x="2885" data-base-y="410.0" onclick="showNoteDetails(33)" id="note-33"/>
<text x="2885" y="419" text-anchor="middle" class="string-number" data-base-x="2885" data-base-y="415.0">9</text>
<text x="2885" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2885" data-base-y="375.0">#33</text>
<text x="2885" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2885" data-base-y="390.0">1</text>
<text x="2889" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2889, 450.0)" data-base-x="2889" data-base-y="450.0" class="lyric-text">c√°i</text>
<rect x="2930" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="2930" data-base-y="255.0"/>
<circle cx="2930" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="34" data-is-grace="false" data-base-x="2930" data-base-y="260.0" onclick="showNoteDetails(34)" id="note-34"/>
<text x="2930" y="269" text-anchor="middle" class="string-number" data-base-x="2930" data-base-y="265.0">7</text>
<text x="2930" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="2930" data-base-y="225.0">#34</text>
<text x="2930" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="2930" data-base-y="240.0">2</text>
<text x="2934" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 2934, 300.0)" data-base-x="2934" data-base-y="300.0" class="lyric-text">ƒë·ªùi</text>
<rect x="3015" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3015" data-base-y="315.0"/>
<circle cx="3015" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="35" data-is-grace="false" data-base-x="3015" data-base-y="320.0" onclick="showNoteDetails(35)" id="note-35"/>
<text x="3015" y="329" text-anchor="middle" class="string-number" data-base-x="3015" data-base-y="325.0">8</text>
<text x="3015" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3015" data-base-y="285.0">#35</text>
<text x="3015" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3015" data-base-y="300.0">3</text>
<text x="3019" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3019, 360.0)" data-base-x="3019" data-base-y="360.0" class="lyric-text">t√¥i</text>
<rect x="3140" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3140" data-base-y="405.0"/>
<circle cx="3140" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="36" data-is-grace="false" data-base-x="3140" data-base-y="410.0" onclick="showNoteDetails(36)" id="note-36"/>
<text x="3140" y="419" text-anchor="middle" class="string-number" data-base-x="3140" data-base-y="415.0">9</text>
<text x="3140" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3140" data-base-y="375.0">#36</text>
<text x="3140" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3140" data-base-y="390.0">2</text>
<text x="3144" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3144, 450.0)" data-base-x="3144" data-base-y="450.0" class="lyric-text">∆°i</text>
<rect x="3225" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3225" data-base-y="255.0"/>
<circle cx="3225" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="37" data-is-grace="false" data-base-x="3225" data-base-y="260.0" onclick="showNoteDetails(37)" id="note-37"/>
<text x="3225" y="269" text-anchor="middle" class="string-number" data-base-x="3225" data-base-y="265.0">7</text>
<text x="3225" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3225" data-base-y="225.0">#37</text>
<text x="3225" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3225" data-base-y="240.0">2</text>
<text x="3229" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3229, 300.0)" data-base-x="3229" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="3310" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3310" data-base-y="405.0"/>
<circle cx="3310" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="38" data-is-grace="false" data-base-x="3310" data-base-y="410.0" onclick="showNoteDetails(38)" id="note-38"/>
<text x="3310" y="419" text-anchor="middle" class="string-number" data-base-x="3310" data-base-y="415.0">9</text>
<text x="3310" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3310" data-base-y="375.0">#38</text>
<text x="3310" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3310" data-base-y="390.0">1</text>
<text x="3314" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3314, 450.0)" data-base-x="3314" data-base-y="450.0" class="lyric-text">R√≠</text>
<rect x="3355" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3355" data-base-y="315.0"/>
<circle cx="3355" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="39" data-is-grace="false" data-base-x="3355" data-base-y="320.0" onclick="showNoteDetails(39)" id="note-39"/>
<text x="3355" y="329" text-anchor="middle" class="string-number" data-base-x="3355" data-base-y="325.0">8</text>
<text x="3355" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3355" data-base-y="285.0">#39</text>
<text x="3355" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3355" data-base-y="300.0">3</text>
<text x="3359" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3359, 360.0)" data-base-x="3359" data-base-y="360.0" class="lyric-text">∆°i</text>
<rect x="3480" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3480" data-base-y="255.0"/>
<circle cx="3480" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="40" data-is-grace="false" data-base-x="3480" data-base-y="260.0" onclick="showNoteDetails(40)" id="note-40"/>
<text x="3480" y="269" text-anchor="middle" class="string-number" data-base-x="3480" data-base-y="265.0">7</text>
<text x="3480" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3480" data-base-y="225.0">#40</text>
<text x="3480" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3480" data-base-y="240.0">1</text>
<text x="3484" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3484, 300.0)" data-base-x="3484" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="3525" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3525" data-base-y="255.0"/>
<circle cx="3525" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="41" data-is-grace="false" data-base-x="3525" data-base-y="260.0" onclick="showNoteDetails(41)" id="note-41"/>
<text x="3525" y="269" text-anchor="middle" class="string-number" data-base-x="3525" data-base-y="265.0">7</text>
<text x="3525" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3525" data-base-y="225.0">#41</text>
<text x="3525" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3525" data-base-y="240.0">1</text>
<text x="3529" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3529, 300.0)" data-base-x="3529" data-base-y="300.0" class="lyric-text">R·∫±ng</text>
<rect x="3570" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3570" data-base-y="255.0"/>
<circle cx="3570" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="42" data-is-grace="false" data-base-x="3570" data-base-y="260.0" onclick="showNoteDetails(42)" id="note-42"/>
<text x="3570" y="269" text-anchor="middle" class="string-number" data-base-x="3570" data-base-y="265.0">7</text>
<text x="3570" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3570" data-base-y="225.0">#42</text>
<text x="3570" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3570" data-base-y="240.0">1</text>
<text x="3574" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3574, 300.0)" data-base-x="3574" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="3615" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3615" data-base-y="405.0"/>
<circle cx="3615" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="43" data-is-grace="false" data-base-x="3615" data-base-y="410.0" onclick="showNoteDetails(43)" id="note-43"/>
<text x="3615" y="419" text-anchor="middle" class="string-number" data-base-x="3615" data-base-y="415.0">9</text>
<text x="3615" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3615" data-base-y="375.0">#43</text>
<text x="3615" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3615" data-base-y="390.0">2</text>
<text x="3619" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3619, 450.0)" data-base-x="3619" data-base-y="450.0" class="lyric-text">R√≠</text>
<rect x="3700" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3700" data-base-y="315.0"/>
<circle cx="3700" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="44" data-is-grace="false" data-base-x="3700" data-base-y="320.0" onclick="showNoteDetails(44)" id="note-44"/>
<text x="3700" y="329" text-anchor="middle" class="string-number" data-base-x="3700" data-base-y="325.0">8</text>
<text x="3700" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3700" data-base-y="285.0">#44</text>
<text x="3700" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3700" data-base-y="300.0">1</text>
<text x="3704" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3704, 360.0)" data-base-x="3704" data-base-y="360.0" class="lyric-text">∆°i.</text>
<rect x="3745" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3745" data-base-y="405.0"/>
<circle cx="3745" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="45" data-is-grace="false" data-base-x="3745" data-base-y="410.0" onclick="showNoteDetails(45)" id="note-45"/>
<text x="3745" y="419" text-anchor="middle" class="string-number" data-base-x="3745" data-base-y="415.0">9</text>
<text x="3745" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3745" data-base-y="375.0">#45</text>
<text x="3745" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3745" data-base-y="390.0">2</text>
<text x="3749" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3749, 450.0)" data-base-x="3749" data-base-y="450.0" class="lyric-text">Ch·ªìng</text>
<rect x="3830" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3830" data-base-y="405.0"/>
<circle cx="3830" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="46" data-is-grace="false" data-base-x="3830" data-base-y="410.0" onclick="showNoteDetails(46)" id="note-46"/>
<text x="3830" y="419" text-anchor="middle" class="string-number" data-base-x="3830" data-base-y="415.0">9</text>
<text x="3830" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3830" data-base-y="375.0">#46</text>
<text x="3830" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3830" data-base-y="390.0">1</text>
<text x="3834" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3834, 450.0)" data-base-x="3834" data-base-y="450.0" class="lyric-text">g√¨</text>
<rect x="3875" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3875" data-base-y="405.0"/>
<circle cx="3875" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="47" data-is-grace="false" data-base-x="3875" data-base-y="410.0" onclick="showNoteDetails(47)" id="note-47"/>
<text x="3875" y="419" text-anchor="middle" class="string-number" data-base-x="3875" data-base-y="415.0">9</text>
<text x="3875" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3875" data-base-y="375.0">#47</text>
<text x="3875" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3875" data-base-y="390.0">1</text>
<text x="3879" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3879, 450.0)" data-base-x="3879" data-base-y="450.0" class="lyric-text">m√†</text>
<rect x="3920" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="3920" data-base-y="405.0"/>
<circle cx="3920" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="48" data-is-grace="false" data-base-x="3920" data-base-y="410.0" onclick="showNoteDetails(48)" id="note-48"/>
<text x="3920" y="419" text-anchor="middle" class="string-number" data-base-x="3920" data-base-y="415.0">9</text>
<text x="3920" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="3920" data-base-y="375.0">#48</text>
<text x="3920" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="3920" data-base-y="390.0">2</text>
<text x="3924" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 3924, 450.0)" data-base-x="3924" data-base-y="450.0" class="lyric-text">ch·ªìng</text>
<rect x="4005" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4005" data-base-y="467.0"/>
<circle cx="4005" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="49" data-is-grace="true" data-base-x="4005" data-base-y="470.0" onclick="showNoteDetails(49)" id="note-49"/>
<text x="4005" y="479" text-anchor="middle" class="string-number" data-base-x="4005" data-base-y="475.0">10</text>
<text x="4005" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4005" data-base-y="435.0">#49</text>
<text x="4005" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4005" data-base-y="450.0">0.5</text>
<rect x="4030" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4030" data-base-y="525.0"/>
<circle cx="4030" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="50" data-is-grace="false" data-base-x="4030" data-base-y="530.0" onclick="showNoteDetails(50)" id="note-50"/>
<text x="4030" y="539" text-anchor="middle" class="string-number" data-base-x="4030" data-base-y="535.0">11</text>
<text x="4030" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4030" data-base-y="495.0">#50</text>
<text x="4030" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4030" data-base-y="510.0">8</text>
<text x="4034" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 4034, 570.0)" data-base-x="4034" data-base-y="570.0" class="lyric-text">b√©,</text>
<rect x="4355" y="527.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4355" data-base-y="527.0"/>
<circle cx="4355" cy="530.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="51" data-is-grace="true" data-base-x="4355" data-base-y="530.0" onclick="showNoteDetails(51)" id="note-51"/>
<text x="4355" y="539" text-anchor="middle" class="string-number" data-base-x="4355" data-base-y="535.0">11</text>
<text x="4355" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4355" data-base-y="495.0">#51</text>
<text x="4355" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4355" data-base-y="510.0">0.5</text>
<rect x="4380" y="615.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4380" data-base-y="615.0"/>
<circle cx="4380" cy="620.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="52" data-is-grace="false" data-base-x="4380" data-base-y="620.0" onclick="showNoteDetails(52)" id="note-52"/>
<text x="4380" y="629" text-anchor="middle" class="string-number" data-base-x="4380" data-base-y="625.0">12</text>
<text x="4380" y="585.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4380" data-base-y="585.0">#52</text>
<text x="4380" y="600.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4380" data-base-y="600.0">2</text>
<text x="4384" y="660.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 4384, 660.0)" data-base-x="4384" data-base-y="660.0" class="lyric-text">b√©</text>
<rect x="4465" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4465" data-base-y="315.0"/>
<circle cx="4465" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="53" data-is-grace="false" data-base-x="4465" data-base-y="320.0" onclick="showNoteDetails(53)" id="note-53"/>
<text x="4465" y="329" text-anchor="middle" class="string-number" data-base-x="4465" data-base-y="325.0">8</text>
<text x="4465" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4465" data-base-y="285.0">#53</text>
<text x="4465" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4465" data-base-y="300.0">2</text>
<text x="4469" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 4469, 360.0)" data-base-x="4469" data-base-y="360.0" class="lyric-text">t·∫πo</text>
<rect x="4550" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4550" data-base-y="405.0"/>
<circle cx="4550" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="54" data-is-grace="false" data-base-x="4550" data-base-y="410.0" onclick="showNoteDetails(54)" id="note-54"/>
<text x="4550" y="419" text-anchor="middle" class="string-number" data-base-x="4550" data-base-y="415.0">9</text>
<text x="4550" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4550" data-base-y="375.0">#54</text>
<text x="4550" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4550" data-base-y="390.0">2</text>
<text x="4554" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 4554, 450.0)" data-base-x="4554" data-base-y="450.0" class="lyric-text">t√®o</text>
<rect x="4635" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4635" data-base-y="465.0"/>
<circle cx="4635" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="55" data-is-grace="false" data-base-x="4635" data-base-y="470.0" onclick="showNoteDetails(55)" id="note-55"/>
<text x="4635" y="479" text-anchor="middle" class="string-number" data-base-x="4635" data-base-y="475.0">10</text>
<text x="4635" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4635" data-base-y="435.0">#55</text>
<text x="4635" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4635" data-base-y="450.0">8</text>
<text x="4639" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 4639, 510.0)" data-base-x="4639" data-base-y="510.0" class="lyric-text">teo,</text>
<rect x="4960" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="4960" data-base-y="405.0"/>
<circle cx="4960" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="56" data-is-grace="false" data-base-x="4960" data-base-y="410.0" onclick="showNoteDetails(56)" id="note-56"/>
<text x="4960" y="419" text-anchor="middle" class="string-number" data-base-x="4960" data-base-y="415.0">9</text>
<text x="4960" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="4960" data-base-y="375.0">#56</text>
<text x="4960" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="4960" data-base-y="390.0">3</text>
<text x="4964" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 4964, 450.0)" data-base-x="4964" data-base-y="450.0" class="lyric-text">ch√¢n</text>
<rect x="5085" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5085" data-base-y="405.0"/>
<circle cx="5085" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="57" data-is-grace="false" data-base-x="5085" data-base-y="410.0" onclick="showNoteDetails(57)" id="note-57"/>
<text x="5085" y="419" text-anchor="middle" class="string-number" data-base-x="5085" data-base-y="415.0">9</text>
<text x="5085" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5085" data-base-y="375.0">#57</text>
<text x="5085" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5085" data-base-y="390.0">2</text>
<text x="5089" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5089, 450.0)" data-base-x="5089" data-base-y="450.0" class="lyric-text">ƒëi</text>
<rect x="5170" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5170" data-base-y="315.0"/>
<circle cx="5170" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="58" data-is-grace="false" data-base-x="5170" data-base-y="320.0" onclick="showNoteDetails(58)" id="note-58"/>
<text x="5170" y="329" text-anchor="middle" class="string-number" data-base-x="5170" data-base-y="325.0">8</text>
<text x="5170" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5170" data-base-y="285.0">#58</text>
<text x="5170" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5170" data-base-y="300.0">1</text>
<text x="5174" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5174, 360.0)" data-base-x="5174" data-base-y="360.0" class="lyric-text">c√†</text>
<rect x="5215" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5215" data-base-y="405.0"/>
<circle cx="5215" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="59" data-is-grace="false" data-base-x="5215" data-base-y="410.0" onclick="showNoteDetails(59)" id="note-59"/>
<text x="5215" y="419" text-anchor="middle" class="string-number" data-base-x="5215" data-base-y="415.0">9</text>
<text x="5215" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5215" data-base-y="375.0">#59</text>
<text x="5215" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5215" data-base-y="390.0">2</text>
<text x="5219" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5219, 450.0)" data-base-x="5219" data-base-y="450.0" class="lyric-text">kheo</text>
<rect x="5300" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5300" data-base-y="467.0"/>
<circle cx="5300" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="60" data-is-grace="true" data-base-x="5300" data-base-y="470.0" onclick="showNoteDetails(60)" id="note-60"/>
<text x="5300" y="479" text-anchor="middle" class="string-number" data-base-x="5300" data-base-y="475.0">10</text>
<text x="5300" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5300" data-base-y="435.0">#60</text>
<text x="5300" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5300" data-base-y="450.0">0.5</text>
<rect x="5325" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5325" data-base-y="525.0"/>
<circle cx="5325" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="61" data-is-grace="false" data-base-x="5325" data-base-y="530.0" onclick="showNoteDetails(61)" id="note-61"/>
<text x="5325" y="539" text-anchor="middle" class="string-number" data-base-x="5325" data-base-y="535.0">11</text>
<text x="5325" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5325" data-base-y="495.0">#61</text>
<text x="5325" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5325" data-base-y="510.0">3</text>
<text x="5329" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5329, 570.0)" data-base-x="5329" data-base-y="570.0" class="lyric-text">l√∫c</text>
<rect x="5450" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5450" data-base-y="465.0"/>
<circle cx="5450" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="62" data-is-grace="false" data-base-x="5450" data-base-y="470.0" onclick="showNoteDetails(62)" id="note-62"/>
<text x="5450" y="479" text-anchor="middle" class="string-number" data-base-x="5450" data-base-y="475.0">10</text>
<text x="5450" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5450" data-base-y="435.0">#62</text>
<text x="5450" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5450" data-base-y="450.0">2</text>
<text x="5454" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5454, 510.0)" data-base-x="5454" data-base-y="510.0" class="lyric-text">ƒëi</text>
<rect x="5535" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5535" data-base-y="405.0"/>
<circle cx="5535" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="63" data-is-grace="false" data-base-x="5535" data-base-y="410.0" onclick="showNoteDetails(63)" id="note-63"/>
<text x="5535" y="419" text-anchor="middle" class="string-number" data-base-x="5535" data-base-y="415.0">9</text>
<text x="5535" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5535" data-base-y="375.0">#63</text>
<text x="5535" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5535" data-base-y="390.0">1</text>
<text x="5539" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5539, 450.0)" data-base-x="5539" data-base-y="450.0" class="lyric-text">ph·∫£i</text>
<rect x="5580" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5580" data-base-y="525.0"/>
<circle cx="5580" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="64" data-is-grace="false" data-base-x="5580" data-base-y="530.0" onclick="showNoteDetails(64)" id="note-64"/>
<text x="5580" y="539" text-anchor="middle" class="string-number" data-base-x="5580" data-base-y="535.0">11</text>
<text x="5580" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5580" data-base-y="495.0">#64</text>
<text x="5580" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5580" data-base-y="510.0">2</text>
<text x="5584" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5584, 570.0)" data-base-x="5584" data-base-y="570.0" class="lyric-text">c√µng</text>
<rect x="5665" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5665" data-base-y="525.0"/>
<circle cx="5665" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="65" data-is-grace="false" data-base-x="5665" data-base-y="530.0" onclick="showNoteDetails(65)" id="note-65"/>
<text x="5665" y="539" text-anchor="middle" class="string-number" data-base-x="5665" data-base-y="535.0">11</text>
<text x="5665" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5665" data-base-y="495.0">#65</text>
<text x="5665" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5665" data-base-y="510.0">3</text>
<text x="5669" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5669, 570.0)" data-base-x="5669" data-base-y="570.0" class="lyric-text">l√∫c</text>
<rect x="5790" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5790" data-base-y="465.0"/>
<circle cx="5790" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="66" data-is-grace="false" data-base-x="5790" data-base-y="470.0" onclick="showNoteDetails(66)" id="note-66"/>
<text x="5790" y="479" text-anchor="middle" class="string-number" data-base-x="5790" data-base-y="475.0">10</text>
<text x="5790" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5790" data-base-y="435.0">#66</text>
<text x="5790" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5790" data-base-y="450.0">2</text>
<text x="5794" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5794, 510.0)" data-base-x="5794" data-base-y="510.0" class="lyric-text">kh√≥c</text>
<rect x="5875" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5875" data-base-y="405.0"/>
<circle cx="5875" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="67" data-is-grace="false" data-base-x="5875" data-base-y="410.0" onclick="showNoteDetails(67)" id="note-67"/>
<text x="5875" y="419" text-anchor="middle" class="string-number" data-base-x="5875" data-base-y="415.0">9</text>
<text x="5875" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5875" data-base-y="375.0">#67</text>
<text x="5875" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5875" data-base-y="390.0">1</text>
<text x="5879" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5879, 450.0)" data-base-x="5879" data-base-y="450.0" class="lyric-text">ph·∫£i</text>
<rect x="5920" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="5920" data-base-y="315.0"/>
<circle cx="5920" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="68" data-is-grace="false" data-base-x="5920" data-base-y="320.0" onclick="showNoteDetails(68)" id="note-68"/>
<text x="5920" y="329" text-anchor="middle" class="string-number" data-base-x="5920" data-base-y="325.0">8</text>
<text x="5920" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="5920" data-base-y="285.0">#68</text>
<text x="5920" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="5920" data-base-y="300.0">3</text>
<text x="5924" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 5924, 360.0)" data-base-x="5924" data-base-y="360.0" class="lyric-text">b·ªìng</text>
<rect x="6045" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6045" data-base-y="405.0"/>
<circle cx="6045" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="69" data-is-grace="false" data-base-x="6045" data-base-y="410.0" onclick="showNoteDetails(69)" id="note-69"/>
<text x="6045" y="419" text-anchor="middle" class="string-number" data-base-x="6045" data-base-y="415.0">9</text>
<text x="6045" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6045" data-base-y="375.0">#69</text>
<text x="6045" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6045" data-base-y="390.0">1</text>
<text x="6049" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6049, 450.0)" data-base-x="6049" data-base-y="450.0" class="lyric-text">c√°i</text>
<rect x="6090" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6090" data-base-y="315.0"/>
<circle cx="6090" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="70" data-is-grace="false" data-base-x="6090" data-base-y="320.0" onclick="showNoteDetails(70)" id="note-70"/>
<text x="6090" y="329" text-anchor="middle" class="string-number" data-base-x="6090" data-base-y="325.0">8</text>
<text x="6090" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6090" data-base-y="285.0">#70</text>
<text x="6090" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6090" data-base-y="300.0">2</text>
<text x="6094" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6094, 360.0)" data-base-x="6094" data-base-y="360.0" class="lyric-text">duy√™n</text>
<rect x="6175" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6175" data-base-y="255.0"/>
<circle cx="6175" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="71" data-is-grace="false" data-base-x="6175" data-base-y="260.0" onclick="showNoteDetails(71)" id="note-71"/>
<text x="6175" y="269" text-anchor="middle" class="string-number" data-base-x="6175" data-base-y="265.0">7</text>
<text x="6175" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6175" data-base-y="225.0">#71</text>
<text x="6175" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6175" data-base-y="240.0">2</text>
<text x="6179" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6179, 300.0)" data-base-x="6179" data-base-y="300.0" class="lyric-text">√¥ng</text>
<rect x="6260" y="105.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6260" data-base-y="105.0"/>
<circle cx="6260" cy="110" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="72" data-is-grace="false" data-base-x="6260" data-base-y="110" onclick="showNoteDetails(72)" id="note-72"/>
<text x="6260" y="119" text-anchor="middle" class="string-number" data-base-x="6260" data-base-y="115.0">5</text>
<text x="6260" y="75" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6260" data-base-y="75">#72</text>
<text x="6260" y="90" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6260" data-base-y="90">2</text>
<text x="6264" y="150" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6264, 150)" data-base-x="6264" data-base-y="150" class="lyric-text">ch·ªìng</text>
<rect x="6345" y="105.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6345" data-base-y="105.0"/>
<circle cx="6345" cy="110" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="73" data-is-grace="false" data-base-x="6345" data-base-y="110" onclick="showNoteDetails(73)" id="note-73"/>
<text x="6345" y="119" text-anchor="middle" class="string-number" data-base-x="6345" data-base-y="115.0">5</text>
<text x="6345" y="75" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6345" data-base-y="75">#73</text>
<text x="6345" y="90" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6345" data-base-y="90">1</text>
<text x="6349" y="150" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6349, 150)" data-base-x="6349" data-base-y="150" class="lyric-text">l√†m</text>
<rect x="6390" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6390" data-base-y="255.0"/>
<circle cx="6390" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="74" data-is-grace="false" data-base-x="6390" data-base-y="260.0" onclick="showNoteDetails(74)" id="note-74"/>
<text x="6390" y="269" text-anchor="middle" class="string-number" data-base-x="6390" data-base-y="265.0">7</text>
<text x="6390" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6390" data-base-y="225.0">#74</text>
<text x="6390" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6390" data-base-y="240.0">1</text>
<text x="6394" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6394, 300.0)" data-base-x="6394" data-base-y="300.0" class="lyric-text">kh·ªï</text>
<rect x="6435" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6435" data-base-y="405.0"/>
<circle cx="6435" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="75" data-is-grace="false" data-base-x="6435" data-base-y="410.0" onclick="showNoteDetails(75)" id="note-75"/>
<text x="6435" y="419" text-anchor="middle" class="string-number" data-base-x="6435" data-base-y="415.0">9</text>
<text x="6435" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6435" data-base-y="375.0">#75</text>
<text x="6435" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6435" data-base-y="390.0">1</text>
<rect x="6480" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6480" data-base-y="405.0"/>
<circle cx="6480" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="76" data-is-grace="false" data-base-x="6480" data-base-y="410.0" onclick="showNoteDetails(76)" id="note-76"/>
<text x="6480" y="419" text-anchor="middle" class="string-number" data-base-x="6480" data-base-y="415.0">9</text>
<text x="6480" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6480" data-base-y="375.0">#76</text>
<text x="6480" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6480" data-base-y="390.0">1</text>
<text x="6484" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6484, 450.0)" data-base-x="6484" data-base-y="450.0" class="lyric-text">c√°i</text>
<rect x="6525" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6525" data-base-y="255.0"/>
<circle cx="6525" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="77" data-is-grace="false" data-base-x="6525" data-base-y="260.0" onclick="showNoteDetails(77)" id="note-77"/>
<text x="6525" y="269" text-anchor="middle" class="string-number" data-base-x="6525" data-base-y="265.0">7</text>
<text x="6525" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6525" data-base-y="225.0">#77</text>
<text x="6525" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6525" data-base-y="240.0">2</text>
<text x="6529" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6529, 300.0)" data-base-x="6529" data-base-y="300.0" class="lyric-text">ƒë·ªùi</text>
<rect x="6610" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6610" data-base-y="315.0"/>
<circle cx="6610" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="78" data-is-grace="false" data-base-x="6610" data-base-y="320.0" onclick="showNoteDetails(78)" id="note-78"/>
<text x="6610" y="329" text-anchor="middle" class="string-number" data-base-x="6610" data-base-y="325.0">8</text>
<text x="6610" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6610" data-base-y="285.0">#78</text>
<text x="6610" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6610" data-base-y="300.0">3</text>
<text x="6614" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6614, 360.0)" data-base-x="6614" data-base-y="360.0" class="lyric-text">t√¥i</text>
<rect x="6735" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6735" data-base-y="405.0"/>
<circle cx="6735" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="79" data-is-grace="false" data-base-x="6735" data-base-y="410.0" onclick="showNoteDetails(79)" id="note-79"/>
<text x="6735" y="419" text-anchor="middle" class="string-number" data-base-x="6735" data-base-y="415.0">9</text>
<text x="6735" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6735" data-base-y="375.0">#79</text>
<text x="6735" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6735" data-base-y="390.0">2</text>
<text x="6739" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6739, 450.0)" data-base-x="6739" data-base-y="450.0" class="lyric-text">∆°i</text>
<rect x="6820" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6820" data-base-y="255.0"/>
<circle cx="6820" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="80" data-is-grace="false" data-base-x="6820" data-base-y="260.0" onclick="showNoteDetails(80)" id="note-80"/>
<text x="6820" y="269" text-anchor="middle" class="string-number" data-base-x="6820" data-base-y="265.0">7</text>
<text x="6820" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6820" data-base-y="225.0">#80</text>
<text x="6820" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6820" data-base-y="240.0">1</text>
<text x="6824" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6824, 300.0)" data-base-x="6824" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="6865" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6865" data-base-y="405.0"/>
<circle cx="6865" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="81" data-is-grace="false" data-base-x="6865" data-base-y="410.0" onclick="showNoteDetails(81)" id="note-81"/>
<text x="6865" y="419" text-anchor="middle" class="string-number" data-base-x="6865" data-base-y="415.0">9</text>
<text x="6865" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6865" data-base-y="375.0">#81</text>
<text x="6865" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6865" data-base-y="390.0">2</text>
<text x="6869" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6869, 450.0)" data-base-x="6869" data-base-y="450.0" class="lyric-text">R√≠</text>
<rect x="6950" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="6950" data-base-y="315.0"/>
<circle cx="6950" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="82" data-is-grace="false" data-base-x="6950" data-base-y="320.0" onclick="showNoteDetails(82)" id="note-82"/>
<text x="6950" y="329" text-anchor="middle" class="string-number" data-base-x="6950" data-base-y="325.0">8</text>
<text x="6950" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="6950" data-base-y="285.0">#82</text>
<text x="6950" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="6950" data-base-y="300.0">3</text>
<text x="6954" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 6954, 360.0)" data-base-x="6954" data-base-y="360.0" class="lyric-text">∆°i</text>
<rect x="7075" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7075" data-base-y="255.0"/>
<circle cx="7075" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="83" data-is-grace="false" data-base-x="7075" data-base-y="260.0" onclick="showNoteDetails(83)" id="note-83"/>
<text x="7075" y="269" text-anchor="middle" class="string-number" data-base-x="7075" data-base-y="265.0">7</text>
<text x="7075" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7075" data-base-y="225.0">#83</text>
<text x="7075" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7075" data-base-y="240.0">1</text>
<text x="7079" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7079, 300.0)" data-base-x="7079" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="7120" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7120" data-base-y="255.0"/>
<circle cx="7120" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="84" data-is-grace="false" data-base-x="7120" data-base-y="260.0" onclick="showNoteDetails(84)" id="note-84"/>
<text x="7120" y="269" text-anchor="middle" class="string-number" data-base-x="7120" data-base-y="265.0">7</text>
<text x="7120" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7120" data-base-y="225.0">#84</text>
<text x="7120" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7120" data-base-y="240.0">1</text>
<text x="7124" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7124, 300.0)" data-base-x="7124" data-base-y="300.0" class="lyric-text">R·∫±ng</text>
<rect x="7165" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7165" data-base-y="255.0"/>
<circle cx="7165" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="85" data-is-grace="false" data-base-x="7165" data-base-y="260.0" onclick="showNoteDetails(85)" id="note-85"/>
<text x="7165" y="269" text-anchor="middle" class="string-number" data-base-x="7165" data-base-y="265.0">7</text>
<text x="7165" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7165" data-base-y="225.0">#85</text>
<text x="7165" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7165" data-base-y="240.0">1</text>
<text x="7169" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7169, 300.0)" data-base-x="7169" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="7210" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7210" data-base-y="405.0"/>
<circle cx="7210" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="86" data-is-grace="false" data-base-x="7210" data-base-y="410.0" onclick="showNoteDetails(86)" id="note-86"/>
<text x="7210" y="419" text-anchor="middle" class="string-number" data-base-x="7210" data-base-y="415.0">9</text>
<text x="7210" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7210" data-base-y="375.0">#86</text>
<text x="7210" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7210" data-base-y="390.0">2</text>
<text x="7214" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7214, 450.0)" data-base-x="7214" data-base-y="450.0" class="lyric-text">R√≠</text>
<rect x="7295" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7295" data-base-y="315.0"/>
<circle cx="7295" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="87" data-is-grace="false" data-base-x="7295" data-base-y="320.0" onclick="showNoteDetails(87)" id="note-87"/>
<text x="7295" y="329" text-anchor="middle" class="string-number" data-base-x="7295" data-base-y="325.0">8</text>
<text x="7295" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7295" data-base-y="285.0">#87</text>
<text x="7295" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7295" data-base-y="300.0">1</text>
<text x="7299" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7299, 360.0)" data-base-x="7299" data-base-y="360.0" class="lyric-text">∆°i.</text>
<rect x="7340" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7340" data-base-y="405.0"/>
<circle cx="7340" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="88" data-is-grace="false" data-base-x="7340" data-base-y="410.0" onclick="showNoteDetails(88)" id="note-88"/>
<text x="7340" y="419" text-anchor="middle" class="string-number" data-base-x="7340" data-base-y="415.0">9</text>
<text x="7340" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7340" data-base-y="375.0">#88</text>
<text x="7340" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7340" data-base-y="390.0">2</text>
<text x="7344" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7344, 450.0)" data-base-x="7344" data-base-y="450.0" class="lyric-text">Ch·ªìng</text>
<rect x="7425" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7425" data-base-y="405.0"/>
<circle cx="7425" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="89" data-is-grace="false" data-base-x="7425" data-base-y="410.0" onclick="showNoteDetails(89)" id="note-89"/>
<text x="7425" y="419" text-anchor="middle" class="string-number" data-base-x="7425" data-base-y="415.0">9</text>
<text x="7425" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7425" data-base-y="375.0">#89</text>
<text x="7425" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7425" data-base-y="390.0">1</text>
<text x="7429" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7429, 450.0)" data-base-x="7429" data-base-y="450.0" class="lyric-text">g√¨</text>
<rect x="7470" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7470" data-base-y="405.0"/>
<circle cx="7470" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="90" data-is-grace="false" data-base-x="7470" data-base-y="410.0" onclick="showNoteDetails(90)" id="note-90"/>
<text x="7470" y="419" text-anchor="middle" class="string-number" data-base-x="7470" data-base-y="415.0">9</text>
<text x="7470" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7470" data-base-y="375.0">#90</text>
<text x="7470" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7470" data-base-y="390.0">1</text>
<text x="7474" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7474, 450.0)" data-base-x="7474" data-base-y="450.0" class="lyric-text">m√†</text>
<rect x="7515" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7515" data-base-y="405.0"/>
<circle cx="7515" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="91" data-is-grace="false" data-base-x="7515" data-base-y="410.0" onclick="showNoteDetails(91)" id="note-91"/>
<text x="7515" y="419" text-anchor="middle" class="string-number" data-base-x="7515" data-base-y="415.0">9</text>
<text x="7515" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7515" data-base-y="375.0">#91</text>
<text x="7515" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7515" data-base-y="390.0">2</text>
<text x="7519" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7519, 450.0)" data-base-x="7519" data-base-y="450.0" class="lyric-text">ch·ªìng</text>
<rect x="7600" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7600" data-base-y="467.0"/>
<circle cx="7600" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="92" data-is-grace="true" data-base-x="7600" data-base-y="470.0" onclick="showNoteDetails(92)" id="note-92"/>
<text x="7600" y="479" text-anchor="middle" class="string-number" data-base-x="7600" data-base-y="475.0">10</text>
<text x="7600" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7600" data-base-y="435.0">#92</text>
<text x="7600" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7600" data-base-y="450.0">0.5</text>
<rect x="7625" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7625" data-base-y="525.0"/>
<circle cx="7625" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="93" data-is-grace="false" data-base-x="7625" data-base-y="530.0" onclick="showNoteDetails(93)" id="note-93"/>
<text x="7625" y="539" text-anchor="middle" class="string-number" data-base-x="7625" data-base-y="535.0">11</text>
<text x="7625" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7625" data-base-y="495.0">#93</text>
<text x="7625" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7625" data-base-y="510.0">8</text>
<text x="7629" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7629, 570.0)" data-base-x="7629" data-base-y="570.0" class="lyric-text">ng√°y,</text>
<rect x="7950" y="527.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7950" data-base-y="527.0"/>
<circle cx="7950" cy="530.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="94" data-is-grace="true" data-base-x="7950" data-base-y="530.0" onclick="showNoteDetails(94)" id="note-94"/>
<text x="7950" y="539" text-anchor="middle" class="string-number" data-base-x="7950" data-base-y="535.0">11</text>
<text x="7950" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7950" data-base-y="495.0">#94</text>
<text x="7950" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7950" data-base-y="510.0">0.5</text>
<rect x="7975" y="615.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="7975" data-base-y="615.0"/>
<circle cx="7975" cy="620.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="95" data-is-grace="false" data-base-x="7975" data-base-y="620.0" onclick="showNoteDetails(95)" id="note-95"/>
<text x="7975" y="629" text-anchor="middle" class="string-number" data-base-x="7975" data-base-y="625.0">12</text>
<text x="7975" y="585.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="7975" data-base-y="585.0">#95</text>
<text x="7975" y="600.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="7975" data-base-y="600.0">2</text>
<text x="7979" y="660.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 7979, 660.0)" data-base-x="7979" data-base-y="660.0" class="lyric-text">ng√°y</text>
<rect x="8060" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8060" data-base-y="525.0"/>
<circle cx="8060" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="96" data-is-grace="false" data-base-x="8060" data-base-y="530.0" onclick="showNoteDetails(96)" id="note-96"/>
<text x="8060" y="539" text-anchor="middle" class="string-number" data-base-x="8060" data-base-y="535.0">11</text>
<text x="8060" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8060" data-base-y="495.0">#96</text>
<text x="8060" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8060" data-base-y="510.0">1</text>
<text x="8064" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8064, 570.0)" data-base-x="8064" data-base-y="570.0" class="lyric-text">o</text>
<rect x="8105" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8105" data-base-y="465.0"/>
<circle cx="8105" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="97" data-is-grace="false" data-base-x="8105" data-base-y="470.0" onclick="showNoteDetails(97)" id="note-97"/>
<text x="8105" y="479" text-anchor="middle" class="string-number" data-base-x="8105" data-base-y="475.0">10</text>
<text x="8105" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8105" data-base-y="435.0">#97</text>
<text x="8105" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8105" data-base-y="450.0">1</text>
<rect x="8150" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8150" data-base-y="405.0"/>
<circle cx="8150" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="98" data-is-grace="false" data-base-x="8150" data-base-y="410.0" onclick="showNoteDetails(98)" id="note-98"/>
<text x="8150" y="419" text-anchor="middle" class="string-number" data-base-x="8150" data-base-y="415.0">9</text>
<text x="8150" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8150" data-base-y="375.0">#98</text>
<text x="8150" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8150" data-base-y="390.0">2</text>
<text x="8154" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8154, 450.0)" data-base-x="8154" data-base-y="450.0" class="lyric-text">o</text>
<rect x="8235" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8235" data-base-y="465.0"/>
<circle cx="8235" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="99" data-is-grace="false" data-base-x="8235" data-base-y="470.0" onclick="showNoteDetails(99)" id="note-99"/>
<text x="8235" y="479" text-anchor="middle" class="string-number" data-base-x="8235" data-base-y="475.0">10</text>
<text x="8235" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8235" data-base-y="435.0">#99</text>
<text x="8235" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8235" data-base-y="450.0">8</text>
<text x="8239" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8239, 510.0)" data-base-x="8239" data-base-y="510.0" class="lyric-text">o</text>
<rect x="8560" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8560" data-base-y="405.0"/>
<circle cx="8560" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="100" data-is-grace="false" data-base-x="8560" data-base-y="410.0" onclick="showNoteDetails(100)" id="note-100"/>
<text x="8560" y="419" text-anchor="middle" class="string-number" data-base-x="8560" data-base-y="415.0">9</text>
<text x="8560" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8560" data-base-y="375.0">#100</text>
<text x="8560" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8560" data-base-y="390.0">3</text>
<text x="8564" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8564, 450.0)" data-base-x="8564" data-base-y="450.0" class="lyric-text">ƒê√™m</text>
<rect x="8685" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8685" data-base-y="315.0"/>
<circle cx="8685" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="101" data-is-grace="false" data-base-x="8685" data-base-y="320.0" onclick="showNoteDetails(101)" id="note-101"/>
<text x="8685" y="329" text-anchor="middle" class="string-number" data-base-x="8685" data-base-y="325.0">8</text>
<text x="8685" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8685" data-base-y="285.0">#101</text>
<text x="8685" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8685" data-base-y="300.0">2</text>
<text x="8689" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8689, 360.0)" data-base-x="8689" data-base-y="360.0" class="lyric-text">th·ªùi</text>
<rect x="8770" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8770" data-base-y="315.0"/>
<circle cx="8770" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="102" data-is-grace="false" data-base-x="8770" data-base-y="320.0" onclick="showNoteDetails(102)" id="note-102"/>
<text x="8770" y="329" text-anchor="middle" class="string-number" data-base-x="8770" data-base-y="325.0">8</text>
<text x="8770" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8770" data-base-y="285.0">#102</text>
<text x="8770" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8770" data-base-y="300.0">1</text>
<text x="8774" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8774, 360.0)" data-base-x="8774" data-base-y="360.0" class="lyric-text">n·∫±m</text>
<rect x="8815" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8815" data-base-y="405.0"/>
<circle cx="8815" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="103" data-is-grace="false" data-base-x="8815" data-base-y="410.0" onclick="showNoteDetails(103)" id="note-103"/>
<text x="8815" y="419" text-anchor="middle" class="string-number" data-base-x="8815" data-base-y="415.0">9</text>
<text x="8815" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8815" data-base-y="375.0">#103</text>
<text x="8815" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8815" data-base-y="390.0">2</text>
<text x="8819" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8819, 450.0)" data-base-x="8819" data-base-y="450.0" class="lyric-text">co</text>
<rect x="8900" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="8900" data-base-y="405.0"/>
<circle cx="8900" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="104" data-is-grace="false" data-base-x="8900" data-base-y="410.0" onclick="showNoteDetails(104)" id="note-104"/>
<text x="8900" y="419" text-anchor="middle" class="string-number" data-base-x="8900" data-base-y="415.0">9</text>
<text x="8900" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="8900" data-base-y="375.0">#104</text>
<text x="8900" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="8900" data-base-y="390.0">3</text>
<text x="8904" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 8904, 450.0)" data-base-x="8904" data-base-y="450.0" class="lyric-text">l√†m</text>
<rect x="9025" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9025" data-base-y="465.0"/>
<circle cx="9025" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="105" data-is-grace="false" data-base-x="9025" data-base-y="470.0" onclick="showNoteDetails(105)" id="note-105"/>
<text x="9025" y="479" text-anchor="middle" class="string-number" data-base-x="9025" data-base-y="475.0">10</text>
<text x="9025" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9025" data-base-y="435.0">#105</text>
<text x="9025" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9025" data-base-y="450.0">2</text>
<text x="9029" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9029, 510.0)" data-base-x="9029" data-base-y="510.0" class="lyric-text">ƒÉn</text>
<rect x="9110" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9110" data-base-y="405.0"/>
<circle cx="9110" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="106" data-is-grace="false" data-base-x="9110" data-base-y="410.0" onclick="showNoteDetails(106)" id="note-106"/>
<text x="9110" y="419" text-anchor="middle" class="string-number" data-base-x="9110" data-base-y="415.0">9</text>
<text x="9110" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9110" data-base-y="375.0">#106</text>
<text x="9110" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9110" data-base-y="390.0">1</text>
<text x="9114" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9114, 450.0)" data-base-x="9114" data-base-y="450.0" class="lyric-text">l∆∞·ªùi</text>
<rect x="9155" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9155" data-base-y="467.0"/>
<circle cx="9155" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="107" data-is-grace="true" data-base-x="9155" data-base-y="470.0" onclick="showNoteDetails(107)" id="note-107"/>
<text x="9155" y="479" text-anchor="middle" class="string-number" data-base-x="9155" data-base-y="475.0">10</text>
<text x="9155" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9155" data-base-y="435.0">#107</text>
<text x="9155" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9155" data-base-y="450.0">0.5</text>
<rect x="9180" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9180" data-base-y="525.0"/>
<circle cx="9180" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="108" data-is-grace="false" data-base-x="9180" data-base-y="530.0" onclick="showNoteDetails(108)" id="note-108"/>
<text x="9180" y="539" text-anchor="middle" class="string-number" data-base-x="9180" data-base-y="535.0">11</text>
<text x="9180" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9180" data-base-y="495.0">#108</text>
<text x="9180" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9180" data-base-y="510.0">2</text>
<text x="9184" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9184, 570.0)" data-base-x="9184" data-base-y="570.0" class="lyric-text">bi·∫øng</text>
<rect x="9265" y="467.0" width="80" height="6" fill="url(#graceResonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9265" data-base-y="467.0"/>
<circle cx="9265" cy="470.0" r="6" class="note-circle" fill="#FFD700" stroke="#0066FF" stroke-width="2" data-note-index="109" data-is-grace="true" data-base-x="9265" data-base-y="470.0" onclick="showNoteDetails(109)" id="note-109"/>
<text x="9265" y="479" text-anchor="middle" class="string-number" data-base-x="9265" data-base-y="475.0">10</text>
<text x="9265" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9265" data-base-y="435.0">#109</text>
<text x="9265" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9265" data-base-y="450.0">0.5</text>
<rect x="9290" y="525.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9290" data-base-y="525.0"/>
<circle cx="9290" cy="530.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="110" data-is-grace="false" data-base-x="9290" data-base-y="530.0" onclick="showNoteDetails(110)" id="note-110"/>
<text x="9290" y="539" text-anchor="middle" class="string-number" data-base-x="9290" data-base-y="535.0">11</text>
<text x="9290" y="495.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9290" data-base-y="495.0">#110</text>
<text x="9290" y="510.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9290" data-base-y="510.0">3</text>
<text x="9294" y="570.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9294, 570.0)" data-base-x="9294" data-base-y="570.0" class="lyric-text">ch·∫≥ng</text>
<rect x="9415" y="465.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9415" data-base-y="465.0"/>
<circle cx="9415" cy="470.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="111" data-is-grace="false" data-base-x="9415" data-base-y="470.0" onclick="showNoteDetails(111)" id="note-111"/>
<text x="9415" y="479" text-anchor="middle" class="string-number" data-base-x="9415" data-base-y="475.0">10</text>
<text x="9415" y="435.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9415" data-base-y="435.0">#111</text>
<text x="9415" y="450.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9415" data-base-y="450.0">2</text>
<text x="9419" y="510.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9419, 510.0)" data-base-x="9419" data-base-y="510.0" class="lyric-text">lo</text>
<rect x="9500" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9500" data-base-y="405.0"/>
<circle cx="9500" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="112" data-is-grace="false" data-base-x="9500" data-base-y="410.0" onclick="showNoteDetails(112)" id="note-112"/>
<text x="9500" y="419" text-anchor="middle" class="string-number" data-base-x="9500" data-base-y="415.0">9</text>
<text x="9500" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9500" data-base-y="375.0">#112</text>
<text x="9500" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9500" data-base-y="390.0">1</text>
<text x="9504" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9504, 450.0)" data-base-x="9504" data-base-y="450.0" class="lyric-text">h·ªçc</text>
<rect x="9545" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9545" data-base-y="315.0"/>
<circle cx="9545" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="113" data-is-grace="false" data-base-x="9545" data-base-y="320.0" onclick="showNoteDetails(113)" id="note-113"/>
<text x="9545" y="329" text-anchor="middle" class="string-number" data-base-x="9545" data-base-y="325.0">8</text>
<text x="9545" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9545" data-base-y="285.0">#113</text>
<text x="9545" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9545" data-base-y="300.0">3</text>
<text x="9549" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9549, 360.0)" data-base-x="9549" data-base-y="360.0" class="lyric-text">h√†nh</text>
<rect x="9670" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9670" data-base-y="405.0"/>
<circle cx="9670" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="114" data-is-grace="false" data-base-x="9670" data-base-y="410.0" onclick="showNoteDetails(114)" id="note-114"/>
<text x="9670" y="419" text-anchor="middle" class="string-number" data-base-x="9670" data-base-y="415.0">9</text>
<text x="9670" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9670" data-base-y="375.0">#114</text>
<text x="9670" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9670" data-base-y="390.0">1</text>
<text x="9674" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9674, 450.0)" data-base-x="9674" data-base-y="450.0" class="lyric-text">c√°i</text>
<rect x="9715" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9715" data-base-y="315.0"/>
<circle cx="9715" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="115" data-is-grace="false" data-base-x="9715" data-base-y="320.0" onclick="showNoteDetails(115)" id="note-115"/>
<text x="9715" y="329" text-anchor="middle" class="string-number" data-base-x="9715" data-base-y="325.0">8</text>
<text x="9715" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9715" data-base-y="285.0">#115</text>
<text x="9715" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9715" data-base-y="300.0">2</text>
<text x="9719" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9719, 360.0)" data-base-x="9719" data-base-y="360.0" class="lyric-text">duy√™n</text>
<rect x="9800" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9800" data-base-y="255.0"/>
<circle cx="9800" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="116" data-is-grace="false" data-base-x="9800" data-base-y="260.0" onclick="showNoteDetails(116)" id="note-116"/>
<text x="9800" y="269" text-anchor="middle" class="string-number" data-base-x="9800" data-base-y="265.0">7</text>
<text x="9800" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9800" data-base-y="225.0">#116</text>
<text x="9800" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9800" data-base-y="240.0">2</text>
<text x="9804" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9804, 300.0)" data-base-x="9804" data-base-y="300.0" class="lyric-text">√¥ng</text>
<rect x="9885" y="105.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9885" data-base-y="105.0"/>
<circle cx="9885" cy="110" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="117" data-is-grace="false" data-base-x="9885" data-base-y="110" onclick="showNoteDetails(117)" id="note-117"/>
<text x="9885" y="119" text-anchor="middle" class="string-number" data-base-x="9885" data-base-y="115.0">5</text>
<text x="9885" y="75" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9885" data-base-y="75">#117</text>
<text x="9885" y="90" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9885" data-base-y="90">2</text>
<text x="9889" y="150" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9889, 150)" data-base-x="9889" data-base-y="150" class="lyric-text">ch·ªìng</text>
<rect x="9970" y="105.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="9970" data-base-y="105.0"/>
<circle cx="9970" cy="110" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="118" data-is-grace="false" data-base-x="9970" data-base-y="110" onclick="showNoteDetails(118)" id="note-118"/>
<text x="9970" y="119" text-anchor="middle" class="string-number" data-base-x="9970" data-base-y="115.0">5</text>
<text x="9970" y="75" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="9970" data-base-y="75">#118</text>
<text x="9970" y="90" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="9970" data-base-y="90">1</text>
<text x="9974" y="150" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 9974, 150)" data-base-x="9974" data-base-y="150" class="lyric-text">l√†m</text>
<rect x="10015" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10015" data-base-y="255.0"/>
<circle cx="10015" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="119" data-is-grace="false" data-base-x="10015" data-base-y="260.0" onclick="showNoteDetails(119)" id="note-119"/>
<text x="10015" y="269" text-anchor="middle" class="string-number" data-base-x="10015" data-base-y="265.0">7</text>
<text x="10015" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10015" data-base-y="225.0">#119</text>
<text x="10015" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10015" data-base-y="240.0">1</text>
<text x="10019" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10019, 300.0)" data-base-x="10019" data-base-y="300.0" class="lyric-text">kh·ªï</text>
<rect x="10060" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10060" data-base-y="405.0"/>
<circle cx="10060" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="120" data-is-grace="false" data-base-x="10060" data-base-y="410.0" onclick="showNoteDetails(120)" id="note-120"/>
<text x="10060" y="419" text-anchor="middle" class="string-number" data-base-x="10060" data-base-y="415.0">9</text>
<text x="10060" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10060" data-base-y="375.0">#120</text>
<text x="10060" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10060" data-base-y="390.0">1</text>
<rect x="10105" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10105" data-base-y="405.0"/>
<circle cx="10105" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="121" data-is-grace="false" data-base-x="10105" data-base-y="410.0" onclick="showNoteDetails(121)" id="note-121"/>
<text x="10105" y="419" text-anchor="middle" class="string-number" data-base-x="10105" data-base-y="415.0">9</text>
<text x="10105" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10105" data-base-y="375.0">#121</text>
<text x="10105" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10105" data-base-y="390.0">1</text>
<text x="10109" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10109, 450.0)" data-base-x="10109" data-base-y="450.0" class="lyric-text">c√°i</text>
<rect x="10150" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10150" data-base-y="255.0"/>
<circle cx="10150" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="122" data-is-grace="false" data-base-x="10150" data-base-y="260.0" onclick="showNoteDetails(122)" id="note-122"/>
<text x="10150" y="269" text-anchor="middle" class="string-number" data-base-x="10150" data-base-y="265.0">7</text>
<text x="10150" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10150" data-base-y="225.0">#122</text>
<text x="10150" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10150" data-base-y="240.0">2</text>
<text x="10154" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10154, 300.0)" data-base-x="10154" data-base-y="300.0" class="lyric-text">ƒë·ªùi</text>
<rect x="10235" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10235" data-base-y="315.0"/>
<circle cx="10235" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="123" data-is-grace="false" data-base-x="10235" data-base-y="320.0" onclick="showNoteDetails(123)" id="note-123"/>
<text x="10235" y="329" text-anchor="middle" class="string-number" data-base-x="10235" data-base-y="325.0">8</text>
<text x="10235" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10235" data-base-y="285.0">#123</text>
<text x="10235" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10235" data-base-y="300.0">3</text>
<text x="10239" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10239, 360.0)" data-base-x="10239" data-base-y="360.0" class="lyric-text">t√¥i,</text>
<rect x="10360" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10360" data-base-y="405.0"/>
<circle cx="10360" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="124" data-is-grace="false" data-base-x="10360" data-base-y="410.0" onclick="showNoteDetails(124)" id="note-124"/>
<text x="10360" y="419" text-anchor="middle" class="string-number" data-base-x="10360" data-base-y="415.0">9</text>
<text x="10360" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10360" data-base-y="375.0">#124</text>
<text x="10360" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10360" data-base-y="390.0">2</text>
<text x="10364" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10364, 450.0)" data-base-x="10364" data-base-y="450.0" class="lyric-text">∆°i</text>
<rect x="10445" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10445" data-base-y="255.0"/>
<circle cx="10445" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="125" data-is-grace="false" data-base-x="10445" data-base-y="260.0" onclick="showNoteDetails(125)" id="note-125"/>
<text x="10445" y="269" text-anchor="middle" class="string-number" data-base-x="10445" data-base-y="265.0">7</text>
<text x="10445" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10445" data-base-y="225.0">#125</text>
<text x="10445" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10445" data-base-y="240.0">1</text>
<text x="10449" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10449, 300.0)" data-base-x="10449" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="10490" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10490" data-base-y="315.0"/>
<circle cx="10490" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="126" data-is-grace="false" data-base-x="10490" data-base-y="320.0" onclick="showNoteDetails(126)" id="note-126"/>
<text x="10490" y="329" text-anchor="middle" class="string-number" data-base-x="10490" data-base-y="325.0">8</text>
<text x="10490" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10490" data-base-y="285.0">#126</text>
<text x="10490" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10490" data-base-y="300.0">2</text>
<text x="10494" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10494, 360.0)" data-base-x="10494" data-base-y="360.0" class="lyric-text">R√≠</text>
<rect x="10575" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10575" data-base-y="315.0"/>
<circle cx="10575" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="127" data-is-grace="false" data-base-x="10575" data-base-y="320.0" onclick="showNoteDetails(127)" id="note-127"/>
<text x="10575" y="329" text-anchor="middle" class="string-number" data-base-x="10575" data-base-y="325.0">8</text>
<text x="10575" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10575" data-base-y="285.0">#127</text>
<text x="10575" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10575" data-base-y="300.0">3</text>
<text x="10579" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10579, 360.0)" data-base-x="10579" data-base-y="360.0" class="lyric-text">∆°i</text>
<rect x="10700" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10700" data-base-y="255.0"/>
<circle cx="10700" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="128" data-is-grace="false" data-base-x="10700" data-base-y="260.0" onclick="showNoteDetails(128)" id="note-128"/>
<text x="10700" y="269" text-anchor="middle" class="string-number" data-base-x="10700" data-base-y="265.0">7</text>
<text x="10700" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10700" data-base-y="225.0">#128</text>
<text x="10700" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10700" data-base-y="240.0">1</text>
<text x="10704" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10704, 300.0)" data-base-x="10704" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="10745" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10745" data-base-y="255.0"/>
<circle cx="10745" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="129" data-is-grace="false" data-base-x="10745" data-base-y="260.0" onclick="showNoteDetails(129)" id="note-129"/>
<text x="10745" y="269" text-anchor="middle" class="string-number" data-base-x="10745" data-base-y="265.0">7</text>
<text x="10745" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10745" data-base-y="225.0">#129</text>
<text x="10745" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10745" data-base-y="240.0">1</text>
<text x="10749" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10749, 300.0)" data-base-x="10749" data-base-y="300.0" class="lyric-text">R·∫±ng</text>
<rect x="10790" y="255.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10790" data-base-y="255.0"/>
<circle cx="10790" cy="260.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="130" data-is-grace="false" data-base-x="10790" data-base-y="260.0" onclick="showNoteDetails(130)" id="note-130"/>
<text x="10790" y="269" text-anchor="middle" class="string-number" data-base-x="10790" data-base-y="265.0">7</text>
<text x="10790" y="225.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10790" data-base-y="225.0">#130</text>
<text x="10790" y="240.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10790" data-base-y="240.0">1</text>
<text x="10794" y="300.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10794, 300.0)" data-base-x="10794" data-base-y="300.0" class="lyric-text">b√†</text>
<rect x="10835" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10835" data-base-y="405.0"/>
<circle cx="10835" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="131" data-is-grace="false" data-base-x="10835" data-base-y="410.0" onclick="showNoteDetails(131)" id="note-131"/>
<text x="10835" y="419" text-anchor="middle" class="string-number" data-base-x="10835" data-base-y="415.0">9</text>
<text x="10835" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10835" data-base-y="375.0">#131</text>
<text x="10835" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10835" data-base-y="390.0">2</text>
<text x="10839" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10839, 450.0)" data-base-x="10839" data-base-y="450.0" class="lyric-text">R√≠</text>
<rect x="10920" y="315.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10920" data-base-y="315.0"/>
<circle cx="10920" cy="320.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="132" data-is-grace="false" data-base-x="10920" data-base-y="320.0" onclick="showNoteDetails(132)" id="note-132"/>
<text x="10920" y="329" text-anchor="middle" class="string-number" data-base-x="10920" data-base-y="325.0">8</text>
<text x="10920" y="285.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10920" data-base-y="285.0">#132</text>
<text x="10920" y="300.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10920" data-base-y="300.0">1</text>
<text x="10924" y="360.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10924, 360.0)" data-base-x="10924" data-base-y="360.0" class="lyric-text">∆°i</text>
<rect x="10965" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="10965" data-base-y="405.0"/>
<circle cx="10965" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="133" data-is-grace="false" data-base-x="10965" data-base-y="410.0" onclick="showNoteDetails(133)" id="note-133"/>
<text x="10965" y="419" text-anchor="middle" class="string-number" data-base-x="10965" data-base-y="415.0">9</text>
<text x="10965" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="10965" data-base-y="375.0">#133</text>
<text x="10965" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="10965" data-base-y="390.0">2</text>
<text x="10969" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 10969, 450.0)" data-base-x="10969" data-base-y="450.0" class="lyric-text">B√†</text>
<rect x="11050" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="11050" data-base-y="405.0"/>
<circle cx="11050" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="134" data-is-grace="false" data-base-x="11050" data-base-y="410.0" onclick="showNoteDetails(134)" id="note-134"/>
<text x="11050" y="419" text-anchor="middle" class="string-number" data-base-x="11050" data-base-y="415.0">9</text>
<text x="11050" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="11050" data-base-y="375.0">#134</text>
<text x="11050" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="11050" data-base-y="390.0">2</text>
<text x="11054" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 11054, 450.0)" data-base-x="11054" data-base-y="450.0" class="lyric-text">R·∫±ng</text>
<rect x="11135" y="405.0" width="320" height="10" fill="url(#resonanceBand)" stroke="none" rx="2" opacity="0.9" data-base-x="11135" data-base-y="405.0"/>
<circle cx="11135" cy="410.0" r="12" class="note-circle" fill="#008080" stroke="crimson" stroke-width="2" data-note-index="135" data-is-grace="false" data-base-x="11135" data-base-y="410.0" onclick="showNoteDetails(135)" id="note-135"/>
<text x="11135" y="419" text-anchor="middle" class="string-number" data-base-x="11135" data-base-y="415.0">9</text>
<text x="11135" y="375.0" text-anchor="middle" style="font-size: 9px; fill: #666; font-weight: bold; opacity: 0.3;" data-base-x="11135" data-base-y="375.0">#135</text>
<text x="11135" y="390.0" text-anchor="middle" style="font-size: 10px; fill: #000; font-weight: bold; opacity: 0.3;" data-base-x="11135" data-base-y="390.0">2</text>
<text x="11139" y="450.0" text-anchor="start" style="font-family: Arial; font-size: 11px; fill: #333; font-weight: bold;" transform="rotate(-90, 11139, 450.0)" data-base-x="11139" data-base-y="450.0" class="lyric-text">b√†</text>
</svg>
        </div>

        <!-- Popup Button Panel -->
        <div class="popup-button-panel" style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
            <div style="margin-bottom: 10px; font-size: 12px; color: #666; font-weight: bold;">Analysis Tools</div>
            <button onclick="showContent('lyrics')" style="padding: 8px 15px; margin: 0 5px; background: #e74c3c; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">üìù Lyrics</button>
            <button onclick="showContent('strings-vs-notes')" style="padding: 8px 15px; margin: 0 5px; background: #3498db; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">üìä Strings vs Notes</button>
            <button onclick="showContent('kpic-kric-sankey')" style="padding: 8px 15px; margin: 0 5px; background: #9b59b6; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">üìà KPIC-2 & KRIC-2</button>
            <button onclick="showLegend()" style="padding: 8px 15px; margin: 0 5px; background: #34495e; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">üè∑Ô∏è Legend</button>
        </div>

        <!-- Unified Content Area -->
        <div id="content-area" style="margin: 20px 0; background: white; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: none; padding: 20px;">
            <!-- Content will be shown here based on button selection -->
        </div>

        <div class="lyrics-section">
            <!-- Collapsible Header -->
            <div class="section-header" onclick="toggleLyrics()" style="padding: 15px 20px; cursor: pointer; user-select: none; background: #f8f9fa; border-radius: 5px; margin: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border-bottom: 1px solid #e9ecef;">
                <h3 style="margin: 0; display: flex; justify-content: space-between; align-items: center;">
                    üìù Lyrics (Vietnamese / English)
                    <span id="lyrics-toggle-icon" style="font-size: 14px; color: #666;">‚ñº</span>
                </h3>
            </div>

            <!-- Collapsible Table Content -->
            <div id="lyrics-table-content" style="display: block;">
                <table style="width: 100%; border-collapse: collapse; margin: 0 0 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr>
                            <th style="width: 50%; padding: 15px; background: #f0f8ff; border: 2px solid #3498db; text-align: center; color: #3498db;">Ti·∫øng Vi·ªát (Vietnamese)</th>
                            <th style="width: 50%; padding: 15px; background: #f8f9fa; border: 2px solid #e74c3c; text-align: center; color: #e74c3c;">English Translation</th>
                        </tr>
                    </thead>
                <tbody>
                    <tr>
                        <td style="padding: 15px; border: 1px solid #3498db; background: #f0f8ff; text-align: right; vertical-align: top;">
                            <div id="editable-lyrics" class="editable-lyrics">
                <span class="syllable editable-syllable" data-position="0" data-syllable-index="0" title="Syllable: B√† (1 note), tone: huy·ªÅn">B√†</span> <span class="line-break" data-break-after="0" onclick="toggleLineBreak(0)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="1" data-syllable-index="1" title="Syllable: R·∫±ng (1 note), tone: huy·ªÅn">R·∫±ng</span> <span class="line-break" data-break-after="1" onclick="toggleLineBreak(1)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="2" data-syllable-index="2" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="2" onclick="toggleLineBreak(2)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="4" data-syllable-index="3" title="Syllable: R√≠, (1 note), tone: s·∫Øc">R√≠,</span> <span class="line-break active" data-break-after="3" onclick="toggleLineBreak(3)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable melismatic" data-position="5" data-syllable-index="4" title="Syllable: ·ªöi (melismatic, 2 notes), tone: s·∫Øc">·ªöi</span> <span class="line-break" data-break-after="4" onclick="toggleLineBreak(4)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="7" data-syllable-index="5" title="Syllable: r·∫±ng (1 note), tone: huy·ªÅn">r·∫±ng</span> <span class="line-break" data-break-after="5" onclick="toggleLineBreak(5)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="8" data-syllable-index="6" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="6" onclick="toggleLineBreak(6)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="9" data-syllable-index="7" title="Syllable: ƒëi, (1 note)">ƒëi,</span> <span class="line-break active" data-break-after="7" onclick="toggleLineBreak(7)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="11" data-syllable-index="8" title="Syllable: ·ªõi (1 note), tone: s·∫Øc">·ªõi</span> <span class="line-break" data-break-after="8" onclick="toggleLineBreak(8)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable melismatic" data-position="12" data-syllable-index="9" title="Syllable: ƒëi (melismatic, 2 notes)">ƒëi</span> <span class="line-break" data-break-after="9" onclick="toggleLineBreak(9)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="14" data-syllable-index="10" title="Syllable: l√† (1 note), tone: huy·ªÅn">l√†</span> <span class="line-break" data-break-after="10" onclick="toggleLineBreak(10)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="15" data-syllable-index="11" title="Syllable: ƒë√¢u (1 note)">ƒë√¢u</span> <span class="line-break active" data-break-after="11" onclick="toggleLineBreak(11)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="16" data-syllable-index="12" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="12" onclick="toggleLineBreak(12)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="17" data-syllable-index="13" title="Syllable: ƒëi (1 note)">ƒëi</span> <span class="line-break" data-break-after="13" onclick="toggleLineBreak(13)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="18" data-syllable-index="14" title="Syllable: kh·∫Øp (1 note), tone: s·∫Øc">kh·∫Øp</span> <span class="line-break" data-break-after="14" onclick="toggleLineBreak(14)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="20" data-syllable-index="15" title="Syllable: ch·ªën (1 note), tone: s·∫Øc">ch·ªën</span> <span class="line-break" data-break-after="15" onclick="toggleLineBreak(15)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="22" data-syllable-index="16" title="Syllable: n·ªëi (1 note), tone: s·∫Øc">n·ªëi</span> <span class="line-break" data-break-after="16" onclick="toggleLineBreak(16)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="23" data-syllable-index="17" title="Syllable: d√¢y (1 note)">d√¢y</span> <span class="line-break" data-break-after="17" onclick="toggleLineBreak(17)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="24" data-syllable-index="18" title="Syllable: t∆° (1 note)">t∆°</span> <span class="line-break" data-break-after="18" onclick="toggleLineBreak(18)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="25" data-syllable-index="19" title="Syllable: h·ªìng (1 note), tone: huy·ªÅn">h·ªìng</span> <span class="line-break active" data-break-after="19" onclick="toggleLineBreak(19)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="26" data-syllable-index="20" title="Syllable: c√°i (1 note), tone: s·∫Øc">c√°i</span> <span class="line-break" data-break-after="20" onclick="toggleLineBreak(20)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="27" data-syllable-index="21" title="Syllable: duy√™n (1 note)">duy√™n</span> <span class="line-break" data-break-after="21" onclick="toggleLineBreak(21)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="28" data-syllable-index="22" title="Syllable: √¥ng (1 note)">√¥ng</span> <span class="line-break" data-break-after="22" onclick="toggleLineBreak(22)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="29" data-syllable-index="23" title="Syllable: ch·ªìng (1 note), tone: huy·ªÅn">ch·ªìng</span> <span class="line-break" data-break-after="23" onclick="toggleLineBreak(23)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="30" data-syllable-index="24" title="Syllable: l√†m (1 note), tone: huy·ªÅn">l√†m</span> <span class="line-break" data-break-after="24" onclick="toggleLineBreak(24)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable melismatic" data-position="31" data-syllable-index="25" title="Syllable: kh·ªï (melismatic, 2 notes), tone: h·ªèi">kh·ªï</span> <span class="line-break" data-break-after="25" onclick="toggleLineBreak(25)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="33" data-syllable-index="26" title="Syllable: c√°i (1 note), tone: s·∫Øc">c√°i</span> <span class="line-break" data-break-after="26" onclick="toggleLineBreak(26)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="34" data-syllable-index="27" title="Syllable: ƒë·ªùi (1 note), tone: huy·ªÅn">ƒë·ªùi</span> <span class="line-break" data-break-after="27" onclick="toggleLineBreak(27)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="35" data-syllable-index="28" title="Syllable: t√¥i (1 note)">t√¥i</span> <span class="line-break" data-break-after="28" onclick="toggleLineBreak(28)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="36" data-syllable-index="29" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="29" onclick="toggleLineBreak(29)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="37" data-syllable-index="30" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="30" onclick="toggleLineBreak(30)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="38" data-syllable-index="31" title="Syllable: R√≠ (1 note), tone: s·∫Øc">R√≠</span> <span class="line-break" data-break-after="31" onclick="toggleLineBreak(31)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="39" data-syllable-index="32" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="32" onclick="toggleLineBreak(32)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="40" data-syllable-index="33" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="33" onclick="toggleLineBreak(33)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="41" data-syllable-index="34" title="Syllable: R·∫±ng (1 note), tone: huy·ªÅn">R·∫±ng</span> <span class="line-break" data-break-after="34" onclick="toggleLineBreak(34)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="42" data-syllable-index="35" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="35" onclick="toggleLineBreak(35)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="43" data-syllable-index="36" title="Syllable: R√≠ (1 note), tone: s·∫Øc">R√≠</span> <span class="line-break" data-break-after="36" onclick="toggleLineBreak(36)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="44" data-syllable-index="37" title="Syllable: ∆°i. (1 note)">∆°i.</span> <span class="line-break active" data-break-after="37" onclick="toggleLineBreak(37)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="45" data-syllable-index="38" title="Syllable: Ch·ªìng (1 note), tone: huy·ªÅn">Ch·ªìng</span> <span class="line-break" data-break-after="38" onclick="toggleLineBreak(38)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="46" data-syllable-index="39" title="Syllable: g√¨ (1 note), tone: huy·ªÅn">g√¨</span> <span class="line-break" data-break-after="39" onclick="toggleLineBreak(39)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="47" data-syllable-index="40" title="Syllable: m√† (1 note), tone: huy·ªÅn">m√†</span> <span class="line-break" data-break-after="40" onclick="toggleLineBreak(40)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="48" data-syllable-index="41" title="Syllable: ch·ªìng (1 note), tone: huy·ªÅn">ch·ªìng</span> <span class="line-break" data-break-after="41" onclick="toggleLineBreak(41)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="50" data-syllable-index="42" title="Syllable: b√©, (1 note), tone: s·∫Øc">b√©,</span> <span class="line-break active" data-break-after="42" onclick="toggleLineBreak(42)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="52" data-syllable-index="43" title="Syllable: b√© (1 note), tone: s·∫Øc">b√©</span> <span class="line-break" data-break-after="43" onclick="toggleLineBreak(43)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="53" data-syllable-index="44" title="Syllable: t·∫πo (1 note), tone: n·∫∑ng">t·∫πo</span> <span class="line-break" data-break-after="44" onclick="toggleLineBreak(44)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="54" data-syllable-index="45" title="Syllable: t√®o (1 note), tone: huy·ªÅn">t√®o</span> <span class="line-break" data-break-after="45" onclick="toggleLineBreak(45)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="55" data-syllable-index="46" title="Syllable: teo, (1 note)">teo,</span> <span class="line-break active" data-break-after="46" onclick="toggleLineBreak(46)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="56" data-syllable-index="47" title="Syllable: ch√¢n (1 note)">ch√¢n</span> <span class="line-break" data-break-after="47" onclick="toggleLineBreak(47)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="57" data-syllable-index="48" title="Syllable: ƒëi (1 note)">ƒëi</span> <span class="line-break" data-break-after="48" onclick="toggleLineBreak(48)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="58" data-syllable-index="49" title="Syllable: c√† (1 note), tone: huy·ªÅn">c√†</span> <span class="line-break" data-break-after="49" onclick="toggleLineBreak(49)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="59" data-syllable-index="50" title="Syllable: kheo (1 note)">kheo</span> <span class="line-break" data-break-after="50" onclick="toggleLineBreak(50)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="61" data-syllable-index="51" title="Syllable: l√∫c (1 note), tone: s·∫Øc">l√∫c</span> <span class="line-break" data-break-after="51" onclick="toggleLineBreak(51)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="62" data-syllable-index="52" title="Syllable: ƒëi (1 note)">ƒëi</span> <span class="line-break" data-break-after="52" onclick="toggleLineBreak(52)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="63" data-syllable-index="53" title="Syllable: ph·∫£i (1 note), tone: h·ªèi">ph·∫£i</span> <span class="line-break" data-break-after="53" onclick="toggleLineBreak(53)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="64" data-syllable-index="54" title="Syllable: c√µng (1 note), tone: ng√£">c√µng</span> <span class="line-break" data-break-after="54" onclick="toggleLineBreak(54)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="65" data-syllable-index="55" title="Syllable: l√∫c (1 note), tone: s·∫Øc">l√∫c</span> <span class="line-break" data-break-after="55" onclick="toggleLineBreak(55)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="66" data-syllable-index="56" title="Syllable: kh√≥c (1 note), tone: s·∫Øc">kh√≥c</span> <span class="line-break" data-break-after="56" onclick="toggleLineBreak(56)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="67" data-syllable-index="57" title="Syllable: ph·∫£i (1 note), tone: h·ªèi">ph·∫£i</span> <span class="line-break" data-break-after="57" onclick="toggleLineBreak(57)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="68" data-syllable-index="58" title="Syllable: b·ªìng (1 note), tone: huy·ªÅn">b·ªìng</span> <span class="line-break" data-break-after="58" onclick="toggleLineBreak(58)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="69" data-syllable-index="59" title="Syllable: c√°i (1 note), tone: s·∫Øc">c√°i</span> <span class="line-break" data-break-after="59" onclick="toggleLineBreak(59)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="70" data-syllable-index="60" title="Syllable: duy√™n (1 note)">duy√™n</span> <span class="line-break" data-break-after="60" onclick="toggleLineBreak(60)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="71" data-syllable-index="61" title="Syllable: √¥ng (1 note)">√¥ng</span> <span class="line-break" data-break-after="61" onclick="toggleLineBreak(61)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="72" data-syllable-index="62" title="Syllable: ch·ªìng (1 note), tone: huy·ªÅn">ch·ªìng</span> <span class="line-break" data-break-after="62" onclick="toggleLineBreak(62)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="73" data-syllable-index="63" title="Syllable: l√†m (1 note), tone: huy·ªÅn">l√†m</span> <span class="line-break" data-break-after="63" onclick="toggleLineBreak(63)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable melismatic" data-position="74" data-syllable-index="64" title="Syllable: kh·ªï (melismatic, 2 notes), tone: h·ªèi">kh·ªï</span> <span class="line-break" data-break-after="64" onclick="toggleLineBreak(64)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="76" data-syllable-index="65" title="Syllable: c√°i (1 note), tone: s·∫Øc">c√°i</span> <span class="line-break" data-break-after="65" onclick="toggleLineBreak(65)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="77" data-syllable-index="66" title="Syllable: ƒë·ªùi (1 note), tone: huy·ªÅn">ƒë·ªùi</span> <span class="line-break" data-break-after="66" onclick="toggleLineBreak(66)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="78" data-syllable-index="67" title="Syllable: t√¥i (1 note)">t√¥i</span> <span class="line-break" data-break-after="67" onclick="toggleLineBreak(67)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="79" data-syllable-index="68" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="68" onclick="toggleLineBreak(68)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="80" data-syllable-index="69" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="69" onclick="toggleLineBreak(69)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="81" data-syllable-index="70" title="Syllable: R√≠ (1 note), tone: s·∫Øc">R√≠</span> <span class="line-break" data-break-after="70" onclick="toggleLineBreak(70)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="82" data-syllable-index="71" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="71" onclick="toggleLineBreak(71)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="83" data-syllable-index="72" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="72" onclick="toggleLineBreak(72)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="84" data-syllable-index="73" title="Syllable: R·∫±ng (1 note), tone: huy·ªÅn">R·∫±ng</span> <span class="line-break" data-break-after="73" onclick="toggleLineBreak(73)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="85" data-syllable-index="74" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="74" onclick="toggleLineBreak(74)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="86" data-syllable-index="75" title="Syllable: R√≠ (1 note), tone: s·∫Øc">R√≠</span> <span class="line-break" data-break-after="75" onclick="toggleLineBreak(75)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="87" data-syllable-index="76" title="Syllable: ∆°i. (1 note)">∆°i.</span> <span class="line-break active" data-break-after="76" onclick="toggleLineBreak(76)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="88" data-syllable-index="77" title="Syllable: Ch·ªìng (1 note), tone: huy·ªÅn">Ch·ªìng</span> <span class="line-break" data-break-after="77" onclick="toggleLineBreak(77)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="89" data-syllable-index="78" title="Syllable: g√¨ (1 note), tone: huy·ªÅn">g√¨</span> <span class="line-break" data-break-after="78" onclick="toggleLineBreak(78)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="90" data-syllable-index="79" title="Syllable: m√† (1 note), tone: huy·ªÅn">m√†</span> <span class="line-break" data-break-after="79" onclick="toggleLineBreak(79)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="91" data-syllable-index="80" title="Syllable: ch·ªìng (1 note), tone: huy·ªÅn">ch·ªìng</span> <span class="line-break" data-break-after="80" onclick="toggleLineBreak(80)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="93" data-syllable-index="81" title="Syllable: ng√°y, (1 note), tone: s·∫Øc">ng√°y,</span> <span class="line-break active" data-break-after="81" onclick="toggleLineBreak(81)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="95" data-syllable-index="82" title="Syllable: ng√°y (1 note), tone: s·∫Øc">ng√°y</span> <span class="line-break" data-break-after="82" onclick="toggleLineBreak(82)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable melismatic" data-position="96" data-syllable-index="83" title="Syllable: o (melismatic, 2 notes)">o</span> <span class="line-break" data-break-after="83" onclick="toggleLineBreak(83)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="98" data-syllable-index="84" title="Syllable: o (1 note)">o</span> <span class="line-break" data-break-after="84" onclick="toggleLineBreak(84)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="99" data-syllable-index="85" title="Syllable: o (1 note)">o</span> <span class="line-break" data-break-after="85" onclick="toggleLineBreak(85)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="100" data-syllable-index="86" title="Syllable: ƒê√™m (1 note)">ƒê√™m</span> <span class="line-break" data-break-after="86" onclick="toggleLineBreak(86)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="101" data-syllable-index="87" title="Syllable: th·ªùi (1 note), tone: huy·ªÅn">th·ªùi</span> <span class="line-break" data-break-after="87" onclick="toggleLineBreak(87)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="102" data-syllable-index="88" title="Syllable: n·∫±m (1 note), tone: huy·ªÅn">n·∫±m</span> <span class="line-break" data-break-after="88" onclick="toggleLineBreak(88)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="103" data-syllable-index="89" title="Syllable: co (1 note)">co</span> <span class="line-break" data-break-after="89" onclick="toggleLineBreak(89)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="104" data-syllable-index="90" title="Syllable: l√†m (1 note), tone: huy·ªÅn">l√†m</span> <span class="line-break" data-break-after="90" onclick="toggleLineBreak(90)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="105" data-syllable-index="91" title="Syllable: ƒÉn (1 note)">ƒÉn</span> <span class="line-break" data-break-after="91" onclick="toggleLineBreak(91)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="106" data-syllable-index="92" title="Syllable: l∆∞·ªùi (1 note), tone: huy·ªÅn">l∆∞·ªùi</span> <span class="line-break" data-break-after="92" onclick="toggleLineBreak(92)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="108" data-syllable-index="93" title="Syllable: bi·∫øng (1 note), tone: s·∫Øc">bi·∫øng</span> <span class="line-break" data-break-after="93" onclick="toggleLineBreak(93)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="110" data-syllable-index="94" title="Syllable: ch·∫≥ng (1 note), tone: h·ªèi">ch·∫≥ng</span> <span class="line-break" data-break-after="94" onclick="toggleLineBreak(94)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="111" data-syllable-index="95" title="Syllable: lo (1 note)">lo</span> <span class="line-break" data-break-after="95" onclick="toggleLineBreak(95)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="112" data-syllable-index="96" title="Syllable: h·ªçc (1 note), tone: n·∫∑ng">h·ªçc</span> <span class="line-break" data-break-after="96" onclick="toggleLineBreak(96)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="113" data-syllable-index="97" title="Syllable: h√†nh (1 note), tone: huy·ªÅn">h√†nh</span> <span class="line-break" data-break-after="97" onclick="toggleLineBreak(97)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="114" data-syllable-index="98" title="Syllable: c√°i (1 note), tone: s·∫Øc">c√°i</span> <span class="line-break" data-break-after="98" onclick="toggleLineBreak(98)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="115" data-syllable-index="99" title="Syllable: duy√™n (1 note)">duy√™n</span> <span class="line-break" data-break-after="99" onclick="toggleLineBreak(99)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="116" data-syllable-index="100" title="Syllable: √¥ng (1 note)">√¥ng</span> <span class="line-break" data-break-after="100" onclick="toggleLineBreak(100)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="117" data-syllable-index="101" title="Syllable: ch·ªìng (1 note), tone: huy·ªÅn">ch·ªìng</span> <span class="line-break" data-break-after="101" onclick="toggleLineBreak(101)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="118" data-syllable-index="102" title="Syllable: l√†m (1 note), tone: huy·ªÅn">l√†m</span> <span class="line-break" data-break-after="102" onclick="toggleLineBreak(102)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable melismatic" data-position="119" data-syllable-index="103" title="Syllable: kh·ªï (melismatic, 2 notes), tone: h·ªèi">kh·ªï</span> <span class="line-break" data-break-after="103" onclick="toggleLineBreak(103)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="121" data-syllable-index="104" title="Syllable: c√°i (1 note), tone: s·∫Øc">c√°i</span> <span class="line-break" data-break-after="104" onclick="toggleLineBreak(104)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="122" data-syllable-index="105" title="Syllable: ƒë·ªùi (1 note), tone: huy·ªÅn">ƒë·ªùi</span> <span class="line-break" data-break-after="105" onclick="toggleLineBreak(105)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="123" data-syllable-index="106" title="Syllable: t√¥i, (1 note)">t√¥i,</span> <span class="line-break" data-break-after="106" onclick="toggleLineBreak(106)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="124" data-syllable-index="107" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="107" onclick="toggleLineBreak(107)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="125" data-syllable-index="108" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="108" onclick="toggleLineBreak(108)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="126" data-syllable-index="109" title="Syllable: R√≠ (1 note), tone: s·∫Øc">R√≠</span> <span class="line-break" data-break-after="109" onclick="toggleLineBreak(109)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="127" data-syllable-index="110" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="110" onclick="toggleLineBreak(110)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="128" data-syllable-index="111" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="111" onclick="toggleLineBreak(111)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="129" data-syllable-index="112" title="Syllable: R·∫±ng (1 note), tone: huy·ªÅn">R·∫±ng</span> <span class="line-break" data-break-after="112" onclick="toggleLineBreak(112)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="130" data-syllable-index="113" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span> <span class="line-break" data-break-after="113" onclick="toggleLineBreak(113)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="131" data-syllable-index="114" title="Syllable: R√≠ (1 note), tone: s·∫Øc">R√≠</span> <span class="line-break" data-break-after="114" onclick="toggleLineBreak(114)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="132" data-syllable-index="115" title="Syllable: ∆°i (1 note)">∆°i</span> <span class="line-break active" data-break-after="115" onclick="toggleLineBreak(115)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="133" data-syllable-index="116" title="Syllable: B√† (1 note), tone: huy·ªÅn">B√†</span> <span class="line-break" data-break-after="116" onclick="toggleLineBreak(116)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="134" data-syllable-index="117" title="Syllable: R·∫±ng (1 note), tone: huy·ªÅn">R·∫±ng</span> <span class="line-break" data-break-after="117" onclick="toggleLineBreak(117)" title="Click to toggle line break">|</span> <span class="syllable editable-syllable" data-position="135" data-syllable-index="118" title="Syllable: b√† (1 note), tone: huy·ªÅn">b√†</span>
                            </div>
                        </td>
                        <td style="padding: 15px; border: 1px solid #e74c3c; background: #f8f9fa; text-align: left; vertical-align: top;">
                            <div style="font-size: 13px; line-height: 1.5;">
                                <span class="eng-word" data-viet="B√†">Lady</span> <span class="eng-word" data-viet="R·∫±ng">Rang</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠,">Ri,</span> <span class="eng-word" data-viet="·ªöi">Oh</span> <span class="eng-word" data-viet="r·∫±ng">telling</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="ƒëi,">where-to-go,</span> <span class="eng-word" data-viet="·ªõi">oh</span> <span class="eng-word" data-viet="ƒëi">going</span> <span class="eng-word" data-viet="l√†">is</span> <span class="eng-word" data-viet="ƒë√¢u">where</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="ƒëi">goes</span> <span class="eng-word" data-viet="kh·∫Øp">everywhere</span> <span class="eng-word" data-viet="ch·ªën">places</span> <span class="eng-word" data-viet="n·ªëi">connecting</span> <span class="eng-word" data-viet="d√¢y">threads</span> <span class="eng-word" data-viet="t∆°">silk</span> <span class="eng-word" data-viet="h·ªìng">red</span> <span class="eng-word" data-viet="c√°i">the</span> <span class="eng-word" data-viet="duy√™n">destiny</span> <span class="eng-word" data-viet="√¥ng">of</span> <span class="eng-word" data-viet="ch·ªìng">husband</span> <span class="eng-word" data-viet="l√†m">making</span> <span class="eng-word" data-viet="kh·ªï">miserable</span> <span class="eng-word" data-viet="c√°i">the</span> <span class="eng-word" data-viet="ƒë·ªùi">life</span> <span class="eng-word" data-viet="t√¥i">of-mine</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠">Ri</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R·∫±ng">Rang</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠">Ri</span> <span class="eng-word" data-viet="∆°i.">oh.</span> <span class="eng-word" data-viet="Ch·ªìng">What-husband</span> <span class="eng-word" data-viet="g√¨">what-kind</span> <span class="eng-word" data-viet="m√†">that</span> <span class="eng-word" data-viet="ch·ªìng">husband</span> <span class="eng-word" data-viet="b√©,">so-small,</span> <span class="eng-word" data-viet="b√©">small</span> <span class="eng-word" data-viet="t·∫πo">tiny</span> <span class="eng-word" data-viet="t√®o">skinny</span> <span class="eng-word" data-viet="teo,">lean,</span> <span class="eng-word" data-viet="ch√¢n">legs</span> <span class="eng-word" data-viet="ƒëi">walking</span> <span class="eng-word" data-viet="c√†">crooked</span> <span class="eng-word" data-viet="kheo">limping</span> <span class="eng-word" data-viet="l√∫c">when</span> <span class="eng-word" data-viet="ƒëi">going</span> <span class="eng-word" data-viet="ph·∫£i">must</span> <span class="eng-word" data-viet="c√µng">carry</span> <span class="eng-word" data-viet="l√∫c">when</span> <span class="eng-word" data-viet="kh√≥c">crying</span> <span class="eng-word" data-viet="ph·∫£i">must</span> <span class="eng-word" data-viet="b·ªìng">hold</span> <span class="eng-word" data-viet="c√°i">the</span> <span class="eng-word" data-viet="duy√™n">destiny</span> <span class="eng-word" data-viet="√¥ng">of</span> <span class="eng-word" data-viet="ch·ªìng">husband</span> <span class="eng-word" data-viet="l√†m">making</span> <span class="eng-word" data-viet="kh·ªï">miserable</span> <span class="eng-word" data-viet="c√°i">the</span> <span class="eng-word" data-viet="ƒë·ªùi">life</span> <span class="eng-word" data-viet="t√¥i">of-mine</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠">Ri</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R·∫±ng">Rang</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠">Ri</span> <span class="eng-word" data-viet="∆°i.">oh.</span> <span class="eng-word" data-viet="Ch·ªìng">What-husband</span> <span class="eng-word" data-viet="g√¨">what-kind</span> <span class="eng-word" data-viet="m√†">that</span> <span class="eng-word" data-viet="ch·ªìng">husband</span> <span class="eng-word" data-viet="ng√°y,">sleepy,</span> <span class="eng-word" data-viet="ng√°y">sleepy</span> <span class="eng-word" data-viet="o">oh</span> <span class="eng-word" data-viet="o">oh</span> <span class="eng-word" data-viet="o">oh</span> <span class="eng-word" data-viet="ƒê√™m">At-night</span> <span class="eng-word" data-viet="th·ªùi">time</span> <span class="eng-word" data-viet="n·∫±m">lying</span> <span class="eng-word" data-viet="co">curled-up</span> <span class="eng-word" data-viet="l√†m">doing</span> <span class="eng-word" data-viet="ƒÉn">eating</span> <span class="eng-word" data-viet="l∆∞·ªùi">lazy</span> <span class="eng-word" data-viet="bi·∫øng">reluctant</span> <span class="eng-word" data-viet="ch·∫≥ng">not</span> <span class="eng-word" data-viet="lo">caring</span> <span class="eng-word" data-viet="h·ªçc">to-study</span> <span class="eng-word" data-viet="h√†nh">or-work</span> <span class="eng-word" data-viet="c√°i">the</span> <span class="eng-word" data-viet="duy√™n">destiny</span> <span class="eng-word" data-viet="√¥ng">of</span> <span class="eng-word" data-viet="ch·ªìng">husband</span> <span class="eng-word" data-viet="l√†m">making</span> <span class="eng-word" data-viet="kh·ªï">miserable</span> <span class="eng-word" data-viet="c√°i">the</span> <span class="eng-word" data-viet="ƒë·ªùi">life</span> <span class="eng-word" data-viet="t√¥i,">of-mine,</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠">Ri</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R·∫±ng">Rang</span> <span class="eng-word" data-viet="b√†">lady</span> <span class="eng-word" data-viet="R√≠">Ri</span> <span class="eng-word" data-viet="∆°i">oh</span> <span class="eng-word" data-viet="B√†">Lady</span> <span class="eng-word" data-viet="R·∫±ng">Rang</span> <span class="eng-word" data-viet="b√†">lady</span>
                            </div>
                        </td>
                    </tr>
                    <!-- Controls Row at Bottom -->
                    <tr>
                        <td colspan="2" style="padding: 10px; border: 1px solid #ddd; background: #f9f9f9; text-align: center;">
                            <div style="font-size: 11px;">
                                <strong>üìù Interactive:</strong> Click Vietnamese syllables or English words to see translations. Click "|" to adjust line breaks.
                                <button onclick="resetLyricsBreaks()" style="margin-left: 10px; padding: 2px 6px; font-size: 10px;">Reset</button>

                                <!-- Font Selector -->
                                <label style="margin-left: 10px; font-weight: bold;">Font:</label>
                                <select id="lyrics-font-selector" onchange="changeLyricsFont()" style="margin-left: 5px; padding: 2px 6px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                                    <option value="inherit">Default</option>
                                    <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">Segoe UI</option>
                                    <option value="Arial, sans-serif">Arial</option>
                                    <option value="'Times New Roman', Times, serif">Times New Roman</option>
                                    <option value="Georgia, serif">Georgia</option>
                                    <option value="'Courier New', Courier, monospace">Courier New</option>
                                    <option value="'Trebuchet MS', Helvetica, sans-serif">Trebuchet MS</option>
                                    <option value="Verdana, Geneva, sans-serif">Verdana</option>
                                    <option value="'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', sans-serif">Lucida Sans</option>
                                    <option value="'Palatino Linotype', 'Book Antiqua', Palatino, serif">Palatino</option>
                                    <option value="'Comic Sans MS', cursive">Comic Sans</option>
                                    <option value="Impact, Charcoal, sans-serif">Impact</option>
                                    <option value="'Arial Black', Gadget, sans-serif">Arial Black</option>
                                    <option value="'Noto Sans', sans-serif">Noto Sans (Vietnamese)</option>
                                    <option value="'Roboto', sans-serif">Roboto</option>
                                </select>

                                <!-- Font Size Selector -->
                                <label style="margin-left: 10px; font-weight: bold;">Size:</label>
                                <select id="lyrics-size-selector" onchange="changeLyricsFontSize()" style="margin-left: 5px; padding: 2px 6px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                                    <option value="11">11px</option>
                                    <option value="12">12px</option>
                                    <option value="13" selected>13px</option>
                                    <option value="14">14px</option>
                                    <option value="15">15px</option>
                                    <option value="16">16px</option>
                                    <option value="18">18px</option>
                                    <option value="20">20px</option>
                                </select>

                                <button id="start-learning-btn" onclick="startLearning()" style="margin-left: 10px; font-size: 9px; padding: 2px 8px; background: #4CAF50; color: white; border: none; border-radius: 2px;">‚ñ∂Ô∏è Start Learning</button>
                                <button id="done-learning-btn" onclick="doneLearning()" style="margin-left: 5px; font-size: 9px; padding: 2px 8px; background: #FF9800; color: white; border: none; border-radius: 2px; display: none;">‚úÖ Done Learning</button>
                                <button onclick="clearLearningData()" style="margin-left: 5px; font-size: 9px; padding: 2px 6px; background: #FF5722; color: white; border: none; border-radius: 2px;">üóë Clear</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

    </div>

    <!-- Floating Legend Box (Bottom Right) -->
    <div id="floating-legend" style="display: none; position: fixed; bottom: 20px; right: 20px; width: 220px; background: white; border: 2px solid #34495e; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000; font-size: 11px;">
        <div style="background: #34495e; color: white; padding: 8px 12px; border-radius: 6px 6px 0 0; font-weight: bold; text-align: center;">
            üè∑Ô∏è Legend
        </div>
        <div style="padding: 10px;">
            <div style="margin: 6px 0; display: flex; align-items: center;"><span style="width: 12px; height: 12px; background: #ff6b35; display: inline-block; margin-right: 8px; border-radius: 2px;"></span>KPIC Patterns</div>
            <div style="margin: 6px 0; display: flex; align-items: center;"><span style="width: 12px; height: 12px; background: #4ecdc4; display: inline-block; margin-right: 8px; border-radius: 2px;"></span>KRIC Patterns</div>
            <div style="margin: 6px 0; display: flex; align-items: center;"><span style="width: 12px; height: 12px; background: #45b7d1; display: inline-block; margin-right: 8px; border-radius: 2px;"></span>Repeated Syllables</div>
            <div style="margin: 6px 0; display: flex; align-items: center;"><span style="width: 12px; height: 12px; background: #f39c12; display: inline-block; margin-right: 8px; border-radius: 2px;"></span>Grace Notes</div>
            <div style="margin: 6px 0; display: flex; align-items: center;"><span style="width: 12px; height: 12px; background: #e74c3c; display: inline-block; margin-right: 8px; border-radius: 2px;"></span>Melismatic</div>
        </div>
    </div>

    <script>
        // Analysis data
        const analysisData = {"kpic_patterns": {"full": {"kpic-2": [{"pattern": ["C5", "C5"], "count": 16, "positions": [0, 1, 15, 32, 45, 46, 47, 56, 75, 88, 89, 90, 103, 120, 133, 134], "analysis_mode": "full"}, {"pattern": ["A4", "C5"], "count": 14, "positions": [7, 14, 25, 35, 44, 53, 58, 68, 78, 87, 102, 113, 123, 132], "analysis_mode": "full"}, {"pattern": ["C5", "A4"], "count": 14, "positions": [13, 24, 26, 38, 43, 57, 67, 69, 81, 86, 100, 112, 114, 131], "analysis_mode": "full"}, {"pattern": ["C5", "D5"], "count": 10, "positions": [2, 8, 16, 48, 54, 59, 91, 98, 104, 106], "analysis_mode": "full"}, {"pattern": ["D5", "E5"], "count": 10, "positions": [3, 10, 17, 19, 21, 49, 60, 92, 107, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5"], "count": 9, "positions": [11, 18, 20, 22, 61, 65, 96, 108, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5"], "count": 9, "positions": [12, 23, 55, 62, 66, 97, 99, 105, 111], "analysis_mode": "full"}, {"pattern": ["G4", "C5"], "count": 8, "positions": [31, 37, 42, 74, 80, 85, 119, 130], "analysis_mode": "full"}, {"pattern": ["A4", "G4"], "count": 6, "positions": [27, 39, 70, 82, 115, 127], "analysis_mode": "full"}, {"pattern": ["C5", "G4"], "count": 6, "positions": [33, 36, 76, 79, 121, 124], "analysis_mode": "full"}], "kpic-3": [{"pattern": ["C5", "A4", "C5"], "count": 8, "positions": [13, 24, 43, 57, 67, 86, 112, 131], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5"], "count": 7, "positions": [10, 17, 19, 21, 60, 107, 109], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5"], "count": 6, "positions": [0, 45, 46, 88, 89, 133], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5"], "count": 6, "positions": [2, 16, 48, 59, 91, 106], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5"], "count": 6, "positions": [11, 22, 61, 65, 96, 110], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "D5"], "count": 5, "positions": [1, 15, 47, 90, 103], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4"], "count": 5, "positions": [12, 23, 66, 99, 111], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "C5"], "count": 5, "positions": [14, 44, 87, 102, 132], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4"], "count": 5, "positions": [26, 38, 69, 81, 114], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "A4"], "count": 5, "positions": [37, 42, 80, 85, 130], "analysis_mode": "full"}], "kpic-4": [{"pattern": ["C5", "C5", "D5", "E5"], "count": 4, "positions": [1, 15, 47, 90], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5"], "count": 4, "positions": [10, 21, 60, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4"], "count": 4, "positions": [11, 22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5"], "count": 4, "positions": [12, 23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "C5"], "count": 4, "positions": [13, 43, 86, 131], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5", "E5"], "count": 3, "positions": [2, 48, 91], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "E5", "G5"], "count": 3, "positions": [3, 49, 92], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5", "D5"], "count": 3, "positions": [16, 59, 106], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5"], "count": 3, "positions": [17, 19, 107], "analysis_mode": "full"}], "kpic-5": [{"pattern": ["E5", "D5", "C5", "A4", "C5"], "count": 4, "positions": [11, 22, 65, 110], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5", "E5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "D5", "E5", "E5"], "count": 3, "positions": [1, 47, 90], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5", "E5", "G5"], "count": 3, "positions": [2, 48, 91], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4"], "count": 3, "positions": [10, 21, 109], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5"], "count": 3, "positions": [17, 19, 107], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}], "kpic-6": [{"pattern": ["C5", "C5", "C5", "D5", "E5", "E5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "D5", "E5", "E5", "G5"], "count": 3, "positions": [1, 47, 90], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5"], "count": 3, "positions": [10, 21, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}], "kpic-7": [{"pattern": ["C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}], "kpic-8": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "full"}], "kpic-9": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5", "E5", "E5", "G5", "A4", "C5"], "count": 2, "positions": [0, 46], "analysis_mode": "full"}], "kpic-10": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5", "E5", "E5", "G5", "A4", "C5", "D5"], "count": 2, "positions": [0, 46], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}], "kpic-11": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-12": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-13": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-14": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-15": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-16": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-17": [{"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-18": [{"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}], "kpic-19": [{"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}], "kpic-20": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [31, 74], "analysis_mode": "full"}], "kpic-21": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [31, 74], "analysis_mode": "full"}], "kpic-22": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [31, 74], "analysis_mode": "full"}], "kpic-23": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}], "kpic-24": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}], "kpic-25": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-26": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}], "kpic-27": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}], "kpic-28": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}], "kpic-29": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}], "kpic-30": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}], "kpic-31": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}], "kpic-max": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}]}, "kpic-2": [{"pattern": ["C5", "C5"], "count": 16, "positions": [0, 1, 15, 32, 45, 46, 47, 56, 75, 88, 89, 90, 103, 120, 133, 134], "analysis_mode": "full"}, {"pattern": ["A4", "C5"], "count": 14, "positions": [7, 14, 25, 35, 44, 53, 58, 68, 78, 87, 102, 113, 123, 132], "analysis_mode": "full"}, {"pattern": ["C5", "A4"], "count": 14, "positions": [13, 24, 26, 38, 43, 57, 67, 69, 81, 86, 100, 112, 114, 131], "analysis_mode": "full"}, {"pattern": ["C5", "D5"], "count": 10, "positions": [2, 8, 16, 48, 54, 59, 91, 98, 104, 106], "analysis_mode": "full"}, {"pattern": ["D5", "E5"], "count": 10, "positions": [3, 10, 17, 19, 21, 49, 60, 92, 107, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5"], "count": 9, "positions": [11, 18, 20, 22, 61, 65, 96, 108, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5"], "count": 9, "positions": [12, 23, 55, 62, 66, 97, 99, 105, 111], "analysis_mode": "full"}, {"pattern": ["G4", "C5"], "count": 8, "positions": [31, 37, 42, 74, 80, 85, 119, 130], "analysis_mode": "full"}, {"pattern": ["A4", "G4"], "count": 6, "positions": [27, 39, 70, 82, 115, 127], "analysis_mode": "full"}, {"pattern": ["C5", "G4"], "count": 6, "positions": [33, 36, 76, 79, 121, 124], "analysis_mode": "full"}], "kpic-3": [{"pattern": ["C5", "A4", "C5"], "count": 8, "positions": [13, 24, 43, 57, 67, 86, 112, 131], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5"], "count": 7, "positions": [10, 17, 19, 21, 60, 107, 109], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5"], "count": 6, "positions": [0, 45, 46, 88, 89, 133], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5"], "count": 6, "positions": [2, 16, 48, 59, 91, 106], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5"], "count": 6, "positions": [11, 22, 61, 65, 96, 110], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "D5"], "count": 5, "positions": [1, 15, 47, 90, 103], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4"], "count": 5, "positions": [12, 23, 66, 99, 111], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "C5"], "count": 5, "positions": [14, 44, 87, 102, 132], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4"], "count": 5, "positions": [26, 38, 69, 81, 114], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "A4"], "count": 5, "positions": [37, 42, 80, 85, 130], "analysis_mode": "full"}], "kpic-4": [{"pattern": ["C5", "C5", "D5", "E5"], "count": 4, "positions": [1, 15, 47, 90], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5"], "count": 4, "positions": [10, 21, 60, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4"], "count": 4, "positions": [11, 22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5"], "count": 4, "positions": [12, 23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "C5"], "count": 4, "positions": [13, 43, 86, 131], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5", "E5"], "count": 3, "positions": [2, 48, 91], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "E5", "G5"], "count": 3, "positions": [3, 49, 92], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5", "D5"], "count": 3, "positions": [16, 59, 106], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5"], "count": 3, "positions": [17, 19, 107], "analysis_mode": "full"}], "kpic-5": [{"pattern": ["E5", "D5", "C5", "A4", "C5"], "count": 4, "positions": [11, 22, 65, 110], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5", "E5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "D5", "E5", "E5"], "count": 3, "positions": [1, 47, 90], "analysis_mode": "full"}, {"pattern": ["C5", "D5", "E5", "E5", "G5"], "count": 3, "positions": [2, 48, 91], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4"], "count": 3, "positions": [10, 21, 109], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5"], "count": 3, "positions": [17, 19, 107], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}], "kpic-6": [{"pattern": ["C5", "C5", "C5", "D5", "E5", "E5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "D5", "E5", "E5", "G5"], "count": 3, "positions": [1, 47, 90], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5"], "count": 3, "positions": [10, 21, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}], "kpic-7": [{"pattern": ["C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}], "kpic-8": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "full"}], "kpic-9": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5", "E5", "E5", "G5", "A4", "C5"], "count": 2, "positions": [0, 46], "analysis_mode": "full"}], "kpic-10": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": ["C5", "C5", "C5", "D5", "E5", "E5", "G5", "A4", "C5", "D5"], "count": 2, "positions": [0, 46], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}], "kpic-11": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-12": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-13": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-14": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-15": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-16": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-17": [{"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-18": [{"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}], "kpic-19": [{"pattern": ["D5", "E5", "D5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}], "kpic-20": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [31, 74], "analysis_mode": "full"}], "kpic-21": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [31, 74], "analysis_mode": "full"}], "kpic-22": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [31, 74], "analysis_mode": "full"}], "kpic-23": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [30, 73], "analysis_mode": "full"}], "kpic-24": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [29, 72], "analysis_mode": "full"}], "kpic-25": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [28, 71], "analysis_mode": "full"}], "kpic-26": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [27, 70], "analysis_mode": "full"}], "kpic-27": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [26, 69], "analysis_mode": "full"}], "kpic-28": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [25, 68], "analysis_mode": "full"}], "kpic-29": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [24, 67], "analysis_mode": "full"}], "kpic-30": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [23, 66], "analysis_mode": "full"}], "kpic-31": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}], "kpic-max": [{"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "D5", "E5", "E5", "G5"], "count": 2, "positions": [22, 65], "analysis_mode": "full"}], "main_melody": {"kpic-2": [{"pattern": ["C5", "C5"], "count": 16, "positions": [0, 1, 15, 32, 45, 46, 47, 56, 75, 88, 89, 90, 103, 120, 133, 134], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5"], "count": 14, "positions": [7, 14, 25, 35, 44, 53, 58, 68, 78, 87, 102, 113, 123, 132], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4"], "count": 14, "positions": [13, 24, 26, 38, 43, 57, 67, 69, 81, 86, 100, 112, 114, 131], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5"], "count": 9, "positions": [12, 23, 55, 62, 66, 97, 99, 105, 111], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5"], "count": 8, "positions": [31, 37, 42, 74, 80, 85, 119, 130], "analysis_mode": "main_melody"}, {"pattern": ["C5", "E5"], "count": 6, "positions": [2, 48, 59, 63, 91, 106], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5"], "count": 6, "positions": [11, 22, 61, 65, 96, 110], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4"], "count": 6, "positions": [27, 39, 70, 82, 115, 127], "analysis_mode": "main_melody"}, {"pattern": ["C5", "G4"], "count": 6, "positions": [33, 36, 76, 79, 121, 124], "analysis_mode": "main_melody"}, {"pattern": ["G4", "G4"], "count": 6, "positions": [40, 41, 83, 84, 128, 129], "analysis_mode": "main_melody"}], "kpic-3": [{"pattern": ["C5", "A4", "C5"], "count": 8, "positions": [13, 24, 43, 57, 67, 86, 112, 131], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "C5"], "count": 6, "positions": [0, 45, 46, 88, 89, 133], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5"], "count": 6, "positions": [11, 22, 61, 65, 96, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4"], "count": 5, "positions": [12, 23, 66, 99, 111], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "C5"], "count": 5, "positions": [14, 44, 87, 102, 132], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4"], "count": 5, "positions": [26, 38, 69, 81, 114], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "A4"], "count": 5, "positions": [37, 42, 80, 85, 130], "analysis_mode": "main_melody"}, {"pattern": ["C5", "G4", "A4"], "count": 4, "positions": [33, 76, 121, 124], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "E5"], "count": 3, "positions": [1, 47, 90], "analysis_mode": "main_melody"}, {"pattern": ["C5", "E5", "E5"], "count": 3, "positions": [2, 63, 106], "analysis_mode": "main_melody"}], "kpic-4": [{"pattern": ["E5", "D5", "C5", "A4"], "count": 4, "positions": [11, 22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5"], "count": 4, "positions": [12, 23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "C5"], "count": 4, "positions": [13, 43, 86, 131], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "C5", "E5"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "main_melody"}, {"pattern": ["E5", "E5", "D5", "C5"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}], "kpic-5": [{"pattern": ["E5", "D5", "C5", "A4", "C5"], "count": 4, "positions": [11, 22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["E5", "E5", "D5", "C5", "A4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}], "kpic-6": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}], "kpic-7": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}], "kpic-8": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}], "kpic-9": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "main_melody"}], "kpic-10": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-11": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-12": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-13": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-14": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-15": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-16": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-17": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-18": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-19": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-20": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-21": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-22": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}], "kpic-23": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}], "kpic-24": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}], "kpic-25": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}], "kpic-26": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}], "kpic-27": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}], "kpic-28": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}], "kpic-29": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}, {"pattern": ["E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [22, 65], "analysis_mode": "main_melody"}], "kpic-30": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}], "kpic-max": [{"pattern": ["E5", "E5", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "E5", "G5"], "count": 2, "positions": [20, 64], "analysis_mode": "main_melody"}]}, "grace_units": {"kpic-2": [{"pattern": ["C5", "C5"], "count": 16, "positions": [0, 1, 15, 32, 45, 46, 47, 56, 75, 88, 89, 90, 103, 120, 133, 134], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5"], "count": 14, "positions": [7, 14, 25, 35, 44, 53, 58, 68, 78, 87, 102, 113, 123, 132], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4"], "count": 14, "positions": [13, 24, 26, 38, 43, 57, 67, 69, 81, 86, 100, 112, 114, 131], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5"], "count": 9, "positions": [12, 23, 55, 62, 66, 97, 99, 105, 111], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5"], "count": 8, "positions": [31, 37, 42, 74, 80, 85, 119, 130], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4"], "count": 6, "positions": [27, 39, 70, 82, 115, 127], "analysis_mode": "main_melody"}, {"pattern": ["C5", "G4"], "count": 6, "positions": [33, 36, 76, 79, 121, 124], "analysis_mode": "main_melody"}, {"pattern": ["G4", "G4"], "count": 6, "positions": [40, 41, 83, 84, 128, 129], "analysis_mode": "main_melody"}, {"pattern": ["C5", "(D5‚ÜíE5)"], "count": 5, "positions": [2, 48, 59, 91, 106], "analysis_mode": "main_melody"}, {"pattern": ["C5", "D5"], "count": 5, "positions": [8, 16, 54, 98, 104], "analysis_mode": "main_melody"}], "kpic-3": [{"pattern": ["C5", "A4", "C5"], "count": 8, "positions": [13, 24, 43, 57, 67, 86, 112, 131], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "C5"], "count": 6, "positions": [0, 45, 46, 88, 89, 133], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4"], "count": 5, "positions": [12, 23, 66, 99, 111], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "C5"], "count": 5, "positions": [14, 44, 87, 102, 132], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4"], "count": 5, "positions": [26, 38, 69, 81, 114], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "A4"], "count": 5, "positions": [37, 42, 80, 85, 130], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5"], "count": 4, "positions": [10, 21, 60, 109], "analysis_mode": "main_melody"}, {"pattern": ["C5", "G4", "A4"], "count": 4, "positions": [33, 76, 121, 124], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "(D5‚ÜíE5)"], "count": 3, "positions": [1, 47, 90], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}], "kpic-4": [{"pattern": ["D5", "C5", "A4", "C5"], "count": 4, "positions": [12, 23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "C5"], "count": 4, "positions": [13, 43, 86, 131], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 3, "positions": [0, 46, 89], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4"], "count": 3, "positions": [10, 21, 109], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}], "kpic-5": [{"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5"], "count": 3, "positions": [10, 21, 109], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [31, 74, 119], "analysis_mode": "main_melody"}], "kpic-6": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [31, 74, 119], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [32, 75, 120], "analysis_mode": "main_melody"}], "kpic-7": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [31, 74, 119], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "main_melody"}], "kpic-8": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "main_melody"}, {"pattern": ["G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 3, "positions": [40, 83, 128], "analysis_mode": "main_melody"}], "kpic-9": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 3, "positions": [39, 82, 127], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}], "kpic-10": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-11": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-12": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-13": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-14": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-15": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-16": [{"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-17": [{"pattern": ["(D5‚ÜíE5)", "(D5‚ÜíE5)", "D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4"], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [31, 74], "analysis_mode": "main_melody"}], "kpic-18": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [31, 74], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [32, 75], "analysis_mode": "main_melody"}], "kpic-19": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [31, 74], "analysis_mode": "main_melody"}, {"pattern": ["C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [32, 75], "analysis_mode": "main_melody"}], "kpic-20": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}, {"pattern": ["G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [31, 74], "analysis_mode": "main_melody"}], "kpic-21": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}, {"pattern": ["D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [30, 73], "analysis_mode": "main_melody"}], "kpic-22": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}, {"pattern": ["D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [29, 72], "analysis_mode": "main_melody"}], "kpic-23": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}, {"pattern": ["G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [28, 71], "analysis_mode": "main_melody"}], "kpic-24": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}, {"pattern": ["A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [27, 70], "analysis_mode": "main_melody"}], "kpic-25": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [26, 69], "analysis_mode": "main_melody"}], "kpic-26": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}, {"pattern": ["A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [25, 68], "analysis_mode": "main_melody"}], "kpic-27": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}, {"pattern": ["C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [24, 67], "analysis_mode": "main_melody"}], "kpic-28": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}], "kpic-max": [{"pattern": ["D5", "C5", "A4", "C5", "A4", "G4", "D4", "D4", "G4", "C5", "C5", "G4", "A4", "C5", "G4", "C5", "A4", "G4", "G4", "G4", "C5", "A4", "C5", "C5", "C5", "C5", "(D5‚ÜíE5)", "(E5‚ÜíG5)"], "count": 2, "positions": [23, 66], "analysis_mode": "main_melody"}]}}, "kric_patterns": {"full": {"kric-2": [{"pattern": [1, 2], "count": 22, "positions": [6, 13, 26, 33, 42, 44, 47, 58, 63, 69, 76, 80, 85, 87, 90, 97, 102, 114, 121, 125, 130, 132], "analysis_mode": "full"}, {"pattern": [2, 1], "count": 21, "positions": [11, 17, 23, 29, 37, 43, 45, 57, 62, 66, 72, 79, 86, 88, 95, 101, 105, 111, 117, 124, 131], "analysis_mode": "full"}, {"pattern": [1, 1], "count": 20, "positions": [5, 12, 30, 31, 32, 40, 41, 46, 73, 74, 75, 83, 84, 89, 96, 118, 119, 120, 128, 129], "analysis_mode": "full"}, {"pattern": [2, 2], "count": 15, "positions": [0, 1, 7, 14, 27, 28, 36, 52, 53, 70, 71, 115, 116, 133, 134], "analysis_mode": "full"}, {"pattern": [3, 2], "count": 11, "positions": [16, 22, 35, 56, 61, 65, 78, 100, 104, 110, 123], "analysis_mode": "full"}, {"pattern": [2, 3], "count": 8, "positions": [15, 34, 64, 77, 81, 103, 122, 126], "analysis_mode": "full"}, {"pattern": [2, 0.5], "count": 6, "positions": [2, 20, 48, 59, 91, 108], "analysis_mode": "full"}, {"pattern": [3, 1], "count": 6, "positions": [25, 39, 68, 82, 113, 127], "analysis_mode": "full"}, {"pattern": [0.5, 2], "count": 5, "positions": [10, 19, 51, 94, 107], "analysis_mode": "full"}, {"pattern": [1, 3], "count": 4, "positions": [24, 38, 67, 112], "analysis_mode": "full"}], "kric-3": [{"pattern": [1, 1, 2], "count": 11, "positions": [5, 12, 32, 41, 46, 75, 84, 89, 96, 120, 129], "analysis_mode": "full"}, {"pattern": [3, 2, 1], "count": 10, "positions": [16, 22, 56, 61, 65, 78, 100, 104, 110, 123], "analysis_mode": "full"}, {"pattern": [1, 1, 1], "count": 9, "positions": [30, 31, 40, 73, 74, 83, 118, 119, 128], "analysis_mode": "full"}, {"pattern": [2, 1, 2], "count": 8, "positions": [43, 57, 62, 79, 86, 101, 124, 131], "analysis_mode": "full"}, {"pattern": [2, 1, 1], "count": 7, "positions": [11, 29, 45, 72, 88, 95, 117], "analysis_mode": "full"}, {"pattern": [1, 2, 3], "count": 7, "positions": [33, 63, 76, 80, 102, 121, 125], "analysis_mode": "full"}, {"pattern": [2, 2, 2], "count": 6, "positions": [0, 27, 52, 70, 115, 133], "analysis_mode": "full"}, {"pattern": [1, 2, 2], "count": 6, "positions": [6, 13, 26, 69, 114, 132], "analysis_mode": "full"}, {"pattern": [2, 3, 2], "count": 6, "positions": [15, 34, 64, 77, 103, 122], "analysis_mode": "full"}, {"pattern": [1, 2, 1], "count": 5, "positions": [42, 44, 85, 87, 130], "analysis_mode": "full"}], "kric-4": [{"pattern": [1, 1, 1, 2], "count": 6, "positions": [31, 40, 74, 83, 119, 128], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1], "count": 5, "positions": [15, 64, 77, 103, 122], "analysis_mode": "full"}, {"pattern": [1, 2, 3, 2], "count": 5, "positions": [33, 63, 76, 102, 121], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 2], "count": 5, "positions": [56, 61, 78, 100, 123], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 2], "count": 4, "positions": [11, 45, 88, 95], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1], "count": 4, "positions": [23, 37, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2], "count": 4, "positions": [26, 69, 114, 132], "analysis_mode": "full"}, {"pattern": [2, 1, 2, 3], "count": 4, "positions": [62, 79, 101, 124], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2], "count": 3, "positions": [20, 59, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1], "count": 3, "positions": [21, 60, 109], "analysis_mode": "full"}], "kric-5": [{"pattern": [3, 2, 1, 2, 3], "count": 4, "positions": [61, 78, 100, 123], "analysis_mode": "full"}, {"pattern": [1, 2, 3, 2, 1], "count": 4, "positions": [63, 76, 102, 121], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1], "count": 3, "positions": [20, 59, 108], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}], "kric-6": [{"pattern": [3, 2, 1, 3, 1, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 1, 1, 2], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": [1, 1, 1, 1, 2, 3], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}, {"pattern": [1, 1, 1, 2, 3, 2], "count": 3, "positions": [31, 74, 119], "analysis_mode": "full"}], "kric-7": [{"pattern": [3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": [1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}, {"pattern": [3, 1, 1, 1, 2, 1, 2], "count": 3, "positions": [39, 82, 127], "analysis_mode": "full"}], "kric-8": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}], "kric-9": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3], "count": 2, "positions": [17, 105], "analysis_mode": "full"}], "kric-10": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}], "kric-11": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [19, 107], "analysis_mode": "full"}], "kric-12": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [20, 108], "analysis_mode": "full"}], "kric-13": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [21, 109], "analysis_mode": "full"}], "kric-14": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": [3, 1, 1, 1, 2, 1, 2, 1, 1, 2, 0.5, 8, 0.5, 2], "count": 2, "positions": [39, 82], "analysis_mode": "full"}], "kric-15": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "full"}], "kric-16": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [67, 112], "analysis_mode": "full"}], "kric-17": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [68, 113], "analysis_mode": "full"}], "kric-18": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "full"}], "kric-19": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [70, 115], "analysis_mode": "full"}], "kric-20": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "full"}], "kric-21": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "full"}], "kric-22": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "full"}], "kric-23": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "full"}], "kric-24": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}], "kric-max": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}]}, "kric-2": [{"pattern": [1, 2], "count": 22, "positions": [6, 13, 26, 33, 42, 44, 47, 58, 63, 69, 76, 80, 85, 87, 90, 97, 102, 114, 121, 125, 130, 132], "analysis_mode": "full"}, {"pattern": [2, 1], "count": 21, "positions": [11, 17, 23, 29, 37, 43, 45, 57, 62, 66, 72, 79, 86, 88, 95, 101, 105, 111, 117, 124, 131], "analysis_mode": "full"}, {"pattern": [1, 1], "count": 20, "positions": [5, 12, 30, 31, 32, 40, 41, 46, 73, 74, 75, 83, 84, 89, 96, 118, 119, 120, 128, 129], "analysis_mode": "full"}, {"pattern": [2, 2], "count": 15, "positions": [0, 1, 7, 14, 27, 28, 36, 52, 53, 70, 71, 115, 116, 133, 134], "analysis_mode": "full"}, {"pattern": [3, 2], "count": 11, "positions": [16, 22, 35, 56, 61, 65, 78, 100, 104, 110, 123], "analysis_mode": "full"}, {"pattern": [2, 3], "count": 8, "positions": [15, 34, 64, 77, 81, 103, 122, 126], "analysis_mode": "full"}, {"pattern": [2, 0.5], "count": 6, "positions": [2, 20, 48, 59, 91, 108], "analysis_mode": "full"}, {"pattern": [3, 1], "count": 6, "positions": [25, 39, 68, 82, 113, 127], "analysis_mode": "full"}, {"pattern": [0.5, 2], "count": 5, "positions": [10, 19, 51, 94, 107], "analysis_mode": "full"}, {"pattern": [1, 3], "count": 4, "positions": [24, 38, 67, 112], "analysis_mode": "full"}], "kric-3": [{"pattern": [1, 1, 2], "count": 11, "positions": [5, 12, 32, 41, 46, 75, 84, 89, 96, 120, 129], "analysis_mode": "full"}, {"pattern": [3, 2, 1], "count": 10, "positions": [16, 22, 56, 61, 65, 78, 100, 104, 110, 123], "analysis_mode": "full"}, {"pattern": [1, 1, 1], "count": 9, "positions": [30, 31, 40, 73, 74, 83, 118, 119, 128], "analysis_mode": "full"}, {"pattern": [2, 1, 2], "count": 8, "positions": [43, 57, 62, 79, 86, 101, 124, 131], "analysis_mode": "full"}, {"pattern": [2, 1, 1], "count": 7, "positions": [11, 29, 45, 72, 88, 95, 117], "analysis_mode": "full"}, {"pattern": [1, 2, 3], "count": 7, "positions": [33, 63, 76, 80, 102, 121, 125], "analysis_mode": "full"}, {"pattern": [2, 2, 2], "count": 6, "positions": [0, 27, 52, 70, 115, 133], "analysis_mode": "full"}, {"pattern": [1, 2, 2], "count": 6, "positions": [6, 13, 26, 69, 114, 132], "analysis_mode": "full"}, {"pattern": [2, 3, 2], "count": 6, "positions": [15, 34, 64, 77, 103, 122], "analysis_mode": "full"}, {"pattern": [1, 2, 1], "count": 5, "positions": [42, 44, 85, 87, 130], "analysis_mode": "full"}], "kric-4": [{"pattern": [1, 1, 1, 2], "count": 6, "positions": [31, 40, 74, 83, 119, 128], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1], "count": 5, "positions": [15, 64, 77, 103, 122], "analysis_mode": "full"}, {"pattern": [1, 2, 3, 2], "count": 5, "positions": [33, 63, 76, 102, 121], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 2], "count": 5, "positions": [56, 61, 78, 100, 123], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 2], "count": 4, "positions": [11, 45, 88, 95], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1], "count": 4, "positions": [23, 37, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2], "count": 4, "positions": [26, 69, 114, 132], "analysis_mode": "full"}, {"pattern": [2, 1, 2, 3], "count": 4, "positions": [62, 79, 101, 124], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2], "count": 3, "positions": [20, 59, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1], "count": 3, "positions": [21, 60, 109], "analysis_mode": "full"}], "kric-5": [{"pattern": [3, 2, 1, 2, 3], "count": 4, "positions": [61, 78, 100, 123], "analysis_mode": "full"}, {"pattern": [1, 2, 3, 2, 1], "count": 4, "positions": [63, 76, 102, 121], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1], "count": 3, "positions": [20, 59, 108], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}], "kric-6": [{"pattern": [3, 2, 1, 3, 1, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 1, 1, 2], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": [1, 1, 1, 1, 2, 3], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}, {"pattern": [1, 1, 1, 2, 3, 2], "count": 3, "positions": [31, 74, 119], "analysis_mode": "full"}], "kric-7": [{"pattern": [3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": [1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [30, 73, 118], "analysis_mode": "full"}, {"pattern": [3, 1, 1, 1, 2, 1, 2], "count": 3, "positions": [39, 82, 127], "analysis_mode": "full"}], "kric-8": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [29, 72, 117], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}], "kric-9": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [28, 71, 116], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3], "count": 2, "positions": [17, 105], "analysis_mode": "full"}], "kric-10": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [27, 70, 115], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}], "kric-11": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [19, 107], "analysis_mode": "full"}], "kric-12": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [20, 108], "analysis_mode": "full"}], "kric-13": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [21, 109], "analysis_mode": "full"}], "kric-14": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": [3, 1, 1, 1, 2, 1, 2, 1, 1, 2, 0.5, 8, 0.5, 2], "count": 2, "positions": [39, 82], "analysis_mode": "full"}], "kric-15": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "full"}, {"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "full"}], "kric-16": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [21, 109], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [67, 112], "analysis_mode": "full"}], "kric-17": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [20, 108], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [68, 113], "analysis_mode": "full"}], "kric-18": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [19, 107], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "full"}], "kric-19": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [18, 106], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [69, 114], "analysis_mode": "full"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [70, 115], "analysis_mode": "full"}], "kric-20": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [17, 105], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [68, 113], "analysis_mode": "full"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "full"}], "kric-21": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [16, 104], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [67, 112], "analysis_mode": "full"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "full"}], "kric-22": [{"pattern": [2, 3, 2, 1, 0.5, 2, 0.5, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [15, 103], "analysis_mode": "full"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [66, 111], "analysis_mode": "full"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "full"}], "kric-23": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [65, 110], "analysis_mode": "full"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "full"}], "kric-24": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}], "kric-max": [{"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [65, 110], "analysis_mode": "full"}], "main_melody": {"kric-2": [{"pattern": [1, 2], "count": 24, "positions": [6, 13, 18, 26, 33, 42, 44, 47, 58, 63, 69, 76, 80, 85, 87, 90, 97, 102, 106, 114, 121, 125, 130, 132], "analysis_mode": "main_melody"}, {"pattern": [2, 1], "count": 21, "positions": [11, 17, 23, 29, 37, 43, 45, 57, 62, 66, 72, 79, 86, 88, 95, 101, 105, 111, 117, 124, 131], "analysis_mode": "main_melody"}, {"pattern": [1, 1], "count": 20, "positions": [5, 12, 30, 31, 32, 40, 41, 46, 73, 74, 75, 83, 84, 89, 96, 118, 119, 120, 128, 129], "analysis_mode": "main_melody"}, {"pattern": [2, 2], "count": 15, "positions": [0, 1, 7, 14, 27, 28, 36, 52, 53, 70, 71, 115, 116, 133, 134], "analysis_mode": "main_melody"}, {"pattern": [2, 3], "count": 11, "positions": [15, 20, 34, 59, 64, 77, 81, 103, 108, 122, 126], "analysis_mode": "main_melody"}, {"pattern": [3, 2], "count": 11, "positions": [16, 22, 35, 56, 61, 65, 78, 100, 104, 110, 123], "analysis_mode": "main_melody"}, {"pattern": [2, 8], "count": 6, "positions": [2, 8, 48, 54, 91, 98], "analysis_mode": "main_melody"}, {"pattern": [3, 1], "count": 6, "positions": [25, 39, 68, 82, 113, 127], "analysis_mode": "main_melody"}, {"pattern": [1, 3], "count": 4, "positions": [24, 38, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [8, 2], "count": 3, "positions": [9, 50, 93], "analysis_mode": "main_melody"}], "kric-3": [{"pattern": [1, 1, 2], "count": 11, "positions": [5, 12, 32, 41, 46, 75, 84, 89, 96, 120, 129], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1], "count": 10, "positions": [16, 22, 56, 61, 65, 78, 100, 104, 110, 123], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2], "count": 10, "positions": [17, 43, 57, 62, 79, 86, 101, 105, 124, 131], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3], "count": 10, "positions": [18, 33, 58, 63, 76, 80, 102, 106, 121, 125], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2], "count": 9, "positions": [15, 20, 34, 59, 64, 77, 103, 108, 122], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1], "count": 9, "positions": [30, 31, 40, 73, 74, 83, 118, 119, 128], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1], "count": 7, "positions": [11, 29, 45, 72, 88, 95, 117], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2], "count": 6, "positions": [0, 27, 52, 70, 115, 133], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2], "count": 6, "positions": [6, 13, 26, 69, 114, 132], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 1], "count": 5, "positions": [42, 44, 85, 87, 130], "analysis_mode": "main_melody"}], "kric-4": [{"pattern": [2, 3, 2, 1], "count": 8, "positions": [15, 20, 59, 64, 77, 103, 108, 122], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2], "count": 8, "positions": [18, 33, 58, 63, 76, 102, 106, 121], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2], "count": 7, "positions": [16, 56, 61, 78, 100, 104, 123], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3], "count": 7, "positions": [17, 57, 62, 79, 101, 105, 124], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1, 2], "count": 6, "positions": [31, 40, 74, 83, 119, 128], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1, 2], "count": 4, "positions": [11, 45, 88, 95], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1], "count": 4, "positions": [23, 37, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2], "count": 4, "positions": [26, 69, 114, 132], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}], "kric-5": [{"pattern": [3, 2, 1, 2, 3], "count": 7, "positions": [16, 56, 61, 78, 100, 104, 123], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1], "count": 7, "positions": [18, 58, 63, 76, 102, 106, 121], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2], "count": 5, "positions": [15, 59, 77, 103, 122], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2], "count": 5, "positions": [17, 57, 62, 101, 105], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}], "kric-6": [{"pattern": [2, 3, 2, 1, 2, 3], "count": 5, "positions": [15, 59, 77, 103, 122], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2], "count": 5, "positions": [16, 56, 61, 100, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1], "count": 5, "positions": [17, 57, 62, 101, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2], "count": 4, "positions": [58, 76, 102, 121], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}], "kric-7": [{"pattern": [3, 2, 1, 2, 3, 2, 1], "count": 5, "positions": [16, 56, 61, 100, 104], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3], "count": 4, "positions": [58, 76, 102, 121], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}], "kric-8": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}], "kric-9": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}], "kric-10": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}], "kric-11": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}], "kric-12": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 1, 1, 2, 1, 2, 1, 1, 2, 8, 2], "count": 2, "positions": [39, 82], "analysis_mode": "main_melody"}], "kric-13": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}], "kric-14": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}], "kric-15": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [22, 65, 110], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}], "kric-16": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [20, 64, 108], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}], "kric-17": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [18, 63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-18": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [17, 62, 105], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-19": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [16, 61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-20": [{"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [15, 59, 103], "analysis_mode": "main_melody"}, {"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-21": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-22": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-23": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-24": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-25": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [64, 108], "analysis_mode": "main_melody"}], "kric-26": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [63, 106], "analysis_mode": "main_melody"}], "kric-27": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [62, 105], "analysis_mode": "main_melody"}], "kric-28": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [61, 104], "analysis_mode": "main_melody"}], "kric-29": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [59, 103], "analysis_mode": "main_melody"}], "kric-30": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [58, 102], "analysis_mode": "main_melody"}], "kric-31": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [57, 101], "analysis_mode": "main_melody"}], "kric-32": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [56, 100], "analysis_mode": "main_melody"}], "kric-33": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}, {"pattern": [8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [55, 99], "analysis_mode": "main_melody"}], "kric-34": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}], "kric-max": [{"pattern": [2, 8, 3, 2, 1, 2, 3, 2, 1, 2, 3, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [54, 98], "analysis_mode": "main_melody"}]}, "grace_units": {"kric-2": [{"pattern": [1, 2], "count": 22, "positions": [6, 13, 26, 33, 42, 44, 47, 58, 63, 69, 76, 80, 85, 87, 90, 97, 102, 114, 121, 125, 130, 132], "analysis_mode": "main_melody"}, {"pattern": [1, 1], "count": 20, "positions": [5, 12, 30, 31, 32, 40, 41, 46, 73, 74, 75, 83, 84, 89, 96, 118, 119, 120, 128, 129], "analysis_mode": "main_melody"}, {"pattern": [2, 1], "count": 19, "positions": [17, 23, 29, 37, 43, 45, 57, 62, 66, 72, 79, 86, 88, 101, 105, 111, 117, 124, 131], "analysis_mode": "main_melody"}, {"pattern": [2, 2], "count": 14, "positions": [0, 1, 7, 14, 27, 28, 36, 53, 70, 71, 115, 116, 133, 134], "analysis_mode": "main_melody"}, {"pattern": [2, 3], "count": 8, "positions": [15, 34, 64, 77, 81, 103, 122, 126], "analysis_mode": "main_melody"}, {"pattern": [3, 2], "count": 8, "positions": [16, 35, 56, 65, 78, 100, 104, 123], "analysis_mode": "main_melody"}, {"pattern": [3, 1], "count": 6, "positions": [25, 39, 68, 82, 113, 127], "analysis_mode": "main_melody"}, {"pattern": [1, 3], "count": 4, "positions": [24, 38, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [2, 8.5], "count": 3, "positions": [2, 48, 91], "analysis_mode": "main_melody"}, {"pattern": [2, 8], "count": 3, "positions": [8, 54, 98], "analysis_mode": "main_melody"}], "kric-3": [{"pattern": [1, 1, 2], "count": 11, "positions": [5, 12, 32, 41, 46, 75, 84, 89, 96, 120, 129], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1], "count": 9, "positions": [30, 31, 40, 73, 74, 83, 118, 119, 128], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2], "count": 8, "positions": [43, 57, 62, 79, 86, 101, 124, 131], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1], "count": 7, "positions": [16, 56, 65, 78, 100, 104, 123], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3], "count": 7, "positions": [33, 63, 76, 80, 102, 121, 125], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2], "count": 6, "positions": [6, 13, 26, 69, 114, 132], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2], "count": 6, "positions": [15, 34, 64, 77, 103, 122], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2], "count": 5, "positions": [0, 27, 70, 115, 133], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1], "count": 5, "positions": [29, 45, 72, 88, 117], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 1], "count": 5, "positions": [42, 44, 85, 87, 130], "analysis_mode": "main_melody"}], "kric-4": [{"pattern": [1, 1, 1, 2], "count": 6, "positions": [31, 40, 74, 83, 119, 128], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1], "count": 5, "positions": [15, 64, 77, 103, 122], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 3, 2], "count": 5, "positions": [33, 63, 76, 102, 121], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1], "count": 4, "positions": [23, 37, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2], "count": 4, "positions": [26, 69, 114, 132], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2], "count": 4, "positions": [56, 78, 100, 123], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2, 3], "count": 4, "positions": [62, 79, 101, 124], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}], "kric-5": [{"pattern": [1, 2, 3, 2, 1], "count": 4, "positions": [63, 76, 102, 121], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1, 1, 1], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1, 1, 2], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1, 2, 3], "count": 3, "positions": [31, 74, 119], "analysis_mode": "main_melody"}], "kric-6": [{"pattern": [2, 1, 3, 1, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1, 1], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1, 1, 1, 2], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1, 1, 2, 3], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1, 2, 3, 2], "count": 3, "positions": [31, 74, 119], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 1, 1, 2, 1], "count": 3, "positions": [39, 82, 127], "analysis_mode": "main_melody"}], "kric-7": [{"pattern": [2, 1, 3, 1, 2, 2, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": [1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [30, 73, 118], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 1, 1, 2, 1, 2], "count": 3, "positions": [39, 82, 127], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}], "kric-8": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [29, 72, 117], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}], "kric-9": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [28, 71, 116], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}], "kric-10": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [27, 70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}], "kric-11": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [26, 69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": [3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}], "kric-12": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [25, 68, 113], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": [3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 1, 1, 2, 1, 2, 1, 1, 2, 8.5, 2.5], "count": 2, "positions": [39, 82], "analysis_mode": "main_melody"}], "kric-13": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [24, 67, 112], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": [3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}], "kric-14": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 3, "positions": [23, 66, 111], "analysis_mode": "main_melody"}, {"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": [3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}], "kric-15": [{"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": [3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [21, 109], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}], "kric-16": [{"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [19, 107], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [70, 115], "analysis_mode": "main_melody"}], "kric-17": [{"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [18, 106], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [71, 116], "analysis_mode": "main_melody"}], "kric-18": [{"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [17, 105], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [70, 115], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [71, 116], "analysis_mode": "main_melody"}], "kric-19": [{"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [16, 104], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}, {"pattern": [2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [70, 115], "analysis_mode": "main_melody"}], "kric-20": [{"pattern": [2, 3, 2, 1, 2.5, 3.5, 2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2], "count": 2, "positions": [15, 103], "analysis_mode": "main_melody"}, {"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}, {"pattern": [1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [69, 114], "analysis_mode": "main_melody"}], "kric-21": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}, {"pattern": [3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [68, 113], "analysis_mode": "main_melody"}], "kric-22": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}, {"pattern": [1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [67, 112], "analysis_mode": "main_melody"}], "kric-23": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}], "kric-max": [{"pattern": [2, 1, 3, 1, 2, 2, 2, 1, 1, 1, 1, 2, 3, 2, 1, 2, 3, 1, 1, 1, 2, 1, 2], "count": 2, "positions": [66, 111], "analysis_mode": "main_melody"}]}}, "repeated_syllables": {"B√†": {"count": 2, "positions": [0, 133]}, "R·∫±ng": {"count": 5, "positions": [1, 41, 84, 129, 134]}, "b√†": {"count": 13, "positions": [2, 8, 16, 37, 40, 42, 80, 83, 85, 125, 128, 130, 135]}, "ƒëi": {"count": 4, "positions": [12, 17, 57, 62]}, "c√°i": {"count": 6, "positions": [26, 33, 69, 76, 114, 121]}, "duy√™n": {"count": 3, "positions": [27, 70, 115]}, "√¥ng": {"count": 3, "positions": [28, 71, 116]}, "ch·ªìng": {"count": 5, "positions": [29, 48, 72, 91, 117]}, "l√†m": {"count": 4, "positions": [30, 73, 104, 118]}, "kh·ªï": {"count": 3, "positions": [31, 74, 119]}, "ƒë·ªùi": {"count": 3, "positions": [34, 77, 122]}, "t√¥i": {"count": 2, "positions": [35, 78]}, "∆°i": {"count": 7, "positions": [36, 39, 79, 82, 124, 127, 132]}, "R√≠": {"count": 6, "positions": [38, 43, 81, 86, 126, 131]}, "∆°i.": {"count": 2, "positions": [44, 87]}, "Ch·ªìng": {"count": 2, "positions": [45, 88]}, "g√¨": {"count": 2, "positions": [46, 89]}, "m√†": {"count": 2, "positions": [47, 90]}, "l√∫c": {"count": 2, "positions": [61, 65]}, "ph·∫£i": {"count": 2, "positions": [63, 67]}, "o": {"count": 3, "positions": [96, 98, 99]}}, "all_syllables": {"B√†": {"count": 2, "positions": [0, 133]}, "R·∫±ng": {"count": 5, "positions": [1, 41, 84, 129, 134]}, "b√†": {"count": 13, "positions": [2, 8, 16, 37, 40, 42, 80, 83, 85, 125, 128, 130, 135]}, "R√≠,": {"count": 1, "positions": [4]}, "·ªöi": {"count": 1, "positions": [5]}, "r·∫±ng": {"count": 1, "positions": [7]}, "ƒëi,": {"count": 1, "positions": [9]}, "·ªõi": {"count": 1, "positions": [11]}, "ƒëi": {"count": 4, "positions": [12, 17, 57, 62]}, "l√†": {"count": 1, "positions": [14]}, "ƒë√¢u": {"count": 1, "positions": [15]}, "kh·∫Øp": {"count": 1, "positions": [18]}, "ch·ªën": {"count": 1, "positions": [20]}, "n·ªëi": {"count": 1, "positions": [22]}, "d√¢y": {"count": 1, "positions": [23]}, "t∆°": {"count": 1, "positions": [24]}, "h·ªìng": {"count": 1, "positions": [25]}, "c√°i": {"count": 6, "positions": [26, 33, 69, 76, 114, 121]}, "duy√™n": {"count": 3, "positions": [27, 70, 115]}, "√¥ng": {"count": 3, "positions": [28, 71, 116]}, "ch·ªìng": {"count": 5, "positions": [29, 48, 72, 91, 117]}, "l√†m": {"count": 4, "positions": [30, 73, 104, 118]}, "kh·ªï": {"count": 3, "positions": [31, 74, 119]}, "ƒë·ªùi": {"count": 3, "positions": [34, 77, 122]}, "t√¥i": {"count": 2, "positions": [35, 78]}, "∆°i": {"count": 7, "positions": [36, 39, 79, 82, 124, 127, 132]}, "R√≠": {"count": 6, "positions": [38, 43, 81, 86, 126, 131]}, "∆°i.": {"count": 2, "positions": [44, 87]}, "Ch·ªìng": {"count": 2, "positions": [45, 88]}, "g√¨": {"count": 2, "positions": [46, 89]}, "m√†": {"count": 2, "positions": [47, 90]}, "b√©,": {"count": 1, "positions": [50]}, "b√©": {"count": 1, "positions": [52]}, "t·∫πo": {"count": 1, "positions": [53]}, "t√®o": {"count": 1, "positions": [54]}, "teo,": {"count": 1, "positions": [55]}, "ch√¢n": {"count": 1, "positions": [56]}, "c√†": {"count": 1, "positions": [58]}, "kheo": {"count": 1, "positions": [59]}, "l√∫c": {"count": 2, "positions": [61, 65]}, "ph·∫£i": {"count": 2, "positions": [63, 67]}, "c√µng": {"count": 1, "positions": [64]}, "kh√≥c": {"count": 1, "positions": [66]}, "b·ªìng": {"count": 1, "positions": [68]}, "ng√°y,": {"count": 1, "positions": [93]}, "ng√°y": {"count": 1, "positions": [95]}, "o": {"count": 3, "positions": [96, 98, 99]}, "ƒê√™m": {"count": 1, "positions": [100]}, "th·ªùi": {"count": 1, "positions": [101]}, "n·∫±m": {"count": 1, "positions": [102]}, "co": {"count": 1, "positions": [103]}, "ƒÉn": {"count": 1, "positions": [105]}, "l∆∞·ªùi": {"count": 1, "positions": [106]}, "bi·∫øng": {"count": 1, "positions": [108]}, "ch·∫≥ng": {"count": 1, "positions": [110]}, "lo": {"count": 1, "positions": [111]}, "h·ªçc": {"count": 1, "positions": [112]}, "h√†nh": {"count": 1, "positions": [113]}, "t√¥i,": {"count": 1, "positions": [123]}}, "unique_syllables": ["B√†", "Ch·ªìng", "R√≠", "R√≠,", "R·∫±ng", "bi·∫øng", "b√†", "b√©", "b√©,", "b·ªìng", "ch√¢n", "ch·∫≥ng", "ch·ªën", "ch·ªìng", "co", "c√†", "c√°i", "c√µng", "duy√™n", "d√¢y", "g√¨", "h√†nh", "h·ªçc", "h·ªìng", "kheo", "kh√≥c", "kh·∫Øp", "kh·ªï", "lo", "l√†", "l√†m", "l√∫c", "l∆∞·ªùi", "m√†", "ng√°y", "ng√°y,", "n·∫±m", "n·ªëi", "o", "ph·∫£i", "r·∫±ng", "teo,", "th·ªùi", "t√®o", "t√¥i", "t√¥i,", "t∆°", "t·∫πo", "√¥ng", "ƒÉn", "ƒê√™m", "ƒëi", "ƒëi,", "ƒë√¢u", "ƒë·ªùi", "∆°i", "∆°i.", "·ªöi", "·ªõi"], "melismatic_syllables": {"·ªöi": [5], "ƒëi": [12], "kh·ªï": [31, 74, 119], "o": [96]}, "tone_syllables": {"s·∫Øc": [3, 4, 5, 6, 10, 11, 18, 19, 19, 20, 21, 21, 22, 26, 33, 38, 43, 49, 50, 51, 51, 52, 60, 61, 65, 66, 69, 76, 81, 86, 92, 93, 94, 94, 95, 107, 108, 109, 114, 121, 126, 131], "huy·ªÅn": [0, 1, 2, 3, 7, 8, 14, 16, 25, 29, 30, 34, 37, 40, 41, 42, 45, 46, 47, 48, 49, 54, 58, 68, 72, 73, 77, 80, 83, 84, 85, 88, 89, 90, 91, 92, 101, 102, 104, 106, 107, 113, 117, 118, 122, 125, 128, 129, 130, 133, 134, 135], "h·ªèi": [31, 32, 63, 67, 74, 75, 109, 110, 119, 120], "ng√£": [64], "n·∫∑ng": [53, 112], "ngang": [9, 10, 12, 13, 15, 17, 23, 24, 27, 28, 35, 36, 39, 44, 55, 56, 57, 59, 60, 62, 70, 71, 78, 79, 82, 87, 96, 97, 98, 99, 100, 103, 105, 111, 115, 116, 123, 124, 127, 132]}, "melismatic_analysis": {"melismatic_syllables": {"·ªöi": {"occurrences": [5], "note_counts": [2], "total_durations": [2], "pitch_patterns": [["E5", "G5"]]}, "ƒëi": {"occurrences": [12], "note_counts": [2], "total_durations": [2], "pitch_patterns": [["D5", "C5"]]}, "kh·ªï": {"occurrences": [31, 74, 119], "note_counts": [2, 2, 2], "total_durations": [2, 2, 2], "pitch_patterns": [["G4", "C5"], ["G4", "C5"], ["G4", "C5"]]}, "o": {"occurrences": [96], "note_counts": [2], "total_durations": [2], "pitch_patterns": [["E5", "D5"]]}}, "syllabic_syllables": {"B√†": {"occurrences": [0, 133], "pitches": ["C5", "C5"], "durations": [2, 2]}, "R·∫±ng": {"occurrences": [1, 41, 84, 129, 134], "pitches": ["C5", "G4", "G4", "G4", "C5"], "durations": [2, 1, 1, 1, 2]}, "b√†": {"occurrences": [2, 8, 16, 37, 40, 42, 80, 83, 85, 125, 128, 130, 135], "pitches": ["C5", "C5", "C5", "G4", "G4", "G4", "G4", "G4", "G4", "G4", "G4", "G4", "C5"], "durations": [2, 2, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2]}, "R√≠,": {"occurrences": [4], "pitches": ["E5"], "durations": [8]}, "r·∫±ng": {"occurrences": [7], "pitches": ["A4"], "durations": [2]}, "ƒëi,": {"occurrences": [9], "pitches": ["D5"], "durations": [8]}, "·ªõi": {"occurrences": [11], "pitches": ["E5"], "durations": [2]}, "l√†": {"occurrences": [14], "pitches": ["A4"], "durations": [2]}, "ƒë√¢u": {"occurrences": [15], "pitches": ["C5"], "durations": [2]}, "ƒëi": {"occurrences": [17, 57, 62], "pitches": ["D5", "C5", "D5"], "durations": [2, 2, 2]}, "kh·∫Øp": {"occurrences": [18], "pitches": ["E5"], "durations": [1]}, "ch·ªën": {"occurrences": [20], "pitches": ["E5"], "durations": [2]}, "n·ªëi": {"occurrences": [22], "pitches": ["E5"], "durations": [3]}, "d√¢y": {"occurrences": [23], "pitches": ["D5"], "durations": [2]}, "t∆°": {"occurrences": [24], "pitches": ["C5"], "durations": [1]}, "h·ªìng": {"occurrences": [25], "pitches": ["A4"], "durations": [3]}, "c√°i": {"occurrences": [26, 33, 69, 76, 114, 121], "pitches": ["C5", "C5", "C5", "C5", "C5", "C5"], "durations": [1, 1, 1, 1, 1, 1]}, "duy√™n": {"occurrences": [27, 70, 115], "pitches": ["A4", "A4", "A4"], "durations": [2, 2, 2]}, "√¥ng": {"occurrences": [28, 71, 116], "pitches": ["G4", "G4", "G4"], "durations": [2, 2, 2]}, "ch·ªìng": {"occurrences": [29, 48, 72, 91, 117], "pitches": ["D4", "C5", "D4", "C5", "D4"], "durations": [2, 2, 2, 2, 2]}, "l√†m": {"occurrences": [30, 73, 104, 118], "pitches": ["D4", "D4", "C5", "D4"], "durations": [1, 1, 3, 1]}, "ƒë·ªùi": {"occurrences": [34, 77, 122], "pitches": ["G4", "G4", "G4"], "durations": [2, 2, 2]}, "t√¥i": {"occurrences": [35, 78], "pitches": ["A4", "A4"], "durations": [3, 3]}, "∆°i": {"occurrences": [36, 39, 79, 82, 124, 127, 132], "pitches": ["C5", "A4", "C5", "A4", "C5", "A4", "A4"], "durations": [2, 3, 2, 3, 2, 3, 1]}, "R√≠": {"occurrences": [38, 43, 81, 86, 126, 131], "pitches": ["C5", "C5", "C5", "C5", "A4", "C5"], "durations": [1, 2, 2, 2, 2, 2]}, "∆°i.": {"occurrences": [44, 87], "pitches": ["A4", "A4"], "durations": [1, 1]}, "Ch·ªìng": {"occurrences": [45, 88], "pitches": ["C5", "C5"], "durations": [2, 2]}, "g√¨": {"occurrences": [46, 89], "pitches": ["C5", "C5"], "durations": [1, 1]}, "m√†": {"occurrences": [47, 90], "pitches": ["C5", "C5"], "durations": [1, 1]}, "b√©,": {"occurrences": [50], "pitches": ["E5"], "durations": [8]}, "b√©": {"occurrences": [52], "pitches": ["G5"], "durations": [2]}, "t·∫πo": {"occurrences": [53], "pitches": ["A4"], "durations": [2]}, "t√®o": {"occurrences": [54], "pitches": ["C5"], "durations": [2]}, "teo,": {"occurrences": [55], "pitches": ["D5"], "durations": [8]}, "ch√¢n": {"occurrences": [56], "pitches": ["C5"], "durations": [3]}, "c√†": {"occurrences": [58], "pitches": ["A4"], "durations": [1]}, "kheo": {"occurrences": [59], "pitches": ["C5"], "durations": [2]}, "l√∫c": {"occurrences": [61, 65], "pitches": ["E5", "E5"], "durations": [3, 3]}, "ph·∫£i": {"occurrences": [63, 67], "pitches": ["C5", "C5"], "durations": [1, 1]}, "c√µng": {"occurrences": [64], "pitches": ["E5"], "durations": [2]}, "kh√≥c": {"occurrences": [66], "pitches": ["D5"], "durations": [2]}, "b·ªìng": {"occurrences": [68], "pitches": ["A4"], "durations": [3]}, "ng√°y,": {"occurrences": [93], "pitches": ["E5"], "durations": [8]}, "ng√°y": {"occurrences": [95], "pitches": ["G5"], "durations": [2]}, "o": {"occurrences": [98, 99], "pitches": ["C5", "D5"], "durations": [2, 8]}, "ƒê√™m": {"occurrences": [100], "pitches": ["C5"], "durations": [3]}, "th·ªùi": {"occurrences": [101], "pitches": ["A4"], "durations": [2]}, "n·∫±m": {"occurrences": [102], "pitches": ["A4"], "durations": [1]}, "co": {"occurrences": [103], "pitches": ["C5"], "durations": [2]}, "ƒÉn": {"occurrences": [105], "pitches": ["D5"], "durations": [2]}, "l∆∞·ªùi": {"occurrences": [106], "pitches": ["C5"], "durations": [1]}, "bi·∫øng": {"occurrences": [108], "pitches": ["E5"], "durations": [2]}, "ch·∫≥ng": {"occurrences": [110], "pitches": ["E5"], "durations": [3]}, "lo": {"occurrences": [111], "pitches": ["D5"], "durations": [2]}, "h·ªçc": {"occurrences": [112], "pitches": ["C5"], "durations": [1]}, "h√†nh": {"occurrences": [113], "pitches": ["A4"], "durations": [3]}, "t√¥i,": {"occurrences": [123], "pitches": ["A4"], "durations": [3]}}, "total_melismatic": 6, "total_syllabic": 113, "unique_melismatic": ["·ªöi", "kh·ªï", "ƒëi", "o"], "unique_syllabic": ["h·ªçc", "ng√°y,", "ph·∫£i", "∆°i.", "∆°i", "B√†", "d√¢y", "Ch·ªìng", "g√¨", "duy√™n", "b√©", "teo,", "kheo", "lo", "ch·ªìng", "ƒÉn", "kh√≥c", "n·ªëi", "m√†", "c√†", "r·∫±ng", "c√°i", "t√¥i,", "l√†", "h√†nh", "·ªõi", "t·∫πo", "R·∫±ng", "l√∫c", "th·ªùi", "R√≠", "l∆∞·ªùi", "R√≠,", "ƒê√™m", "√¥ng", "b√†", "t∆°", "b·ªìng", "ƒë·ªùi", "b√©,", "ƒë√¢u", "ng√°y", "h·ªìng", "ch·∫≥ng", "ch·ªën", "ch√¢n", "t√®o", "ƒëi,", "n·∫±m", "ƒëi", "c√µng", "kh·∫Øp", "bi·∫øng", "o", "co", "t√¥i", "l√†m"]}, "tone_mark_analysis": {"tone_statistics": {"s·∫Øc": {"total_occurrences": 26, "unique_syllables": ["ch·ªën", "R√≠,", "ng√°y", "c√°i", "ng√°y,", "·ªöi", "b√©", "b√©,", "kh·∫Øp", "·ªõi", "l√∫c", "bi·∫øng", "kh√≥c", "n·ªëi", "R√≠"], "unique_count": 15, "pitch_patterns": [["E5"], ["E5", "G5"], ["E5"], ["E5"], ["E5"], ["E5"], ["C5"], ["C5"], ["C5"], ["C5"], ["E5"], ["G5"], ["E5"], ["E5"], ["D5"], ["C5"], ["C5"], ["C5"], ["C5"], ["E5"], ["G5"], ["E5"], ["C5"], ["C5"], ["A4"], ["C5"]], "average_duration": 2.5, "syllable_list": ["R√≠,", "·ªöi", "·ªõi", "kh·∫Øp", "ch·ªën", "n·ªëi", "c√°i", "c√°i", "R√≠", "R√≠", "b√©,", "b√©", "l√∫c", "l√∫c", "kh√≥c", "c√°i", "c√°i", "R√≠", "R√≠", "ng√°y,", "ng√°y", "bi·∫øng", "c√°i", "c√°i", "R√≠", "R√≠"]}, "huy·ªÅn": {"total_occurrences": 48, "unique_syllables": ["g√¨", "B√†", "Ch·ªìng", "ch·ªìng", "c√†", "m√†", "r·∫±ng", "l√†", "h√†nh", "R·∫±ng", "th·ªùi", "l∆∞·ªùi", "b√†", "b·ªìng", "ƒë·ªùi", "h·ªìng", "t√®o", "n·∫±m", "l√†m"], "unique_count": 19, "pitch_patterns": [["C5"], ["C5"], ["C5"], ["A4"], ["C5"], ["A4"], ["C5"], ["A4"], ["D4"], ["D4"], ["G4"], ["G4"], ["G4"], ["G4"], ["G4"], ["C5"], ["C5"], ["C5"], ["C5"], ["C5"], ["A4"], ["A4"], ["D4"], ["D4"], ["G4"], ["G4"], ["G4"], ["G4"], ["G4"], ["C5"], ["C5"], ["C5"], ["C5"], ["A4"], ["A4"], ["C5"], ["C5"], ["A4"], ["D4"], ["D4"], ["G4"], ["G4"], ["G4"], ["G4"], ["G4"], ["C5"], ["C5"], ["C5"]], "average_duration": 1.6666666666666667, "syllable_list": ["B√†", "R·∫±ng", "b√†", "r·∫±ng", "b√†", "l√†", "b√†", "h·ªìng", "ch·ªìng", "l√†m", "ƒë·ªùi", "b√†", "b√†", "R·∫±ng", "b√†", "Ch·ªìng", "g√¨", "m√†", "ch·ªìng", "t√®o", "c√†", "b·ªìng", "ch·ªìng", "l√†m", "ƒë·ªùi", "b√†", "b√†", "R·∫±ng", "b√†", "Ch·ªìng", "g√¨", "m√†", "ch·ªìng", "th·ªùi", "n·∫±m", "l√†m", "l∆∞·ªùi", "h√†nh", "ch·ªìng", "l√†m", "ƒë·ªùi", "b√†", "b√†", "R·∫±ng", "b√†", "B√†", "R·∫±ng", "b√†"]}, "h·ªèi": {"total_occurrences": 6, "unique_syllables": ["ph·∫£i", "kh·ªï", "ch·∫≥ng"], "unique_count": 3, "pitch_patterns": [["G4", "C5"], ["C5"], ["C5"], ["G4", "C5"], ["E5"], ["G4", "C5"]], "average_duration": 1.8333333333333333, "syllable_list": ["kh·ªï", "ph·∫£i", "ph·∫£i", "kh·ªï", "ch·∫≥ng", "kh·ªï"]}, "ng√£": {"total_occurrences": 1, "unique_syllables": ["c√µng"], "unique_count": 1, "pitch_patterns": [["E5"]], "average_duration": 2.0, "syllable_list": ["c√µng"]}, "n·∫∑ng": {"total_occurrences": 2, "unique_syllables": ["h·ªçc", "t·∫πo"], "unique_count": 2, "pitch_patterns": [["A4"], ["C5"]], "average_duration": 1.5, "syllable_list": ["t·∫πo", "h·ªçc"]}, "ngang": {"total_occurrences": 36, "unique_syllables": ["∆°i.", "∆°i", "d√¢y", "teo,", "duy√™n", "lo", "kheo", "ƒÉn", "o", "ƒê√™m", "√¥ng", "t∆°", "ƒë√¢u", "ch√¢n", "ƒëi,", "ƒëi", "t√¥i,", "co", "t√¥i"], "unique_count": 19, "pitch_patterns": [["D5"], ["D5", "C5"], ["C5"], ["D5"], ["D5"], ["C5"], ["A4"], ["G4"], ["A4"], ["C5"], ["A4"], ["A4"], ["D5"], ["C5"], ["C5"], ["C5"], ["D5"], ["A4"], ["G4"], ["A4"], ["C5"], ["A4"], ["A4"], ["E5", "D5"], ["C5"], ["D5"], ["C5"], ["C5"], ["D5"], ["D5"], ["A4"], ["G4"], ["A4"], ["C5"], ["A4"], ["A4"]], "average_duration": 2.611111111111111, "syllable_list": ["ƒëi,", "ƒëi", "ƒë√¢u", "ƒëi", "d√¢y", "t∆°", "duy√™n", "√¥ng", "t√¥i", "∆°i", "∆°i", "∆°i.", "teo,", "ch√¢n", "ƒëi", "kheo", "ƒëi", "duy√™n", "√¥ng", "t√¥i", "∆°i", "∆°i", "∆°i.", "o", "o", "o", "ƒê√™m", "co", "ƒÉn", "lo", "duy√™n", "√¥ng", "t√¥i,", "∆°i", "∆°i", "∆°i"]}}, "tone_distribution": {"s·∫Øc": 26, "huy·ªÅn": 48, "h·ªèi": 6, "ng√£": 1, "n·∫∑ng": 2, "ngang": 36}, "most_common_tone": "huy·ªÅn"}, "grace_main_units": [10, 11, 60, 61, 92, 93, 94, 95], "total_notes": 136, "kpic_max_n": 31, "kric_max_n": 24, "ornamentation_stats": {"pitch_ornamentation": {"E5": {"total_occurrences": 14, "ornamented_occurrences": 9, "grace_note_count": 9, "grace_types": ["D5"], "ornamentation_rate": 64.28571428571429}, "G5": {"total_occurrences": 3, "ornamented_occurrences": 2, "grace_note_count": 2, "grace_types": ["E5"], "ornamentation_rate": 66.66666666666666}, "C5": {"total_occurrences": 48, "ornamented_occurrences": 0, "grace_note_count": 0, "grace_types": [], "ornamentation_rate": 0.0}, "A4": {"total_occurrences": 22, "ornamented_occurrences": 0, "grace_note_count": 0, "grace_types": [], "ornamentation_rate": 0.0}, "D5": {"total_occurrences": 11, "ornamented_occurrences": 0, "grace_note_count": 0, "grace_types": [], "ornamentation_rate": 0.0}, "G4": {"total_occurrences": 21, "ornamented_occurrences": 0, "grace_note_count": 0, "grace_types": [], "ornamentation_rate": 0.0}, "D4": {"total_occurrences": 6, "ornamented_occurrences": 0, "grace_note_count": 0, "grace_types": [], "ornamentation_rate": 0.0}}, "syllable_ornamentation": {"R√≠,": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "·ªõi": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "ch·ªën": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "n·ªëi": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "b√©,": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "b√©": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["G5"], "ornamentation_rate": 100.0}, "l√∫c": {"total_occurrences": 2, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 50.0}, "ng√°y,": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "ng√°y": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["G5"], "ornamentation_rate": 100.0}, "bi·∫øng": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "ch·∫≥ng": {"total_occurrences": 1, "ornamented_occurrences": 1, "grace_note_count": 1, "associated_pitches": ["E5"], "ornamentation_rate": 100.0}, "B√†": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "R·∫±ng": {"total_occurrences": 5, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "b√†": {"total_occurrences": 13, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "·ªöi": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["E5"], "ornamentation_rate": 0.0}, "r·∫±ng": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "ƒëi,": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "ƒëi": {"total_occurrences": 4, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "l√†": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "ƒë√¢u": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "kh·∫Øp": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["E5"], "ornamentation_rate": 0.0}, "d√¢y": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "t∆°": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "h·ªìng": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "c√°i": {"total_occurrences": 6, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "duy√™n": {"total_occurrences": 3, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "√¥ng": {"total_occurrences": 3, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["G4"], "ornamentation_rate": 0.0}, "ch·ªìng": {"total_occurrences": 5, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D4"], "ornamentation_rate": 0.0}, "l√†m": {"total_occurrences": 4, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D4"], "ornamentation_rate": 0.0}, "kh·ªï": {"total_occurrences": 3, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["G4"], "ornamentation_rate": 0.0}, "ƒë·ªùi": {"total_occurrences": 3, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["G4"], "ornamentation_rate": 0.0}, "t√¥i": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "∆°i": {"total_occurrences": 7, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "R√≠": {"total_occurrences": 6, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "∆°i.": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "Ch·ªìng": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "g√¨": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "m√†": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "t·∫πo": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "t√®o": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "teo,": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "ch√¢n": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "c√†": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "kheo": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "ph·∫£i": {"total_occurrences": 2, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "c√µng": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["E5"], "ornamentation_rate": 0.0}, "kh√≥c": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "b·ªìng": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "o": {"total_occurrences": 3, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["E5"], "ornamentation_rate": 0.0}, "ƒê√™m": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "th·ªùi": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "n·∫±m": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "co": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "ƒÉn": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "l∆∞·ªùi": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "lo": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["D5"], "ornamentation_rate": 0.0}, "h·ªçc": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["C5"], "ornamentation_rate": 0.0}, "h√†nh": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}, "t√¥i,": {"total_occurrences": 1, "ornamented_occurrences": 0, "grace_note_count": 0, "associated_pitches": ["A4"], "ornamentation_rate": 0.0}}, "total_grace_clusters": 11, "total_main_notes": 125, "total_grace_notes": 11}};
        
        
        let currentHighlighting = null;
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            populateSyllableDropdown();
            updateMinCountDisplay();
            updateMaxLabels();

            // Set default Y-zoom to 30%
            updateYZoom(currentYZoom);

            // Initialize slider label positions
            initializeSliderPositions();

            // Load auto-scroll preference
            loadAutoScrollPreference();

            // Initialize KPIC/KRIC thresholds to prevent 'none' state issues
            // Don't set sliders or call update functions, just ensure variables are ready
            if (!window.kpicThreshold) {
                window.kpicThreshold = 'none';  // Explicit initialization
            }
            if (!window.kricThreshold) {
                window.kricThreshold = 'none';  // Explicit initialization
            }

            // Add listener for analysis mode changes
            document.getElementById('analysisMode').addEventListener('change', function() {
                // Refresh pattern options when analysis mode changes
                updateKpicPatternOptions();
                updateKricPatternOptions();
            });
        });
        
        function populateSyllableDropdown() {
            const select = document.getElementById('specificSyllable');
            select.innerHTML = '';
            
            // Use all_syllables data which includes both repeated and single syllables
            const sortedSyllables = Object.entries(analysisData.all_syllables)
                .sort((a, b) => {
                    if (b[1].count !== a[1].count) return b[1].count - a[1].count; // By frequency
                    return a[0].localeCompare(b[0]); // Then alphabetically
                });
            
            sortedSyllables.forEach(([syllable, data]) => {
                const option = document.createElement('option');
                option.value = syllable;
                option.textContent = data.count > 1 ? `${syllable} (${data.count}√ó)` : syllable;
                select.appendChild(option);
            });
        }
        
        function updateMaxLabels() {
            // Update KPIC-MAX label to show actual n value
            const kpicSelect = document.getElementById('kpicFilter');
            if (kpicSelect) {
                const kpicMaxOption = kpicSelect.querySelector('option[value="kpic-max"]');
                if (kpicMaxOption) {
                    kpicMaxOption.textContent = `KPIC-MAX (KPIC-${analysisData.kpic_max_n} with 2+ reps)`;
                }
            }

            // Update KRIC-MAX label to show actual n value
            const kricSelect = document.getElementById('kricFilter');
            if (kricSelect) {
                const kricMaxOption = kricSelect.querySelector('option[value="kric-max"]');
                if (kricMaxOption) {
                    kricMaxOption.textContent = `KRIC-MAX (KRIC-${analysisData.kric_max_n} with 2+ reps)`;
                }
            }
        }
        
        function updateZoomFromSelect() {
            const zoomSelect = document.getElementById('zoomLevel');
            const xSlider = document.getElementById('xZoomSlider');
            const xValue = document.getElementById('xZoomValue');
            
            if (zoomSelect.value === 'fit-width') {
                // Calculate fit-to-width zoom level
                const fitZoomLevel = calculateFitWidthZoom();
                const fitPercent = Math.round(fitZoomLevel * 100);
                currentXZoom = fitZoomLevel;
                xSlider.value = fitPercent;
                xValue.textContent = fitPercent + '%';
                updateZoom();
            } else if (zoomSelect.value === 'custom') {
                // Use current stored zoom value
                updateZoom();
            } else {
                // Update slider to match selected value
                const zoomPercent = Math.round(parseFloat(zoomSelect.value) * 100);
                currentXZoom = parseFloat(zoomSelect.value);
                xSlider.value = zoomPercent;
                xValue.textContent = zoomPercent + '%';
                updateZoom();
            }
        }
        
        function calculateFitWidthZoom() {
            const svg = document.getElementById('tablatureSvg');
            const container = document.querySelector('.tablature-container');
            const containerWidth = container.clientWidth - 80; // More conservative padding
            
            // Use the original SVG base width which already includes all content + padding
            const baseWidth = parseInt(svg.getAttribute('data-base-width'));
            
            // The base width already accounts for all notes, widths, and original padding
            // So we can directly calculate fit zoom from this
            const fitZoomLevel = containerWidth / baseWidth;
            
            // Be more conservative with the zoom to ensure no cutoff
            const conservativeFitZoom = fitZoomLevel * 0.95; // Use 95% to add safety margin
            
            return Math.max(0.01, Math.min(5.0, conservativeFitZoom));
        }
        
        function updateZoomFromInput() {
            const customZoomInput = document.getElementById('customZoom');
            const zoomSelect = document.getElementById('zoomLevel');
            
            // Set dropdown to custom when user types
            zoomSelect.value = 'custom';
            updateZoom();
        }
        
        let currentXZoom = 1.0;
        let currentYZoom = 0.30;
        
        function updateZoomFromSlider(axis) {
            if (axis === 'x') {
                const xSlider = document.getElementById('xZoomSlider');
                const xValue = document.getElementById('xZoomValue');
                const zoomSelect = document.getElementById('zoomLevel');
                
                const sliderValue = parseInt(xSlider.value);
                xValue.textContent = sliderValue + '%';

                // Position the value label directly above the slider handle
                const percentage = ((sliderValue - 5) / (200 - 5)) * 100;
                const sliderWidth = 100;
                const handleWidth = 20;
                const leftPosition = (percentage / 100) * (sliderWidth - handleWidth) + (handleWidth / 2) - 0;
                xValue.style.left = `${Math.max(0, Math.min(leftPosition, sliderWidth - 30))}px`;

                // Store current zoom level
                currentXZoom = sliderValue / 100;

                // Update the zoom select to custom
                zoomSelect.value = 'custom';
                updateZoom();
            } else if (axis === 'y') {
                const ySlider = document.getElementById('yZoomSlider');
                const yValue = document.getElementById('yZoomValue');
                const yZoomSelect = document.getElementById('yZoomLevel');
                
                const sliderValue = parseInt(ySlider.value);
                yValue.textContent = sliderValue + '%';

                // Position the value label directly above the slider handle
                const percentage = ((sliderValue - 5) / (300 - 5)) * 100;
                const sliderWidth = 100;
                const handleWidth = 20;
                const leftPosition = (percentage / 100) * (sliderWidth - handleWidth) + (handleWidth / 2) - 0;
                yValue.style.left = `${Math.max(0, Math.min(leftPosition, sliderWidth - 30))}px`;

                // Store current zoom level
                currentYZoom = sliderValue / 100;

                // Update the Y-zoom select to custom
                yZoomSelect.value = 'custom';
                updateYZoom(currentYZoom);
            }
        }
        
        function updateYZoomFromSelect() {
            const yZoomSelect = document.getElementById('yZoomLevel');
            const ySlider = document.getElementById('yZoomSlider');
            const yValue = document.getElementById('yZoomValue');
            
            if (yZoomSelect.value === 'fit-height') {
                const fitZoomLevel = calculateFitHeightZoom();
                const fitPercent = Math.round(fitZoomLevel * 100);
                currentYZoom = fitZoomLevel;
                ySlider.value = fitPercent;
                yValue.textContent = fitPercent + '%';
                updateYZoom(currentYZoom);
            } else if (yZoomSelect.value === 'custom') {
                // Use current stored zoom value
                updateYZoom(currentYZoom);
            } else {
                // Update slider to match selected value
                const zoomPercent = Math.round(parseFloat(yZoomSelect.value) * 100);
                currentYZoom = parseFloat(yZoomSelect.value);
                ySlider.value = zoomPercent;
                yValue.textContent = zoomPercent + '%';
                updateYZoom(currentYZoom);
            }
        }
        
        function calculateFitHeightZoom() {
            const svg = document.getElementById('tablatureSvg');
            const container = window;
            const availableHeight = container.innerHeight - 300; // Reserve space for controls and margins
            
            const baseHeight = parseInt(svg.getAttribute('data-base-height') || svg.getAttribute('height'));
            const fitZoomLevel = availableHeight / baseHeight;
            
            // Be conservative to ensure no cutoff
            const conservativeFitZoom = fitZoomLevel * 0.9;
            
            return Math.max(0.05, Math.min(2.0, conservativeFitZoom));
        }
        
        function updateYZoom(yZoomLevel) {
            const svg = document.getElementById('tablatureSvg');
            const baseHeight = parseInt(svg.getAttribute('data-base-height') || svg.getAttribute('height'));
            
            if (!svg.getAttribute('data-base-height')) {
                svg.setAttribute('data-base-height', baseHeight);
            }
            
            // Scale the SVG height
            const newHeight = baseHeight * yZoomLevel;
            svg.setAttribute('height', newHeight);
            
            // Scale string line positions
            const stringLines = svg.querySelectorAll('.string-line');
            const stringLabels = svg.querySelectorAll('.string-label');
            const stringNumbers = svg.querySelectorAll('.string-number');
            const notes = svg.querySelectorAll('.note-circle');

            // Find all resonance bands including dynamically created ones
            const allRects = svg.querySelectorAll('rect');
            const resonanceBands = Array.from(allRects).filter(rect => {
                // Exclude the background rect
                if (rect === allRects[0] && rect.getAttribute('width') === '11420') {
                    return false;
                }

                const fill = rect.getAttribute('fill');
                const dataBaseX = rect.getAttribute('data-base-x');
                const dataBaseY = rect.getAttribute('data-base-y');
                const isColored = rect.classList.contains('resonance-band-colored');
                const hasColorFill = fill && (fill.startsWith('#') || fill.startsWith('rgb'));
                const height = parseFloat(rect.getAttribute('height'));
                const isResonanceBandSize = height === 10 || height === 6;

                // Find resonance bands by various criteria
                return isColored ||
                       (fill && (fill.includes('resonanceBand') || fill.includes('dynamicResonance'))) ||
                       (dataBaseX && dataBaseY && isResonanceBandSize) ||
                       (hasColorFill && dataBaseX && dataBaseY && isResonanceBandSize);
            });

            const allTexts = svg.querySelectorAll('text');
            
            // Update string lines and labels
            stringLines.forEach((line) => {
                const baseY = parseFloat(line.getAttribute('data-base-y1') || line.getAttribute('y1'));
                if (!line.getAttribute('data-base-y1')) {
                    line.setAttribute('data-base-y1', baseY);
                    line.setAttribute('data-base-y2', baseY);
                }
                const scaledY = baseY * yZoomLevel;
                line.setAttribute('y1', scaledY);
                line.setAttribute('y2', scaledY);
            });
            
            stringLabels.forEach((label) => {
                const baseY = parseFloat(label.getAttribute('data-base-y') || label.getAttribute('y'));
                if (!label.getAttribute('data-base-y')) {
                    label.setAttribute('data-base-y', baseY);
                }
                const scaledY = baseY * yZoomLevel;
                label.setAttribute('y', scaledY);
            });
            
            // String numbers will be handled with other text elements to maintain offset from notes
            
            // Update note positions
            notes.forEach((note) => {
                const baseY = parseFloat(note.getAttribute('data-base-y') || note.getAttribute('cy'));
                if (!note.getAttribute('data-base-y')) {
                    note.setAttribute('data-base-y', baseY);
                }
                const scaledY = baseY * yZoomLevel;
                note.setAttribute('cy', scaledY);
            });
            
            // Update resonance bands - center them with scaled note positions
            resonanceBands.forEach((band) => {
                // Find the corresponding note for this band
                // Band should be just before its note in the DOM
                let associatedNote = band.nextElementSibling;
                while (associatedNote && !associatedNote.classList.contains('note-circle')) {
                    associatedNote = associatedNote.nextElementSibling;
                }

                if (associatedNote) {
                    // Get the scaled note center position
                    const noteBaseY = parseFloat(associatedNote.getAttribute('data-base-y') || associatedNote.getAttribute('cy'));
                    const scaledNoteY = noteBaseY * yZoomLevel;

                    // Get band height to center it
                    const bandHeight = parseFloat(band.getAttribute('height'));

                    // Center the band on the scaled note position
                    const centeredBandY = scaledNoteY - (bandHeight / 2);
                    band.setAttribute('y', centeredBandY);

                    // Store the original centered position
                    if (!band.getAttribute('data-base-y')) {
                        const originalNoteY = noteBaseY;
                        const originalBandY = originalNoteY - (bandHeight / 2);
                        band.setAttribute('data-base-y', originalBandY);
                    }
                } else {
                    // Fallback: just scale the position
                    const baseY = parseFloat(band.getAttribute('data-base-y') || band.getAttribute('y'));
                    if (!band.getAttribute('data-base-y')) {
                        band.setAttribute('data-base-y', baseY);
                    }
                    const scaledY = baseY * yZoomLevel;
                    band.setAttribute('y', scaledY);
                }
            });
            
            // Update text elements with improved anchoring to note circles
            allTexts.forEach((text) => {
                // Skip only string labels (on the left side)
                if (text.classList.contains('string-label')) {
                    return;
                }

                const baseY = parseFloat(text.getAttribute('data-base-y') || text.getAttribute('y'));
                const baseX = parseFloat(text.getAttribute('data-base-x') || text.getAttribute('x'));

                if (!text.getAttribute('data-base-y') && text.getAttribute('y')) {
                    text.setAttribute('data-base-y', baseY);
                }
                if (!text.getAttribute('data-base-x') && text.getAttribute('x')) {
                    text.setAttribute('data-base-x', baseX);
                }

                if (text.getAttribute('data-base-y')) {
                    // Find the exact note at the same X position (same column)
                    const noteElements = svg.querySelectorAll('.note-circle');
                    let associatedNote = null;
                    let minDistance = Infinity;

                    noteElements.forEach(note => {
                        const noteBaseX = parseFloat(note.getAttribute('data-base-x') || note.getAttribute('cx'));
                        const distance = Math.abs(baseX - noteBaseX);

                        // Look for exact X match (same column) with small tolerance
                        // String numbers, duration, position all have same X as note
                        // Lyrics have X+4 offset
                        if (distance < 5 && distance < minDistance) {
                            minDistance = distance;
                            associatedNote = note;
                        }
                    });

                    if (associatedNote) {
                        // Found the exact note this text belongs to
                        const noteBaseY = parseFloat(associatedNote.getAttribute('data-base-y') || associatedNote.getAttribute('cy'));
                        const scaledNoteY = noteBaseY * yZoomLevel;

                        // Calculate the original offset from the note
                        const originalOffset = baseY - noteBaseY;

                        // Apply the same offset to the scaled note position
                        const scaledY = scaledNoteY + originalOffset;
                        text.setAttribute('y', scaledY);


                        if (text.classList.contains('string-number') && minDistance < 1) {
                        }

                        // Update transforms for rotated text (lyrics)
                        const transform = text.getAttribute('transform');
                        if (transform && transform.includes('rotate')) {
                            const x = parseFloat(text.getAttribute('x'));
                            text.setAttribute('transform', `rotate(-90, ${x}, ${scaledY})`);
                        }
                    } else {
                        // Fallback: scale the Y position directly
                        const scaledY = baseY * yZoomLevel;
                        text.setAttribute('y', scaledY);

                        const transform = text.getAttribute('transform');
                        if (transform && transform.includes('rotate')) {
                            const x = parseFloat(text.getAttribute('x'));
                            text.setAttribute('transform', `rotate(-90, ${x}, ${scaledY})`);
                        }
                    }
                }
            });
            
            // Update connection lines
            const connectionLines = svg.querySelectorAll('.pattern-connection-line');
            connectionLines.forEach((line) => {
                const baseY1 = parseFloat(line.getAttribute('data-base-y1') || line.getAttribute('y1'));
                const baseY2 = parseFloat(line.getAttribute('data-base-y2') || line.getAttribute('y2'));
                
                if (!line.getAttribute('data-base-y1')) {
                    line.setAttribute('data-base-y1', baseY1);
                    line.setAttribute('data-base-y2', baseY2);
                }
                
                line.setAttribute('y1', baseY1 * yZoomLevel);
                line.setAttribute('y2', baseY2 * yZoomLevel);
            });

            // Don't reapply colors after Y-zoom - only if needed
            setTimeout(() => {
                const bandsAfter = svg.querySelectorAll('rect[data-base-x][data-base-y]');
                const needsColorUpdate = Array.from(bandsAfter).some(band => {
                    const fill = band.getAttribute('fill');
                    return fill && fill.includes('url(#resonanceBand');
                });

                if (needsColorUpdate) {
                    // updateResonanceBandColors(); // Commented out to preserve gradients
                }
            }, 50);
        }
        
        function getCurrentZoomLevel() {
            const zoomSelect = document.getElementById('zoomLevel');
            
            if (zoomSelect.value === 'fit-width') {
                return calculateFitWidthZoom();
            } else if (zoomSelect.value === 'custom') {
                return currentXZoom;
            } else {
                return parseFloat(zoomSelect.value);
            }
        }
        
        function updateZoom() {
            const zoomLevel = getCurrentZoomLevel();
            const svg = document.getElementById('tablatureSvg');
            const baseWidth = parseInt(svg.getAttribute('data-base-width'));

            // Store resonance band info before any changes
            const bandsBeforeZoom = svg.querySelectorAll('.resonance-band-colored, rect[fill*="#008080"], rect[fill*="#FFD700"]');
            const bandInfo = Array.from(bandsBeforeZoom).map(band => ({
                x: band.getAttribute('x'),
                y: band.getAttribute('y'),
                width: band.getAttribute('width'),
                height: band.getAttribute('height'),
                fill: band.getAttribute('fill'),
                opacity: band.getAttribute('opacity') || band.style.opacity,
                class: band.className.baseVal || band.className
            }));
            // Scale the SVG width
            const newWidth = baseWidth * zoomLevel;
            svg.setAttribute('width', newWidth);
            
            // Scale all note positions and widths
            const notes = svg.querySelectorAll('.note-circle');
            const allRects = svg.querySelectorAll('rect');
            const resonanceBands = Array.from(allRects).filter(rect => {
                // Exclude the background rect (first rect with full width)
                if (rect === allRects[0] && rect.getAttribute('width') === '11420') {
                    return false;
                }

                const fill = rect.getAttribute('fill');
                const dataBaseX = rect.getAttribute('data-base-x');
                const dataBaseY = rect.getAttribute('data-base-y');
                const isColored = rect.classList.contains('resonance-band-colored');
                const isNewBand = rect.classList.contains('new-resonance-band');
                const hasColorFill = fill && (fill.startsWith('#') || fill.startsWith('rgb'));
                const height = parseFloat(rect.getAttribute('height'));

                // Resonance bands are typically 10px or 6px in height
                const isResonanceBandSize = height === 10 || height === 6;

                // Find resonance bands by various criteria
                return isNewBand || isColored ||
                       (fill && (fill.includes('resonanceBand') || fill.includes('dynamicResonance'))) ||
                       (dataBaseX && dataBaseY && isResonanceBandSize) ||
                       (hasColorFill && dataBaseX && dataBaseY && isResonanceBandSize);
            });
            const texts = svg.querySelectorAll('text');

            // Get container width to determine if scrolling is needed
            const container = document.querySelector('.tablature-container');
            const containerWidth = container.clientWidth;
            const needsScrolling = newWidth > containerWidth;

            notes.forEach((note, index) => {
                const baseX = parseFloat(note.getAttribute('data-base-x') || note.getAttribute('cx'));
                if (!note.getAttribute('data-base-x')) {
                    note.setAttribute('data-base-x', baseX);
                }
                // Apply zoom proportionally, maintaining relative spacing
                // Start notes at 120px but scale the offset proportionally
                const baseOffset = baseX - 120; // Distance from starting position
                const scaledOffset = baseOffset * zoomLevel;
                const scaledX = 120 + scaledOffset;
                note.setAttribute('cx', scaledX);
            });
            // Scale resonance band positions
            resonanceBands.forEach((band, index) => {
                const baseX = parseFloat(band.getAttribute('data-base-x') || band.getAttribute('x'));
                const baseWidth = parseFloat(band.getAttribute('data-base-width') || band.getAttribute('width'));
                const height = band.getAttribute('height'); // Preserve height

                if (!band.getAttribute('data-base-x')) {
                    band.setAttribute('data-base-x', baseX);
                    band.setAttribute('data-base-width', baseWidth);
                }

                // Apply same scaling as notes for position
                const baseOffset = baseX - 120;
                const scaledOffset = baseOffset * zoomLevel;
                const scaledX = 120 + scaledOffset;

                // Scale width with zoom but always 8 eighth-note durations
                // Base: 320px for main bands (8 eighth notes), 80px for grace bands
                const isGraceBand = parseFloat(band.getAttribute('height')) === 6;
                const baseFixedWidth = isGraceBand ? 80 : 320;
                const scaledWidth = baseFixedWidth * zoomLevel;

                band.setAttribute('x', scaledX);
                band.setAttribute('width', scaledWidth);

                // Ensure height is preserved
                if (height) {
                    band.setAttribute('height', height);
                }

                // Make sure band stays visible with proper opacity
                const currentOpacity = band.getAttribute('opacity') || band.style.opacity;
                if (!currentOpacity || currentOpacity === '0') {
                    band.setAttribute('opacity', '0.8');
                    band.style.opacity = '0.8';
                }

                if (index === 0) {
                }
            });
            
            
            // Scale text positions (notes and lyrics, not string labels)
            texts.forEach((text, index) => {
                const baseX = parseFloat(text.getAttribute('data-base-x') || text.getAttribute('x'));
                if (!text.getAttribute('data-base-x')) {
                    text.setAttribute('data-base-x', baseX);
                }

                // Scale string numbers with their notes
                if (text.classList.contains('string-number')) {
                    // String numbers should move with their notes
                    if (baseX > 100) { // Only scale if it's associated with a note (not a label)
                        const baseOffset = baseX - 120;
                        const scaledOffset = baseOffset * zoomLevel;
                        const scaledX = 120 + scaledOffset;
                        text.setAttribute('x', scaledX);
                    }
                }
                // Only scale note-related text (x > 120), keep string labels fixed
                else if (baseX > 120) {
                    const baseOffset = baseX - 120;
                    const scaledOffset = baseOffset * zoomLevel;
                    const scaledX = 120 + scaledOffset;
                    text.setAttribute('x', scaledX);

                    // For lyric text with rotation, update the transform with current Y position
                    if (text.classList.contains('lyric-text')) {
                        const currentY = parseFloat(text.getAttribute('y'));
                        text.setAttribute('transform', `rotate(-90, ${scaledX}, ${currentY})`);
                    }
                }
            });
            
            // Scale connection lines
            const connectionLines = svg.querySelectorAll('.pattern-connection-line');
            connectionLines.forEach((line, index) => {
                const baseX1 = parseFloat(line.getAttribute('data-base-x1') || line.getAttribute('x1'));
                const baseX2 = parseFloat(line.getAttribute('data-base-x2') || line.getAttribute('x2'));
                
                if (!line.getAttribute('data-base-x1')) {
                    line.setAttribute('data-base-x1', baseX1);
                    line.setAttribute('data-base-x2', baseX2);
                }
                
                // Apply zoom scaling to X coordinates
                const baseOffset1 = baseX1 - 120;
                const baseOffset2 = baseX2 - 120;
                const scaledOffset1 = baseOffset1 * zoomLevel;
                const scaledOffset2 = baseOffset2 * zoomLevel;
                const scaledX1 = 120 + scaledOffset1;
                const scaledX2 = 120 + scaledOffset2;
                
                line.setAttribute('x1', scaledX1);
                line.setAttribute('x2', scaledX2);
                // Y coordinates don't change with X-axis zoom
            });
            
            // Update string lines to extend beyond the last note
            const stringLines = svg.querySelectorAll('.string-line');
            
            // Find the rightmost note position after scaling
            let maxNoteX = 120; // Minimum starting position
            notes.forEach((note) => {
                const noteX = parseFloat(note.getAttribute('cx'));
                maxNoteX = Math.max(maxNoteX, noteX);
            });
            
            // Extend string lines beyond the last note with padding
            const lineEndX = maxNoteX + 100; // Add 100px padding beyond last note
            
            stringLines.forEach((line) => {
                line.setAttribute('x2', lineEndX);
            });
            
            // Also update SVG width if needed to accommodate the extended lines
            if (lineEndX > newWidth) {
                svg.setAttribute('width', lineEndX + 50);
            }
            
            // Update container scroll behavior based on actual content size vs container size
            if (needsScrolling) {
                container.style.overflowX = 'auto';
                container.style.overflowY = 'hidden';
            } else {
                container.style.overflowX = 'hidden';
                container.style.overflowY = 'hidden';
            }

            // After zoom, ensure resonance bands are in the correct rendering order
            setTimeout(() => {
                // Get all bands and notes
                const bands = svg.querySelectorAll('rect[data-base-x][data-base-y]');
                const notes = svg.querySelectorAll('.note-circle');
                // Check actual visibility of bands
                let visibleCount = 0;
                let hiddenCount = 0;
                let outOfBoundsCount = 0;

                bands.forEach((band, index) => {
                    const rect = band.getBoundingClientRect();
                    const computedStyle = window.getComputedStyle(band);
                    const svgRect = svg.getBoundingClientRect();

                    const isVisible = rect.width > 0 && rect.height > 0 &&
                                    computedStyle.display !== 'none' &&
                                    computedStyle.visibility !== 'hidden' &&
                                    computedStyle.opacity !== '0';

                    const isInBounds = rect.left < svgRect.right && rect.right > svgRect.left;

                    if (isVisible && isInBounds) {
                        visibleCount++;
                    } else if (!isVisible) {
                        hiddenCount++;
                    } else {
                        outOfBoundsCount++;
                    }


                    if (index === 0) {
                    }
                });
                // Ensure all bands are positioned before notes in the DOM
                // This ensures bands render behind notes
                if (bands.length > 0 && notes.length > 0) {
                    const firstNote = notes[0];
                    const firstNoteParent = firstNote.parentNode;

                    // Move all bands to be before the first note
                    bands.forEach(band => {
                        // Only move if it's not already before the first note
                        if (band.compareDocumentPosition(firstNote) & Node.DOCUMENT_POSITION_FOLLOWING) {
                            firstNoteParent.insertBefore(band, firstNote);
                        }

                        // Force visibility but don't override gradient fill
                        band.setAttribute('style', `
                            opacity: 0.9 !important;
                            display: block !important;
                            visibility: visible !important;
                            pointer-events: none !important;
                        `);

                        // Ensure proper opacity attribute too
                        band.setAttribute('opacity', '0.8');
                    });
                }

                // Only update colors if bands have lost their colors (first time setup)
                const needsColorUpdate = Array.from(bands).some(band => {
                    const fill = band.getAttribute('fill');
                    return fill && fill.includes('url(#resonanceBand');
                });

                if (needsColorUpdate) {
                    // updateResonanceBandColors(); // Commented out to preserve gradients
                }
            }, 50);
        }
        
        function updateKpicPatternOptions() {
            const kpicFilter = window.kpicThreshold || 'none';
            const patternSelect = document.getElementById('specificKpicPattern');

            // CRITICAL: Save current selections before rebuilding dropdown
            const previousSelections = Array.from(patternSelect.selectedOptions).map(opt => ({
                value: opt.value,
                text: opt.textContent
            }));
            if (kpicFilter === 'none') {
                // Show placeholder text when no filter selected
                patternSelect.innerHTML = '<option disabled style="text-align: center; color: #6c757d;">Move KPIC slider to see patterns...</option>';
                // Don't call updateHighlighting here to avoid clearing selections
                return;
            }

            // Populate with actual patterns based on current analysis mode
            const analysisMode = document.querySelector('input[name="analysisMode"]:checked')?.value || 'full';
            const modePatterns = analysisData.kpic_patterns[analysisMode] || analysisData.kpic_patterns;
            let patterns = modePatterns[kpicFilter] || [];

            // For ALL KPIC levels, include ALL patterns (even single occurrences)
            if (kpicFilter !== 'none' && kpicFilter.startsWith('kpic-')) {
                // Get all transitions from the note data
                const noteCircles = document.querySelectorAll('.note-circle');
                const allTransitions = {};

                // Build string mapping
                const stringLabels = document.querySelectorAll('.string-label');
                const stringLines = document.querySelectorAll('.string-line');
                const stringInfo = {};

                stringLines.forEach(line => {
                    const yPos = parseFloat(line.getAttribute('data-base-y1') || line.getAttribute('y1'));
                    let closestLabel = null;
                    let minDistance = Infinity;
                    stringLabels.forEach(label => {
                        const labelY = parseFloat(label.getAttribute('data-base-y') || label.getAttribute('y'));
                        const distance = Math.abs(yPos - labelY);
                        if (distance < minDistance && distance < 20) {
                            minDistance = distance;
                            closestLabel = label;
                        }
                    });
                    if (closestLabel) {
                        const text = closestLabel.textContent;
                        const match = text.match(/String (\d+): ([A-G]#?\d)/);
                        if (match) {
                            stringInfo[match[1]] = {
                                note: match[2],
                                yPos: yPos
                            };
                        }
                    }
                });

                // Extract the n-gram size from kpicFilter (e.g., 'kpic-2' -> 2)
                const ngramSize = parseInt(kpicFilter.split('-')[1]);

                // Find all n-note transitions
                for (let i = 0; i <= noteCircles.length - ngramSize; i++) {
                    const pattern = [];
                    let allPitchesFound = true;

                    // Build the n-gram pattern
                    for (let j = 0; j < ngramSize; j++) {
                        const note = noteCircles[i + j];
                        const cy = parseFloat(note.getAttribute('data-base-y') || note.getAttribute('cy'));

                        // Find closest string
                        let pitch = null;
                        let minDist = Infinity;

                        for (const [stringNum, info] of Object.entries(stringInfo)) {
                            const dist = Math.abs(cy - info.yPos);
                            if (dist < minDist && dist < 30) {
                                minDist = dist;
                                pitch = info.note;
                            }
                        }

                        if (pitch) {
                            pattern.push(pitch);
                        } else {
                            allPitchesFound = false;
                            break;
                        }
                    }

                    if (allPitchesFound && pattern.length === ngramSize) {
                        const key = pattern.join(',');
                        if (!allTransitions[key]) {
                            allTransitions[key] = {
                                pattern: pattern,
                                positions: [],
                                count: 0
                            };
                        }
                        allTransitions[key].positions.push(i);
                        allTransitions[key].count++;
                    }
                }

                // Filter existing patterns to only include correct n-gram size
                patterns = patterns.filter(p => p.pattern.length === ngramSize);

                // Add missing patterns (including single occurrences)
                Object.values(allTransitions).forEach(trans => {
                    // Check if this pattern already exists
                    const exists = patterns.some(p =>
                        JSON.stringify(p.pattern) === JSON.stringify(trans.pattern)
                    );

                    if (!exists) {
                        patterns.push(trans);
                    }
                });

                // Sort patterns by count (descending) then by pattern string
                patterns.sort((a, b) => {
                    if (b.count !== a.count) return b.count - a.count;
                    return JSON.stringify(a.pattern).localeCompare(JSON.stringify(b.pattern));
                });

                // Calculate total for verification
                const dropdownTotal = patterns.reduce((sum, p) => sum + p.count, 0);
                // Update the patterns in analysisData for consistency
                // FIX: Use the actual kpicFilter value, not hardcoded 'kpic-2'
                modePatterns[kpicFilter] = patterns;
            }

            patternSelect.innerHTML = '';

            if (patterns.length === 0) {
                patternSelect.innerHTML = '<option disabled style="text-align: center; color: #6c757d;">No patterns found for this threshold</option>';
            } else {
                patterns.forEach((pattern, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    const label = pattern.count === 1 ?
                        `${pattern.pattern.join(' ‚Üí ')} (1√ó) [single]` :
                        `${pattern.pattern.join(' ‚Üí ')} (${pattern.count}√ó)`;
                    option.textContent = label;
                    patternSelect.appendChild(option);
                });

                // CRITICAL: Restore previous selections after rebuilding dropdown
                if (previousSelections.length > 0) {
                    previousSelections.forEach(prev => {
                        // Find the option with matching text (since indices might have changed)
                        for (let i = 0; i < patternSelect.options.length; i++) {
                            if (patternSelect.options[i].textContent === prev.text) {
                                patternSelect.options[i].selected = true;
                                break;
                            }
                        }
                    });
                }
            }

            // Don't call updateHighlighting here - let the caller decide when to update
        }
        
        function updateKricPatternOptions() {
            const kricFilter = window.kricThreshold || 'none';
            const patternSelect = document.getElementById('specificKricPattern');

            // CRITICAL: Save current selections before rebuilding dropdown
            const previousSelections = Array.from(patternSelect.selectedOptions).map(opt => ({
                value: opt.value,
                text: opt.textContent
            }));

            if (kricFilter === 'none') {
                // Show placeholder text when no filter selected
                patternSelect.innerHTML = '<option disabled style="text-align: center; color: #6c757d;">Move KRIC slider to see patterns...</option>';
                // Don't call updateHighlighting here to avoid clearing selections
                return;
            }

            // Generate KRIC patterns if not already generated
            if (!window.kricPatterns) {
                generateKricPatterns();
            }

            // Get patterns for the current filter
            const patterns = window.kricPatterns[kricFilter] || [];
            patternSelect.innerHTML = '';

            if (patterns.length === 0) {
                patternSelect.innerHTML = '<option disabled style="text-align: center; color: #6c757d;">No patterns found for this threshold</option>';
            } else {
                // Include ALL patterns (even single occurrences)
                patterns.forEach((pattern, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${pattern.pattern.join(' ‚Üí ')} (${pattern.count}√ó)`;
                    patternSelect.appendChild(option);
                });

                // CRITICAL: Restore previous selections after rebuilding dropdown
                if (previousSelections.length > 0) {
                    previousSelections.forEach(prev => {
                        for (let i = 0; i < patternSelect.options.length; i++) {
                            if (patternSelect.options[i].textContent === prev.text) {
                                patternSelect.options[i].selected = true;
                                break;
                            }
                        }
                    });
                }
            }

            // Don't call updateHighlighting here - let the caller decide when to update
        }

        function resetPatternsAndUpdate() {
            // Reset KPIC dropdown to "none"
            const kpicFilter = document.getElementById('kpicFilter');
            if (kpicFilter) {
                kpicFilter.value = 'none';
            }

            // Reset KRIC dropdown to "none"
            const kricFilter = document.getElementById('kricFilter');
            if (kricFilter) {
                kricFilter.value = 'none';
            }

            // Hide pattern selection dropdowns
            const kpicGroup = document.getElementById('kpicPatternGroup');
            const kricGroup = document.getElementById('kricPatternGroup');
            if (kpicGroup) kpicGroup.style.display = 'none';
            if (kricGroup) kricGroup.style.display = 'none';

            // Update highlighting with new mode
            updateHighlighting();
        }

        function handleMultiCheckbox() {
            // Get current checkbox states
            const multiStates = {
                sac: document.getElementById('multi_sac')?.checked || false,
                huyen: document.getElementById('multi_huyen')?.checked || false,
                hoi: document.getElementById('multi_hoi')?.checked || false,
                nga: document.getElementById('multi_nga')?.checked || false,
                nang: document.getElementById('multi_nang')?.checked || false,
                ngang: document.getElementById('multi_ngang')?.checked || false,
                grace: document.getElementById('multi_grace')?.checked || false,
                melisma: document.getElementById('multi_melisma')?.checked || false,
                repeated: document.getElementById('multi_repeated')?.checked || false,
                repeated_syllable: document.getElementById('multiRepeatedSelect')?.value || ''
            };
            // Enable/disable repeated syllable dropdown based on checkbox
            const repeatedDropdown = document.getElementById('multiRepeatedSelect');
            if (multiStates.repeated) {
                repeatedDropdown.disabled = false;
                repeatedDropdown.style.opacity = '1.0';
            } else {
                repeatedDropdown.disabled = true;
                repeatedDropdown.style.opacity = '0.5';
                repeatedDropdown.value = ''; // Clear selection when disabled
            }

            // Clear current highlighting first
            clearHighlighting();

            // Dim all notes to 40% opacity for better contrast
            document.querySelectorAll('.note-circle').forEach(circle => {
                circle.style.opacity = '0.4';
            });

            // Apply each checked analysis type
            if (multiStates.sac) {
                processSingleTone('s·∫Øc', 'sac');
            }

            if (multiStates.huyen) {
                processSingleTone('huy·ªÅn', 'huyen');
            }

            if (multiStates.hoi) {
                processSingleTone('h·ªèi', 'hoi');
            }

            if (multiStates.nga) {
                processSingleTone('ng√£', 'nga');
            }

            if (multiStates.nang) {
                processSingleTone('n·∫∑ng', 'nang');
            }

            if (multiStates.ngang) {
                processSingleTone('ngang', 'ngang');
            }

            if (multiStates.grace) {
                processSingleGraceUnits();
            }

            if (multiStates.melisma) {
                processSingleMelismas();
            }

            if (multiStates.repeated && multiStates.repeated_syllable) {
                processSingleRepeated(multiStates.repeated_syllable);
            } else {
            }

            // Don't call updateHighlighting() here - it clears checkbox highlighting
            // Checkbox highlighting should persist until cleared by user
        }

        function processSingleTone(tone, toneType) {
            if (analysisData.tone_syllables && analysisData.tone_syllables[tone]) {
                const toneColors = {
                    's·∫Øc': '#e53e3e',    // Bright red (rising tone)
                    'huy·ªÅn': '#3182ce',  // Bright blue (falling tone)
                    'h·ªèi': '#38a169',    // Bright green (dipping tone)
                    'ng√£': '#d69e2e',    // Bright gold (broken rising)
                    'n·∫∑ng': '#805ad5',   // Bright purple (heavy tone)
                    'ngang': '#718096'   // Grey (flat tone)
                };

                analysisData.tone_syllables[tone].forEach(pos => {
                    const noteElement = document.getElementById(`note-${pos}`);
                    if (noteElement) {
                        noteElement.classList.add('syllable-tone', `tone-${toneType}`);
                        noteElement.style.opacity = '1.0'; // Restore full opacity for selected notes
                    }
                });

                highlightCorrespondingLyrics(analysisData.tone_syllables[tone], toneColors[tone], `${tone} Tone`, tone);
            }
        }

        function processSingleGraceUnits() {
            if (analysisData.grace_main_units) {
                // Group grace-main pairs for connections (like dropdown version)
                const graceMainGroups = new Map();

                analysisData.grace_main_units.forEach(pos => {
                    const noteElement = document.getElementById(`note-${pos}`);
                    if (noteElement) {
                        noteElement.classList.add('grace-main-unit');
                        noteElement.style.opacity = '1.0'; // Restore full opacity for selected notes

                        // Group into pairs for connections
                        const pairIndex = Math.floor(analysisData.grace_main_units.indexOf(pos) / 2);
                        if (!graceMainGroups.has(pairIndex)) {
                            graceMainGroups.set(pairIndex, []);
                        }
                        graceMainGroups.get(pairIndex).push(pos);
                    }
                });

                // Draw connections for each grace-main pair
                graceMainGroups.forEach((notePositions, pairIndex) => {
                    if (notePositions.length > 1) {
                        notePositions.sort((a, b) => a - b);
                        drawGraceAwareConnections(notePositions, '#38a169', 4, `multi-grace-pair-${pairIndex}`);
                    }
                });

                highlightCorrespondingLyrics(analysisData.grace_main_units, '#38a169', 'Grace Units', 'grace');
            }
        }

        function processSingleMelismas() {
            const syllables = document.querySelectorAll('.editable-syllable.melismatic');
            const allMelismaPositions = [];

            syllables.forEach((syllableElement, index) => {
                const syllableText = syllableElement.textContent;
                const syllablePos = parseInt(syllableElement.getAttribute('data-position'));
                const syllableTitle = syllableElement.getAttribute('title');
                const noteCountMatch = syllableTitle.match(/\(melismatic, (\d+) notes?\)/);

                if (noteCountMatch) {
                    const noteCount = parseInt(noteCountMatch[1]);
                    const syllableNotePositions = [];

                    for (let i = 0; i < noteCount; i++) {
                        const notePos = syllablePos + i;
                        const noteElement = document.getElementById(`note-${notePos}`);
                        if (noteElement) {
                            noteElement.classList.add('syllable-melismatic');
                            noteElement.style.opacity = '1.0'; // Restore full opacity for selected notes
                            syllableNotePositions.push(notePos);
                            allMelismaPositions.push(notePos);
                        }
                    }

                    // Draw connections within this melismatic syllable
                    if (syllableNotePositions.length > 1) {
                        drawGraceAwareConnections(syllableNotePositions, '#d69e2e', 3, `multi-melisma-${syllableText}-${index}`);
                    }
                }
            });

            if (allMelismaPositions.length > 0) {
                highlightCorrespondingLyrics(allMelismaPositions, '#d69e2e', 'Melismatic', 'melisma');
            }
        }

        function processSingleRepeated(selectedSyllable) {
            if (analysisData.repeated_syllables && analysisData.repeated_syllables[selectedSyllable]) {
                const data = analysisData.repeated_syllables[selectedSyllable];
                data.positions.forEach(pos => {
                    const noteElement = document.getElementById(`note-${pos}`);
                    if (noteElement) {
                        noteElement.classList.add('syllable-repetition');
                        noteElement.style.opacity = '1.0'; // Restore full opacity for selected notes
                    } else {
                    }
                });

                highlightCorrespondingLyrics(data.positions, '#e53e3e', 'Repeated', selectedSyllable);
            } else {
            }
        }

        function initializeSliderPositions() {
            // Initialize KPIC slider label position
            const kpicSlider = document.getElementById('kpicSlider');
            const kpicValue = document.getElementById('kpicSliderValue');
            if (kpicSlider && kpicValue) {
                const kpicSliderValue = parseInt(kpicSlider.value);
                const kpicPercentage = (kpicSliderValue / 136) * 100;
                const kpicSliderRect = kpicSlider.getBoundingClientRect();
                const kpicSliderWidth = kpicSliderRect.width || 280;
                const kpicHandleWidth = 20;
                const kpicLeftPosition = (kpicPercentage / 100) * (kpicSliderWidth - kpicHandleWidth) + (kpicHandleWidth / 2) - 0;
                kpicValue.style.left = `${Math.max(0, Math.min(kpicLeftPosition, kpicSliderWidth - 30))}px`;
            }

            // Initialize KRIC slider label position
            const kricSlider = document.getElementById('kricSlider');
            const kricValue = document.getElementById('kricSliderValue');
            if (kricSlider && kricValue) {
                const kricSliderValue = parseInt(kricSlider.value);
                const kricPercentage = (kricSliderValue / 136) * 100;
                const kricSliderRect = kricSlider.getBoundingClientRect();
                const kricSliderWidth = kricSliderRect.width || 280;
                const kricHandleWidth = 20;
                const kricLeftPosition = (kricPercentage / 100) * (kricSliderWidth - kricHandleWidth) + (kricHandleWidth / 2) - 0;
                kricValue.style.left = `${Math.max(0, Math.min(kricLeftPosition, kricSliderWidth - 30))}px`;
            }

            // Initialize zoom slider positions by calling their handlers
            updateZoomFromSlider('x');
            updateZoomFromSlider('y');
        }

        function handleKpicSlider() {
            const slider = document.getElementById('kpicSlider');
            const display = document.getElementById('kpicSliderValue');
            const value = parseInt(slider.value);

            display.textContent = value;

            // Position the value label directly above the slider handle
            const percentage = (value / 136) * 100;
            const sliderRect = slider.getBoundingClientRect();
            const sliderWidth = sliderRect.width;
            const handleWidth = 20;
            const leftPosition = (percentage / 100) * (sliderWidth - handleWidth) + (handleWidth / 2) - 0;
            display.style.left = `${Math.max(0, Math.min(leftPosition, sliderWidth - 30))}px`;

            // Store the threshold value for pattern detection
            window.kpicThreshold = value === 0 ? 'none' : (value === 136 ? 'kpic-max' : `kpic-${value}`);

            updateKpicPatternOptions();
            updateHighlighting();
        }

        function handleKricSlider() {
            const slider = document.getElementById('kricSlider');
            const display = document.getElementById('kricSliderValue');
            const value = parseInt(slider.value);

            display.textContent = value;

            // Position the value label directly above the slider handle
            const percentage = (value / 136) * 100;
            const sliderRect = slider.getBoundingClientRect();
            const sliderWidth = sliderRect.width;
            const handleWidth = 20;
            const leftPosition = (percentage / 100) * (sliderWidth - handleWidth) + (handleWidth / 2) - 0;
            display.style.left = `${Math.max(0, Math.min(leftPosition, sliderWidth - 30))}px`;

            // Store the threshold value for pattern detection
            window.kricThreshold = value === 0 ? 'none' : (value === 136 ? 'kric-max' : `kric-${value}`);

            updateKricPatternOptions();
            updateHighlighting();
        }


        function updateResonanceBandColors() {
            // Update resonance band colors to match their associated note circles
            const svg = document.getElementById('tablatureSvg');
            if (!svg) {
                return;
            }

            // Remove any previously created new bands
            const newBands = svg.querySelectorAll('.new-resonance-band');
            if (newBands.length > 0) {
                newBands.forEach(band => band.remove());
            }

            // Check if bands are already colored - if so, clear them first
            const coloredBands = svg.querySelectorAll('.resonance-band-colored');
            if (coloredBands.length > 0) {
                coloredBands.forEach(band => {
                    band.classList.remove('resonance-band-colored');
                    band.style.display = ''; // Show them again
                    // Reset to original gradient fills
                    const height = parseFloat(band.getAttribute('height'));
                    if (height === 6) {
                        band.setAttribute('fill', 'url(#graceResonanceBand)');
                    } else {
                        band.setAttribute('fill', 'url(#resonanceBand)');
                    }
                    band.removeAttribute('stroke');
                    band.style.opacity = '';
                    band.style.visibility = '';
                });
            }

            const allRects = svg.querySelectorAll('rect');
            const resonanceBands = Array.from(allRects).filter(rect => {
                const fill = rect.getAttribute('fill');
                const dataBaseX = rect.getAttribute('data-base-x');
                const dataBaseY = rect.getAttribute('data-base-y');
                // Look for bands that need coloring
                return (fill && (fill.includes('resonanceBand') || fill.includes('dynamicResonance'))) ||
                       (dataBaseX && dataBaseY && rect !== allRects[0] && !rect.classList.contains('resonance-band-colored'));
            });
            resonanceBands.slice(0, 3).forEach((band, i) => {
            });

            resonanceBands.forEach((band) => {
                // Get the band's original X position (before zoom)
                const bandBaseX = parseFloat(band.getAttribute('data-base-x') || band.getAttribute('x'));

                // Find the note circle at the same X position
                const noteCircles = document.querySelectorAll('.note-circle');
                let matchingNote = null;

                noteCircles.forEach(note => {
                    const noteBaseX = parseFloat(note.getAttribute('data-base-x') || note.getAttribute('cx'));
                    if (Math.abs(bandBaseX - noteBaseX) < 2) { // Small tolerance for floating point
                        matchingNote = note;
                    }
                });

                if (matchingNote) {
                    // Get the actual fill color from the note's attribute first, then computed style
                    let noteFill = matchingNote.getAttribute('fill');
                    if (!noteFill || noteFill === 'none') {
                        const computedStyle = window.getComputedStyle(matchingNote);
                        noteFill = computedStyle.fill;
                    }
                    // Convert rgb to hex if needed
                    if (noteFill.startsWith('rgb')) {
                        const rgbMatch = noteFill.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
                        if (rgbMatch) {
                            const r = parseInt(rgbMatch[1]).toString(16).padStart(2, '0');
                            const g = parseInt(rgbMatch[2]).toString(16).padStart(2, '0');
                            const b = parseInt(rgbMatch[3]).toString(16).padStart(2, '0');
                            noteFill = `#${r}${g}${b}`;
                        }
                    }

                    // Keep the gradient fill, don't override with solid color
                    // band.setAttribute('fill', noteFill); // Don't override gradient
                    band.setAttribute('opacity', '0.9');

                    // Use inline styles but don't override the gradient fill
                    band.setAttribute('style', `
                        opacity: 0.9 !important;
                        display: block !important;
                        visibility: visible !important;
                        pointer-events: none !important;
                    `);

                    band.classList.add('resonance-band-colored');

                    // Ensure band is positioned before the note in DOM hierarchy
                    if (band.compareDocumentPosition(matchingNote) & Node.DOCUMENT_POSITION_FOLLOWING) {
                        matchingNote.parentNode.insertBefore(band, matchingNote);
                    }
                } else {
                }
            });
        }

        function updateHighlighting() {
            // Clear previous highlighting
            clearHighlighting();

            // Dim all notes to 40% opacity for better contrast
            document.querySelectorAll('.note-circle').forEach(circle => {
                circle.style.opacity = '0.4';
            });

            const kpicFilter = window.kpicThreshold || 'none';
            const kricFilter = window.kricThreshold || 'none';
            const analysisMode = document.querySelector('input[name="analysisMode"]:checked')?.value || 'full';

            // Get syllable filter state from checkboxes
            const graceMainCheckbox = document.getElementById('multi_grace_main');
            const melismaCheckbox = document.getElementById('multi_melisma');
            const repetitionsCheckbox = document.getElementById('multi_repetitions');
            const specificSyllableSelect = document.getElementById('specificSyllable');

            let syllableFilter = 'none';
            if (graceMainCheckbox && graceMainCheckbox.checked) {
                syllableFilter = 'grace_main_units';
            } else if (melismaCheckbox && melismaCheckbox.checked) {
                syllableFilter = 'melismatic';
            } else if (repetitionsCheckbox && repetitionsCheckbox.checked) {
                syllableFilter = 'repetitions';
            } else if (specificSyllableSelect && specificSyllableSelect.selectedOptions.length > 0) {
                syllableFilter = 'specific';
            }

            // Multi-selection checkbox system - no dropdown dependencies

            let patternDetails = '';

            // Apply KPIC highlighting (specific patterns)
            if (kpicFilter !== 'none') {
                // Get patterns based on analysis mode
                const modePatterns = analysisData.kpic_patterns[analysisMode] || analysisData.kpic_patterns;
                const patterns = modePatterns[kpicFilter] || [];
                const patternSelect = document.getElementById('specificKpicPattern');
                const selectedIndices = Array.from(patternSelect.selectedOptions).map(opt => parseInt(opt.value));
                // Only highlight specifically selected patterns from dropdown
                // Don't auto-select all patterns when none are selected

                const selectedPatterns = selectedIndices.map(i => patterns[i]).filter(Boolean);
                selectedPatterns.forEach((pattern, patternIndex) => {
                    const colorIndex = patternIndex % 5; // Cycle through 5 colors
                    const patternColors = ['#ff9800', '#e91e63', '#9c27b0', '#3f51b5', '#009688']; // KPIC colors
                    
                    pattern.positions.forEach(startPos => {
                        const ngramSize = pattern.pattern.length;
                        const patternPositions = [];
                        
                        for (let i = 0; i < ngramSize; i++) {
                            const noteIndex = startPos + i;
                            const noteElement = document.getElementById(`note-${noteIndex}`);
                            if (noteElement) {
                                noteElement.classList.add('kpic-highlight', 'pattern-member', `pattern-color-${colorIndex}`);

                                // Force SVG attributes directly
                                noteElement.setAttribute('fill', '#ffff00'); // Bright yellow
                                noteElement.setAttribute('stroke', '#ff0000'); // Bright red
                                noteElement.setAttribute('stroke-width', '8'); // Thick stroke
                                noteElement.setAttribute('opacity', '1.0'); // Full opacity
                                noteElement.setAttribute('filter', 'drop-shadow(0 0 20px #ff0000)'); // Red glow

                                // Verify attributes were actually set
                                noteElement.setAttribute('data-pattern-type', 'KPIC');
                                noteElement.setAttribute('data-pattern-info',
                                    `${kpicFilter.toUpperCase()}: ${pattern.pattern.join('‚Üí')} (${pattern.count}√ó)`);
                                patternPositions.push(noteIndex);
                            }
                        }
                        
                        // Draw connection lines for this pattern instance
                        if (patternPositions.length > 1) {
                            drawGraceAwareConnections(patternPositions, patternColors[colorIndex], 3, `kpic-${patternIndex}-${startPos}`);
                        } else {
                        }
                        
                        // Highlight corresponding lyrics with coverage analysis
                        highlightCorrespondingLyrics(patternPositions, patternColors[colorIndex], `KPIC-${kpicFilter}`, patternIndex);
                    });
                });
                
                patternDetails += `<h4>${kpicFilter.toUpperCase()} Selected Patterns</h4>`;
                patternDetails += '<ul>';
                selectedPatterns.forEach(p => {
                    patternDetails += `<li>${p.pattern.join(' ‚Üí ')} <strong>(${p.count}√ó)</strong> at positions: ${p.positions.join(', ')}</li>`;
                });
                patternDetails += '</ul>';
            }
            
            // Apply KRIC highlighting (specific patterns)
            if (kricFilter !== 'none') {
                // Generate KRIC patterns if not already generated
                if (!window.kricPatterns) {
                    generateKricPatterns();
                }

                // Get patterns for the current filter
                const patterns = window.kricPatterns[kricFilter] || [];
                const patternSelect = document.getElementById('specificKricPattern');
                const selectedIndices = Array.from(patternSelect.selectedOptions).map(opt => parseInt(opt.value));

                // Only highlight specifically selected patterns from dropdown
                // Don't auto-select all patterns when none are selected

                const selectedPatterns = selectedIndices.map(i => patterns[i]).filter(Boolean);
                
                selectedPatterns.forEach((pattern, patternIndex) => {
                    const colorIndex = patternIndex % 5; // Cycle through 5 colors
                    const patternColors = ['#2196f3', '#4caf50', '#ff5722', '#9c27b0', '#ff9800']; // KRIC colors
                    
                    pattern.positions.forEach(startPos => {
                        const ngramSize = pattern.pattern.length;
                        const patternPositions = [];
                        
                        for (let i = 0; i < ngramSize; i++) {
                            const noteIndex = startPos + i;
                            const noteElement = document.getElementById(`note-${noteIndex}`);
                            if (noteElement) {
                                noteElement.classList.add('kric-highlight', 'pattern-member', `pattern-color-${colorIndex}`);
                                noteElement.style.opacity = '1.0'; // Restore full opacity for selected notes
                                noteElement.setAttribute('data-pattern-type', 'KRIC');
                                noteElement.setAttribute('data-pattern-info', 
                                    `${kricFilter.toUpperCase()}: ${pattern.pattern.join('‚Üí')} (${pattern.count}√ó)`);
                                patternPositions.push(noteIndex);
                            }
                        }
                        
                        // Draw connection lines for this pattern instance
                        if (patternPositions.length > 1) {
                            drawGraceAwareConnections(patternPositions, patternColors[colorIndex], 3, `kric-${patternIndex}-${startPos}`);
                        }
                        
                        // Highlight corresponding lyrics with coverage analysis
                        highlightCorrespondingLyrics(patternPositions, patternColors[colorIndex], `KRIC-${kricFilter}`, patternIndex);
                    });
                });
                
                patternDetails += `<h4>${kricFilter.toUpperCase()} Selected Patterns</h4>`;
                patternDetails += '<ul>';
                selectedPatterns.forEach(p => {
                    patternDetails += `<li>${p.pattern.join(' ‚Üí ')} <strong>(${p.count}√ó)</strong> at positions: ${p.positions.join(', ')}</li>`;
                });
                patternDetails += '</ul>';
            }
            
            // Apply syllable highlighting
            if (syllableFilter === 'grace_main_units') {
                // Always rebuild grace_main_units data to ensure it's correct
                analysisData.grace_main_units = [];

                // Find all grace notes and their following main notes
                const allNotes = document.querySelectorAll('.note-circle');
                // Build a sorted list of all notes for easier sequential processing
                const noteList = [];
                allNotes.forEach(circle => {
                    const noteIndex = parseInt(circle.getAttribute('data-note-index'));
                    const isGrace = circle.getAttribute('data-is-grace') === 'true';
                    const radius = circle.getAttribute('r');
                    noteList.push({ index: noteIndex, isGrace, radius, element: circle });
                });

                // Sort by note index
                noteList.sort((a, b) => a.index - b.index);

                // Process each note to find grace-main relationships
                for (let i = 0; i < noteList.length; i++) {
                    const note = noteList[i];

                    if (note.isGrace) {
                        // Grace note found - add it and its main note
                        analysisData.grace_main_units.push(note.index);

                        // Find the next main note (not grace)
                        for (let j = i + 1; j < noteList.length; j++) {
                            const nextNote = noteList[j];
                            if (!nextNote.isGrace) {
                                analysisData.grace_main_units.push(nextNote.index);
                                break;
                            }
                        }
                    }
                }

                // Remove duplicates and sort
                analysisData.grace_main_units = [...new Set(analysisData.grace_main_units)].sort((a, b) => a - b);

                // Group grace-main pairs together
                const graceMainGroups = new Map();
                analysisData.grace_main_units.forEach(pos => {
                    const noteElement = document.getElementById(`note-${pos}`);
                    if (noteElement) {
                        noteElement.classList.add('grace-main-unit');

                        // Group into pairs
                        const graceMainPairIndex = Math.floor(analysisData.grace_main_units.indexOf(pos) / 2);
                        if (!graceMainGroups.has(graceMainPairIndex)) {
                            graceMainGroups.set(graceMainPairIndex, []);
                        }
                        graceMainGroups.get(graceMainPairIndex).push(pos);
                    }
                });

                // Draw connections for each grace-main pair
                graceMainGroups.forEach((notePositions, pairIndex) => {
                    if (notePositions.length > 1) {
                        notePositions.sort((a, b) => a - b);
                        drawSimpleConnections(notePositions, '#2e7d32', 4, `grace-main-pair-${pairIndex}`);
                    }
                });

                // Highlight corresponding syllables in lyrics box
                if (analysisData.grace_main_units.length > 0) {
                    highlightCorrespondingLyrics(analysisData.grace_main_units, '#2e7d32', 'Grace-Main Units', 'grace');
                }
                
                const unitCount = analysisData.grace_main_units.length;
                patternDetails += `<h4>Grace-Main Units</h4>`;
                patternDetails += `<p>Highlighted ${unitCount} notes that are part of grace-main units.</p>`;
                patternDetails += `<p>Grace-main units consist of one or more grace notes followed by a main note.</p>`;
            } else if (syllableFilter === 'melismatic') {
                // Highlight melismatic syllables - but treat each instance separately
                // Find all syllables marked as melismatic in the HTML
                const syllables = document.querySelectorAll('.editable-syllable.melismatic');
                syllables.forEach((syllableElement, index) => {
                    const syllableText = syllableElement.textContent;
                    const syllablePos = parseInt(syllableElement.getAttribute('data-position'));
                    const syllableTitle = syllableElement.getAttribute('title');
                    const noteCountMatch = syllableTitle.match(/\(melismatic, (\d+) notes?\)/);

                    if (noteCountMatch) {
                        const noteCount = parseInt(noteCountMatch[1]);
                        // Highlight all notes in this melismatic syllable
                        const syllableNotePositions = [];
                        for (let i = 0; i < noteCount; i++) {
                            const notePos = syllablePos + i;
                            const noteElement = document.getElementById(`note-${notePos}`);
                            if (noteElement) {
                                noteElement.classList.add('syllable-melismatic');
                                noteElement.setAttribute('data-syllable-info',
                                    `Melismatic: "${syllableText}" (${i + 1}/${noteCount})`);
                                syllableNotePositions.push(notePos);
                            }
                        }

                        // Draw connections within this specific melismatic syllable
                        if (syllableNotePositions.length > 1) {
                            drawSimpleConnections(syllableNotePositions, '#6a1b9a', 3, `melisma-${syllableText}-${index}`);
                        }

                        // Highlight corresponding syllable in lyrics box
                        highlightCorrespondingLyrics(syllableNotePositions, '#6a1b9a', 'Melismatic Syllable', syllableText);
                    }
                });
                
                const melismaCount = Object.keys(analysisData.melismatic_syllables).length;
                patternDetails += `<h4>Multi-note Syllables (Melismas)</h4>`;
                patternDetails += `<p>Found ${melismaCount} melismatic syllables.</p>`;
                patternDetails += '<ul>';
                Object.entries(analysisData.melismatic_syllables).slice(0, 10).forEach(([syl, positions]) => {
                    patternDetails += `<li>"${syl}" - ${positions.length} occurrence(s)</li>`;
                });
                patternDetails += '</ul>';
            } else if (syllableFilter.startsWith('tone_')) {
                // Highlight syllables by tone mark
                const toneType = syllableFilter.replace('tone_', '');
                const toneMap = {
                    'sac': 's·∫Øc', 'huyen': 'huy·ªÅn', 'hoi': 'h·ªèi',
                    'nga': 'ng√£', 'nang': 'n·∫∑ng', 'ngang': 'ngang'
                };
                const tone = toneMap[toneType];
                
                if (analysisData.tone_syllables && analysisData.tone_syllables[tone]) {
                    const toneColors = {
                        's·∫Øc': '#ff5722',    // Rising tone - orange
                        'huy·ªÅn': '#3f51b5',  // Falling tone - blue  
                        'h·ªèi': '#009688',    // Dipping tone - teal
                        'ng√£': '#ff9800',    // Broken rising - amber
                        'n·∫∑ng': '#795548',   // Heavy tone - brown
                        'ngang': '#607d8b'   // Flat tone - blue-grey
                    };
                    
                    analysisData.tone_syllables[tone].forEach(pos => {
                        const noteElement = document.getElementById(`note-${pos}`);
                        if (noteElement) {
                            noteElement.classList.add('syllable-tone', `tone-${toneType}`);
                            noteElement.setAttribute('data-syllable-info', 
                                `Tone: ${tone}`);
                        }
                    });
                    
                    // Draw connection lines ONLY within individual syllables (not across different syllables)
                    // Group notes by syllable first, then draw connections within each syllable
                    const syllableGroups = new Map();

                    // Only use the original tone notes (don't add grace notes globally)
                    // Grace notes will be included only when they're within syllable boundaries

                    analysisData.tone_syllables[tone].forEach(notePos => {
                        // Find which syllable this note belongs to
                        const syllables = document.querySelectorAll('.editable-syllable');
                        syllables.forEach(syllableElement => {
                            const syllablePos = parseInt(syllableElement.getAttribute('data-position'));
                            const syllableTitle = syllableElement.getAttribute('title');
                            const syllableIndex = parseInt(syllableElement.getAttribute('data-syllable-index'));

                            // Get exact syllable range
                            let syllableStartPos = syllablePos;
                            let syllableEndPos = syllablePos;

                            // Try multiple regex patterns for note count
                            let noteCountMatch = syllableTitle.match(/\((\d+) notes?\)/);
                            if (!noteCountMatch) {
                                noteCountMatch = syllableTitle.match(/\(melismatic, (\d+) notes?\)/);
                            }

                            if (noteCountMatch) {
                                const noteCount = parseInt(noteCountMatch[1]);
                                syllableEndPos = syllableStartPos + noteCount - 1;
                            }

                            // Check if note belongs to this syllable
                            if (notePos >= syllableStartPos && notePos <= syllableEndPos) {
                                if (!syllableGroups.has(syllableIndex)) {
                                    syllableGroups.set(syllableIndex, []);
                                }
                                syllableGroups.get(syllableIndex).push(notePos);

                                // Also check for grace notes immediately before this syllable's start
                                if (notePos === syllableStartPos) {
                                    // This is the main note that starts the syllable
                                    // Include any grace notes immediately before it
                                    for (let gracePos = syllableStartPos - 1; gracePos >= Math.max(0, syllableStartPos - 2); gracePos--) {
                                        const graceNote = document.getElementById(`note-${gracePos}`);
                                        if (graceNote && graceNote.getAttribute('data-is-grace') === 'true') {
                                            if (!syllableGroups.get(syllableIndex).includes(gracePos)) {
                                                syllableGroups.get(syllableIndex).push(gracePos);
                                            }
                                        } else {
                                            break; // Stop at first non-grace note
                                        }
                                    }
                                }
                            }
                        });
                    });

                    // Draw connections only within each syllable
                    const allTonePositions = [];

                    syllableGroups.forEach((notePositions, syllableIndex) => {
                        allTonePositions.push(...notePositions); // Add positions to array for lyrics highlighting

                        if (notePositions.length > 1) {
                            notePositions.sort((a, b) => a - b); // Sort by position
                            // Use simple connection drawing
                            drawSimpleConnections(notePositions, toneColors[tone], 3, `tone-${tone}-syllable-${syllableIndex}`);
                        } else {
                        }
                    });

                    // Highlight corresponding syllables in lyrics box
                    if (allTonePositions.length > 0) {
                        highlightCorrespondingLyrics(allTonePositions, toneColors[tone], `${tone.charAt(0).toUpperCase() + tone.slice(1)} Tone`, tone);
                    } else {
                    }

                    const toneCount = analysisData.tone_syllables[tone].length;
                    patternDetails += `<h4>Tone Mark: ${tone.charAt(0).toUpperCase() + tone.slice(1)}</h4>`;
                    patternDetails += `<p>Found ${toneCount} notes with ${tone} tone (including melismatic notes).</p>`;
                }
            } else if (syllableFilter === 'repetitions') {
                // Handle repeated syllables with dropdown selection (like KPIC)
                const selectedSyllable = document.getElementById('repeatedSyllableSelect').value;

                if (selectedSyllable && analysisData.repeated_syllables[selectedSyllable]) {
                    const data = analysisData.repeated_syllables[selectedSyllable];

                    // Highlight only the selected repeated syllable
                    data.positions.forEach(pos => {
                        const noteElement = document.getElementById(`note-${pos}`);
                        if (noteElement) {
                            noteElement.classList.add('syllable-repetition');
                            noteElement.setAttribute('data-syllable-info',
                                `Repeated syllable: "${selectedSyllable}" (${data.count}√ó)`);
                        }
                    });

                    // Highlight corresponding syllables in lyrics box
                    highlightCorrespondingLyrics(data.positions, '#f44336', 'Repeated Syllable', selectedSyllable);

                    patternDetails += `<h4>Repeated Syllable: "${selectedSyllable}"</h4>`;
                    patternDetails += `<p>Found ${data.count} instances at positions: ${data.positions.join(', ')}</p>`;
                } else {
                    patternDetails += `<h4>Repeated Syllables</h4>`;
                    patternDetails += `<p>Select a specific repeated syllable from the dropdown above.</p>`;
                }
            } else if (syllableFilter === 'specific') {
                const syllableSelect = document.getElementById('specificSyllable');
                const selectedSyllables = Array.from(syllableSelect.selectedOptions).map(opt => opt.value);
                
                if (selectedSyllables.length > 0) {
                    selectedSyllables.forEach((selectedSyllable, syllableIndex) => {
                        const colorIndex = syllableIndex % 5; // Cycle through 5 colors
                        const syllableColors = ['#e91e63', '#9c27b0', '#3f51b5', '#009688', '#ff9800']; // Syllable colors
                        
                        // Get syllable data from all_syllables (includes both repeated and single)
                        const data = analysisData.all_syllables[selectedSyllable];
                        if (!data) return; // Skip if syllable not found
                        
                        const positions = data.positions;
                        const count = data.count;
                        
                        positions.forEach(pos => {
                            const noteElement = document.getElementById(`note-${pos}`);
                            if (noteElement) {
                                noteElement.classList.add('syllable-focus', `pattern-color-${colorIndex}`);
                                noteElement.setAttribute('data-syllable-info', 
                                    `Selected syllable: "${selectedSyllable}" (${count}√ó)`);
                            }
                        });
                        
                        // Draw connection lines only for consecutive notes within each selected syllable
                        if (positions.length > 1) {
                            drawGraceAwareConnections(positions, syllableColors[colorIndex], 2, `syllable-${selectedSyllable}`);
                        }
                    });
                    
                    patternDetails += `<h4>Selected Syllables</h4>`;
                    patternDetails += '<ul>';
                    selectedSyllables.forEach(syl => {
                        const data = analysisData.all_syllables[syl];
                        if (data) {
                            patternDetails += `<li>"${syl}" appears ${data.count} times at positions: ${data.positions.join(', ')}</li>`;
                        }
                    });
                    patternDetails += '</ul>';
                }
            }
            
            // Apply dimming to non-highlighted notes if any highlighting is active
            const hasHighlighting = kpicFilter !== 'none' || kricFilter !== 'none' || syllableFilter !== 'none';
            if (hasHighlighting) {
                const notes = document.querySelectorAll('.note-circle');
                notes.forEach(note => {
                    // Check if this note has any highlighting classes
                    const hasHighlightClass = note.classList.contains('kpic-highlight') ||
                                            note.classList.contains('kric-highlight') ||
                                            note.classList.contains('syllable-repetition') ||
                                            note.classList.contains('syllable-focus') ||
                                            note.classList.contains('syllable-melismatic') ||
                                            note.classList.contains('grace-main-unit') ||
                                            note.classList.contains('syllable-tone') ||
                                            note.classList.contains('pattern-member') ||
                                            Array.from(note.classList).some(cls => cls.startsWith('pattern-color-')) ||
                                            Array.from(note.classList).some(cls => cls.startsWith('tone-'));
                    
                    // If no highlighting class, dim the note
                    if (!hasHighlightClass) {
                        note.classList.add('note-dimmed');
                    }
                });
            }
            
        }
        
        function highlightCorrespondingLyrics(notePositions, color, patternType, patternIndex) {
            // Create a more accurate syllable-note mapping
            const syllableCoverage = new Map(); // syllableIndex -> {total: X, covered: Y}
            
            // For each note position, find which syllable it EXACTLY belongs to (prevents cross-contamination)
            notePositions.forEach(notePos => {
                // Find the exact syllable that owns this note
                const syllables = document.querySelectorAll('.editable-syllable');
                let foundSyllable = null;

                for (const syllableElement of syllables) {
                    const syllablePos = parseInt(syllableElement.getAttribute('data-position'));
                    const syllableTitle = syllableElement.getAttribute('title');
                    const syllableIndex = parseInt(syllableElement.getAttribute('data-syllable-index'));

                    // Get exact syllable range using note count
                    let syllableStartPos = syllablePos;
                    let syllableEndPos = syllablePos;

                    let noteCountMatch = syllableTitle.match(/\((\d+) notes?\)/);
                    if (!noteCountMatch) {
                        noteCountMatch = syllableTitle.match(/\(melismatic, (\d+) notes?\)/);
                    }

                    if (noteCountMatch) {
                        const noteCount = parseInt(noteCountMatch[1]);
                        syllableEndPos = syllableStartPos + noteCount - 1;
                    }

                    // Check if note EXACTLY belongs to this syllable
                    if (notePos >= syllableStartPos && notePos <= syllableEndPos) {
                        foundSyllable = { index: syllableIndex, element: syllableElement };
                        break; // Found exact match, stop searching to prevent cross-contamination
                    }
                }

                if (foundSyllable) {
                    if (!syllableCoverage.has(foundSyllable.index)) {
                        syllableCoverage.set(foundSyllable.index, {total: 1, covered: 1});
                    } else {
                        const coverage = syllableCoverage.get(foundSyllable.index);
                        coverage.covered++;
                    }
                }
            });
            
            // Apply highlighting with coverage indicators
            syllableCoverage.forEach((coverage, syllableIndex) => {
                const syllableElement = document.querySelector(`[data-syllable-index="${syllableIndex}"]`);
                if (syllableElement) {
                    // Store original title for clearing
                    if (!syllableElement.getAttribute('data-original-title')) {
                        syllableElement.setAttribute('data-original-title', syllableElement.title || '');
                    }
                    
                    // Add pattern highlighting with same colors as tablature
                    syllableElement.classList.add(`lyrics-pattern-${patternIndex}`);
                    syllableElement.style.backgroundColor = color;
                    syllableElement.style.color = 'white';
                    syllableElement.style.borderRadius = '3px';
                    syllableElement.style.padding = '2px 4px';
                    syllableElement.style.fontWeight = 'bold';
                    
                    // Coverage analysis
                    const coverageRatio = coverage.covered / coverage.total;
                    
                    if (coverageRatio < 1.0) {
                        // Partial coverage - add warning indicators
                        syllableElement.style.border = '2px dashed orange';
                        syllableElement.style.position = 'relative';
                        
                        // Add coverage percentage to title
                        const coveragePercent = Math.round(coverageRatio * 100);
                        syllableElement.title = syllableElement.getAttribute('data-original-title') + 
                            ` [${patternType} Pattern ${patternIndex + 1} - ${coveragePercent}% coverage]`;
                        
                        // Add visual indicator
                        if (!syllableElement.querySelector('.coverage-indicator')) {
                            const indicator = document.createElement('span');
                            indicator.className = 'coverage-indicator';
                            indicator.textContent = '‚ö†';
                            indicator.style.position = 'absolute';
                            indicator.style.top = '-5px';
                            indicator.style.right = '-5px';
                            indicator.style.fontSize = '8px';
                            indicator.style.color = 'orange';
                            indicator.style.fontWeight = 'bold';
                            syllableElement.style.position = 'relative';
                            syllableElement.appendChild(indicator);
                        }
                    } else {
                        // Full coverage
                        syllableElement.title = syllableElement.getAttribute('data-original-title') + 
                            ` [${patternType} Pattern ${patternIndex + 1} - Full Match]`;
                    }
                }
            });
        }
        
        function drawConsecutiveConnections(positions, color, strokeWidth = 2, patternId = '') {
            // Only connect consecutive positions to avoid long-distance network connections
            const svg = document.querySelector('svg');
            if (!svg || positions.length < 2) return;
            
            // Sort positions
            const sortedPositions = [...positions].sort((a, b) => a - b);
            
            // Find groups of consecutive positions
            const consecutiveGroups = [];
            let currentGroup = [sortedPositions[0]];
            
            for (let i = 1; i < sortedPositions.length; i++) {
                if (sortedPositions[i] === sortedPositions[i-1] + 1) {
                    // Consecutive position, add to current group
                    currentGroup.push(sortedPositions[i]);
                } else {
                    // Non-consecutive, start new group
                    if (currentGroup.length > 1) {
                        consecutiveGroups.push(currentGroup);
                    }
                    currentGroup = [sortedPositions[i]];
                }
            }
            
            // Add the last group if it has multiple positions
            if (currentGroup.length > 1) {
                consecutiveGroups.push(currentGroup);
            }
            
            // Draw connections within each consecutive group
            consecutiveGroups.forEach((group, groupIndex) => {
                for (let i = 0; i < group.length - 1; i++) {
                    const currentPos = group[i];
                    const nextPos = group[i + 1];
                    
                    const currentNote = document.getElementById(`note-${currentPos}`);
                    const nextNote = document.getElementById(`note-${nextPos}`);
                    
                    if (currentNote && nextNote) {
                        // Get note centers
                        const currentX = parseFloat(currentNote.getAttribute('cx'));
                        const currentY = parseFloat(currentNote.getAttribute('cy'));
                        const nextX = parseFloat(nextNote.getAttribute('cx'));
                        const nextY = parseFloat(nextNote.getAttribute('cy'));
                        
                        // Create connection line
                        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                        line.setAttribute('x1', currentX);
                        line.setAttribute('y1', currentY);
                        line.setAttribute('x2', nextX);
                        line.setAttribute('y2', nextY);
                        line.setAttribute('stroke', color);
                        line.setAttribute('stroke-width', strokeWidth);
                        line.setAttribute('opacity', '0.8');
                        line.setAttribute('class', `pattern-connection-line pattern-${patternId}-group-${groupIndex}`);
                        
                        // Store base coordinates for zoom scaling
                        line.setAttribute('data-base-x1', currentX);
                        line.setAttribute('data-base-y1', currentY);
                        line.setAttribute('data-base-x2', nextX);
                        line.setAttribute('data-base-y2', nextY);
                        
                        // Insert line before notes so it appears behind them
                        const firstNote = svg.querySelector('.note-circle');
                        if (firstNote) {
                            svg.insertBefore(line, firstNote);
                        } else {
                            svg.appendChild(line);
                        }
                    }
                }
            });
        }
        
        function drawSimpleConnections(positions, color, strokeWidth = 2, patternId = '') {
            // Simple, clean connection logic - just connect consecutive notes
            const svg = document.querySelector('svg');
            if (!svg || positions.length < 2) {
                return;
            }

            // Sort positions to ensure proper connection order
            const sortedPositions = [...positions].sort((a, b) => a - b);
            // Draw simple consecutive connections
            for (let i = 0; i < sortedPositions.length - 1; i++) {
                const pos1 = sortedPositions[i];
                const pos2 = sortedPositions[i + 1];

                const note1 = document.getElementById(`note-${pos1}`);
                const note2 = document.getElementById(`note-${pos2}`);

                if (!note1 || !note2) {
                    continue;
                }

                const x1 = parseFloat(note1.getAttribute('cx'));
                const y1 = parseFloat(note1.getAttribute('cy'));
                const x2 = parseFloat(note2.getAttribute('cx'));
                const y2 = parseFloat(note2.getAttribute('cy'));

                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', x1);
                line.setAttribute('y1', y1);
                line.setAttribute('x2', x2);
                line.setAttribute('y2', y2);
                line.setAttribute('stroke', color);
                line.setAttribute('stroke-width', strokeWidth);
                line.setAttribute('opacity', '0.8');
                line.setAttribute('class', `pattern-connection-line pattern-${patternId}-line-${i}`);

                // Store base coordinates for zoom scaling
                line.setAttribute('data-base-x1', note1.getAttribute('data-base-x') || x1);
                line.setAttribute('data-base-y1', note1.getAttribute('data-base-y') || y1);
                line.setAttribute('data-base-x2', note2.getAttribute('data-base-x') || x2);
                line.setAttribute('data-base-y2', note2.getAttribute('data-base-y') || y2);

                // Insert line before notes so it appears behind them
                const firstNote = svg.querySelector('.note-circle');
                if (firstNote) {
                    svg.insertBefore(line, firstNote);
                } else {
                    svg.appendChild(line);
                }
            }
        }

        function drawGraceAwareConnections(positions, color, strokeWidth = 2, patternId = '') {
            // Smart connection logic that respects grace-main units
            const svg = document.querySelector('svg');
            if (!svg || positions.length < 2) {
                return;
            }
            
            // Sort positions to ensure proper connection order
            const sortedPositions = [...positions].sort((a, b) => a - b);
            
            // Helper function to create a line
            function createConnectionLine(pos1, pos2, lineId) {
                const note1 = document.getElementById(`note-${pos1}`);
                const note2 = document.getElementById(`note-${pos2}`);

                if (!note1 || !note2) {
                    return;
                }
                
                // Use base coordinates if available, otherwise current coordinates
                const baseX1 = parseFloat(note1.getAttribute('data-base-x') || note1.getAttribute('cx'));
                const baseY1 = parseFloat(note1.getAttribute('data-base-y') || note1.getAttribute('cy'));
                const baseX2 = parseFloat(note2.getAttribute('data-base-x') || note2.getAttribute('cx'));
                const baseY2 = parseFloat(note2.getAttribute('data-base-y') || note2.getAttribute('cy'));
                
                // Use current coordinates for display
                const x1 = parseFloat(note1.getAttribute('cx'));
                const y1 = parseFloat(note1.getAttribute('cy'));
                const x2 = parseFloat(note2.getAttribute('cx'));
                const y2 = parseFloat(note2.getAttribute('cy'));
                
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', x1);
                line.setAttribute('y1', y1);
                line.setAttribute('x2', x2);
                line.setAttribute('y2', y2);
                line.setAttribute('stroke', '#ff0000'); // Bright red lines
                line.setAttribute('stroke-width', '8'); // Very thick lines
                line.setAttribute('opacity', '1.0'); // Fully opaque
                line.setAttribute('class', `pattern-connection-line pattern-${patternId}-${lineId}`);

                // Store base coordinates for zoom scaling
                line.setAttribute('data-base-x1', baseX1);
                line.setAttribute('data-base-y1', baseY1);
                line.setAttribute('data-base-x2', baseX2);
                line.setAttribute('data-base-y2', baseY2);

                // Insert line before notes so it appears behind them
                const firstNote = svg.querySelector('.note-circle');
                if (firstNote) {
                    svg.insertBefore(line, firstNote);
                } else {
                    svg.appendChild(line);
                }
            }
            
            // Process connections with grace-aware logic
            for (let i = 0; i < sortedPositions.length; i++) {
                const currentPos = sortedPositions[i];
                const currentNote = document.getElementById(`note-${currentPos}`);
                if (!currentNote) continue;
                
                const currentIsGrace = currentNote.getAttribute('data-is-grace') === 'true';
                
                if (currentIsGrace) {
                    // Grace note: connect to immediately following note (grace or main)
                    if (i + 1 < sortedPositions.length) {
                        const nextPos = sortedPositions[i + 1];
                        createConnectionLine(currentPos, nextPos, `grace-${i}`);
                    }
                } else {
                    // Main note: connect to next main note (skip any intervening grace notes)
                    for (let j = i + 1; j < sortedPositions.length; j++) {
                        const targetPos = sortedPositions[j];
                        const targetNote = document.getElementById(`note-${targetPos}`);
                        if (!targetNote) continue;
                        
                        const targetIsGrace = targetNote.getAttribute('data-is-grace') === 'true';
                        
                        if (!targetIsGrace) {
                            // Found next main note, connect to it
                            createConnectionLine(currentPos, targetPos, `main-${i}-${j}`);
                            break;
                        }
                        // Skip grace notes and continue looking for main note
                    }
                }
            }
        }
        
        function drawPatternConnections(positions, color, strokeWidth = 2, patternId = '') {
            const svg = document.querySelector('svg');
            if (!svg || positions.length < 2) return;
            
            // Sort positions to ensure proper connection order
            const sortedPositions = [...positions].sort((a, b) => a - b);
            
            for (let i = 0; i < sortedPositions.length - 1; i++) {
                const currentPos = sortedPositions[i];
                const nextPos = sortedPositions[i + 1];
                
                const currentNote = document.getElementById(`note-${currentPos}`);
                const nextNote = document.getElementById(`note-${nextPos}`);
                
                if (currentNote && nextNote) {
                    // Get note centers
                    const currentX = parseFloat(currentNote.getAttribute('cx'));
                    const currentY = parseFloat(currentNote.getAttribute('cy'));
                    const nextX = parseFloat(nextNote.getAttribute('cx'));
                    const nextY = parseFloat(nextNote.getAttribute('cy'));
                    
                    // Create connection line
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', currentX);
                    line.setAttribute('y1', currentY);
                    line.setAttribute('x2', nextX);
                    line.setAttribute('y2', nextY);
                    line.setAttribute('stroke', color);
                    line.setAttribute('stroke-width', strokeWidth);
                    line.setAttribute('opacity', '0.8');
                    line.setAttribute('class', `pattern-connection-line pattern-${patternId}`);
                    
                    // Store base coordinates for zoom scaling
                    line.setAttribute('data-base-x1', currentX);
                    line.setAttribute('data-base-y1', currentY);
                    line.setAttribute('data-base-x2', nextX);
                    line.setAttribute('data-base-y2', nextY);
                    
                    // Insert line before notes so it appears behind them
                    const firstNote = svg.querySelector('.note-circle');
                    if (firstNote) {
                        svg.insertBefore(line, firstNote);
                    } else {
                        svg.appendChild(line);
                    }
                }
            }

            // Keep gradient bands - don't update to solid colors
            setTimeout(() => {
                // updateResonanceBandColors(); // Commented out to preserve gradients
            }, 100);
        }

        function clearHighlighting() {
            const notes = document.querySelectorAll('.note-circle');
            notes.forEach(note => {
                note.classList.remove('kpic-highlight', 'kric-highlight', 'syllable-repetition', 'syllable-focus', 
                                     'syllable-melismatic', 'grace-main-unit', 'syllable-tone', 'pattern-member',
                                     'tone-sac', 'tone-huyen', 'tone-hoi', 'tone-nga', 'tone-nang', 'tone-ngang',
                                     'note-dimmed');
                // Remove pattern color classes
                for (let i = 0; i < 5; i++) {
                    note.classList.remove(`pattern-color-${i}`);
                }
                note.removeAttribute('data-pattern-type');
                note.removeAttribute('data-pattern-info');
                note.removeAttribute('data-syllable-info');

                // Clear inline styles that override CSS
                note.style.removeProperty('filter');
                note.style.removeProperty('stroke');
                note.style.removeProperty('stroke-width');
                note.style.removeProperty('opacity');

                // Clear SVG attributes
                note.removeAttribute('fill');
                note.removeAttribute('stroke');
                note.removeAttribute('stroke-width');
                note.removeAttribute('opacity');
                note.removeAttribute('filter');
            });
            
            // Remove all pattern connection lines
            const existingLines = document.querySelectorAll('.pattern-connection-line');
            existingLines.forEach(line => line.remove());

            // Reset resonance band colors to default
            const svg = document.getElementById('tablatureSvg');
            const allRects = svg.querySelectorAll('rect');
            const resonanceBands = Array.from(allRects).filter(rect => {
                const fill = rect.getAttribute('fill');
                return fill && (fill.includes('resonanceBand') || fill.includes('dynamicResonance'));
            });

            resonanceBands.forEach((band) => {
                // Determine if this is a grace note band based on height
                const height = parseFloat(band.getAttribute('height'));
                if (height <= 6) {
                    band.setAttribute('fill', 'url(#graceResonanceBand)');
                } else {
                    band.setAttribute('fill', 'url(#resonanceBand)');
                }
            });

            // Clear lyrics highlighting
            const lyricsElements = document.querySelectorAll('.editable-syllable');
            lyricsElements.forEach(syllable => {
                // Remove pattern highlighting classes
                for (let i = 0; i < 10; i++) {
                    syllable.classList.remove(`lyrics-pattern-${i}`);
                }
                // Reset styles
                syllable.style.backgroundColor = '';
                syllable.style.color = '';
                syllable.style.border = '';
                syllable.style.borderRadius = '';
                syllable.style.padding = '2px 4px';
                
                // Reset title to original content
                const originalTitle = syllable.getAttribute('data-original-title');
                if (originalTitle) {
                    syllable.title = originalTitle;
                } else {
                    // Remove pattern info from title
                    syllable.title = syllable.title.replace(/\s*\[.*?Pattern.*?\]/g, '');
                }
            });
        }
        
        function showLegend() {
            const legend = document.getElementById('legend');

            if (legend.style.display === 'none') {
                // Show the floating legend in bottom right corner
                legend.style.display = 'block';
                legend.style.position = 'fixed';
                legend.style.bottom = '20px';
                legend.style.right = '20px';
                legend.style.top = '';
                legend.style.left = '';
                legend.style.transform = '';
                legend.style.zIndex = '1001';
                legend.style.boxShadow = '0 8px 24px rgba(0,0,0,0.2)';
                legend.style.border = '2px solid #34495e';
                legend.style.maxWidth = '320px';
                legend.style.maxHeight = '60vh';
                legend.style.overflow = 'auto';
            } else {
                // Hide the legend
                legend.style.display = 'none';
                // Reset positioning properties
                legend.style.position = '';
                legend.style.top = '';
                legend.style.left = '';
                legend.style.bottom = '';
                legend.style.right = '';
                legend.style.transform = '';
                legend.style.zIndex = '';
                legend.style.boxShadow = '';
                legend.style.border = '';
                legend.style.maxWidth = '';
                legend.style.maxHeight = '';
                legend.style.overflow = '';
            }
        }
        
        function toggleSection(sectionId) {
            const content = document.getElementById(`${sectionId}-content`);
            const icon = document.getElementById(`${sectionId}-icon`);
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                icon.classList.remove('collapsed');
                icon.textContent = '‚ñº';
            } else {
                content.classList.add('collapsed');
                icon.classList.add('collapsed');
                icon.textContent = '‚ñ∂';
            }
        }
        
        function toggleLineBreak(syllableIndex) {
            const breakElement = document.querySelector(`[data-break-after="${syllableIndex}"]`);
            if (!breakElement) return;
            
            // Simply toggle the active class - CSS handles the line break
            breakElement.classList.toggle('active');
        }
        
        // Function to change lyrics font
        function changeLyricsFont() {
            const selector = document.getElementById('lyrics-font-selector');
            const selectedFont = selector.value;

            // Apply font to Vietnamese lyrics container
            const vietnameseLyrics = document.getElementById('editable-lyrics');
            if (vietnameseLyrics) {
                vietnameseLyrics.style.fontFamily = selectedFont;
            }

            // Apply font to English lyrics container (parent div of eng-words)
            const englishContainer = document.querySelector('.eng-word')?.parentElement;
            if (englishContainer) {
                englishContainer.style.fontFamily = selectedFont;
            }

            // Also apply to individual syllables and words for consistency
            document.querySelectorAll('.editable-syllable').forEach(syllable => {
                syllable.style.fontFamily = selectedFont;
            });

            document.querySelectorAll('.eng-word').forEach(word => {
                word.style.fontFamily = selectedFont;
            });

            // Save preference to localStorage
            localStorage.setItem('dantranh_lyrics_font', selectedFont);
        }

        // Function to change lyrics font size
        function changeLyricsFontSize() {
            const selector = document.getElementById('lyrics-size-selector');
            const selectedSize = selector.value + 'px';

            // Apply size to Vietnamese lyrics container
            const vietnameseLyrics = document.getElementById('editable-lyrics');
            if (vietnameseLyrics) {
                vietnameseLyrics.style.fontSize = selectedSize;
            }

            // Apply size to English lyrics container
            const englishContainer = document.querySelector('.eng-word')?.parentElement;
            if (englishContainer) {
                englishContainer.style.fontSize = selectedSize;
            }

            // Also apply to individual syllables and words
            document.querySelectorAll('.editable-syllable').forEach(syllable => {
                syllable.style.fontSize = selectedSize;
            });

            document.querySelectorAll('.eng-word').forEach(word => {
                word.style.fontSize = selectedSize;
            });

            // Save preference to localStorage
            localStorage.setItem('dantranh_lyrics_size', selector.value);
        }

        // Load saved font preference on page load
        function loadLyricsFontPreference() {
            // Load font family
            const savedFont = localStorage.getItem('dantranh_lyrics_font');
            if (savedFont) {
                const fontSelector = document.getElementById('lyrics-font-selector');
                if (fontSelector) {
                    fontSelector.value = savedFont;
                    changeLyricsFont();
                }
            }

            // Load font size
            const savedSize = localStorage.getItem('dantranh_lyrics_size');
            if (savedSize) {
                const sizeSelector = document.getElementById('lyrics-size-selector');
                if (sizeSelector) {
                    sizeSelector.value = savedSize;
                    changeLyricsFontSize();
                }
            }
        }

        function resetLyricsBreaks() {
            const breaks = document.querySelectorAll('.line-break');
            breaks.forEach(breakEl => {
                // Reset to default state based on punctuation
                const syllableIndex = parseInt(breakEl.getAttribute('data-break-after'));
                const syllables = document.querySelectorAll('.editable-syllable');
                const syllable = syllables[syllableIndex];
                
                if (syllable) {
                    const syllableText = syllable.textContent;
                    const isDefaultBreak = syllableText.endsWith(('.', '!', '?', ','));
                    
                    if (isDefaultBreak) {
                        breakEl.classList.add('active');
                    } else {
                        breakEl.classList.remove('active');
                    }
                }
            });
        }
        
        function showNoteDetails(noteIndex) {
            const noteElement = document.getElementById(`note-${noteIndex}`);
            if (!noteElement) return;
            
            let details = `Note ${noteIndex + 1} Details:\n`;
            
            const patternType = noteElement.getAttribute('data-pattern-type');
            const patternInfo = noteElement.getAttribute('data-pattern-info');
            const syllableInfo = noteElement.getAttribute('data-syllable-info');
            
            if (patternInfo) {
                details += `${patternInfo}\n`;
            }
            
            if (syllableInfo) {
                details += `${syllableInfo}\n`;
            }
            
            if (!patternInfo && !syllableInfo) {
                details += 'No current pattern highlighting';
            }
            

        }
        
        function updateMinCountDisplay() {
            const slider = document.getElementById('minCount');
            const display = document.getElementById('minCountValue');

            if (slider && display) {
                slider.addEventListener('input', function() {
                    display.textContent = slider.value;
                });
            }
        }

        // ====== AUDIO FUNCTIONALITY ======
        let audioContext = null;
        let isPlaying = false;
        let currentNoteIndex = 0;
        let playbackTimeouts = [];
        let tempo = 120; // Default from MusicXML
        let activeOscillators = []; // Track active oscillators to stop them

        function initAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            return audioContext;
        }

        function initializeAudio() {
            try {
                const ctx = initAudioContext();
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(ctx.destination);
                gainNode.gain.setValueAtTime(0, ctx.currentTime);
                oscillator.start(ctx.currentTime);
                oscillator.stop(ctx.currentTime + 0.1);

                document.getElementById('initAudioBtn').style.background = '#27ae60';
                document.getElementById('initAudioBtn').innerHTML = 'üîä Audio Ready';
                document.getElementById('initAudioBtn').disabled = true;

                const playBtn = document.getElementById('playPauseBtn');
                const stopBtn = document.getElementById('stopBtn');
                playBtn.disabled = false;
                playBtn.style.opacity = '1';
                playBtn.style.cursor = 'pointer';
                stopBtn.disabled = false;
                stopBtn.style.opacity = '1';
                stopBtn.style.cursor = 'pointer';
            } catch (error) {
            }
        }

        function getNoteFrequency(pitch) {
            const noteMap = { 'C': 0, 'D': 2, 'E': 4, 'F': 5, 'G': 7, 'A': 9, 'B': 11 };
            const match = pitch.match(/([A-G])([#b]?)(\d+)/);
            if (!match) return 440;

            const [, note, accidental, octaveStr] = match;
            const octave = parseInt(octaveStr);
            let noteOffset = noteMap[note];
            if (accidental === '#') noteOffset += 1;
            if (accidental === 'b') noteOffset -= 1;

            const A4 = 440;
            const semitoneOffset = (octave - 4) * 12 + (noteOffset - 9);
            return A4 * Math.pow(2, semitoneOffset / 12);
        }

        function playNote(frequency, duration = 0.5, isGrace = false) {
            try {
                if (!audioContext) return;
                const ctx = audioContext;
                if (ctx.state === 'suspended') {
                    ctx.resume().then(() => playNoteImmediate(ctx, frequency, duration, isGrace));
                } else {
                    playNoteImmediate(ctx, frequency, duration, isGrace);
                }
            } catch (error) {
            }
        }

        function stopAllCurrentAudio() {
            // Stop all active oscillators immediately
            activeOscillators.forEach(oscillator => {
                try {
                    oscillator.stop();
                } catch (e) {
                    // Oscillator might already be stopped
                }
            });
            activeOscillators = [];
        }

        function playNoteImmediate(ctx, frequency, duration, isGrace) {
            const oscillator = ctx.createOscillator();
            const gainNode = ctx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(ctx.destination);
            oscillator.frequency.setValueAtTime(frequency, ctx.currentTime);
            oscillator.type = 'triangle';

            const volume = isGrace ? 0.2 : 0.3;
            const resonanceDuration = isGrace ? duration + 1.5 : duration + 3.0;

            gainNode.gain.setValueAtTime(0, ctx.currentTime);
            gainNode.gain.linearRampToValueAtTime(volume, ctx.currentTime + 0.005);
            gainNode.gain.linearRampToValueAtTime(volume * 0.8, ctx.currentTime + 0.1);
            gainNode.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + resonanceDuration);

            // Track this oscillator
            activeOscillators.push(oscillator);

            oscillator.start(ctx.currentTime);
            oscillator.stop(ctx.currentTime + resonanceDuration);

            // Remove from tracking when done
            setTimeout(() => {
                const index = activeOscillators.indexOf(oscillator);
                if (index > -1) {
                    activeOscillators.splice(index, 1);
                }
            }, resonanceDuration * 1000);
        }

        function getPitchFromAnalysisData(noteIndex) {
            if (typeof analysisData === 'undefined' || !analysisData.kpic_patterns || !analysisData.kpic_patterns.full) {
                return 'C5';
            }
            for (const [kpicKey, patterns] of Object.entries(analysisData.kpic_patterns.full)) {
                for (const pattern of patterns) {
                    const positions = pattern.positions;
                    const patternNotes = pattern.pattern;
                    for (let i = 0; i < positions.length; i++) {
                        const startPos = positions[i];
                        for (let j = 0; j < patternNotes.length; j++) {
                            if (startPos + j === noteIndex) {
                                return patternNotes[j];
                            }
                        }
                    }
                }
            }
            return 'C5';
        }

        function updateTempo() {
            const slider = document.getElementById('tempoSlider');
            const display = document.getElementById('tempoValue');
            tempo = parseInt(slider.value);
            display.textContent = tempo;
        }

        function togglePlayback() {
            if (isPlaying) {
                stopPlayback();
            } else {
                startPlayback();
            }
        }

        function startPlayback() {
            if (!audioContext) {
                alert('Please click "Enable Audio" first.');
                return;
            }
            const notes = collectAllNotes();
            if (notes.length === 0) return;
            isPlaying = true;
            currentNoteIndex = 0;
            document.getElementById('playPauseBtn').innerHTML = '‚è∏Ô∏è Pause';
            playSequence(notes);
        }

        function startPlaybackFromNote(startNoteIndex) {
            if (!audioContext) {
                alert('Please click "Enable Audio" first.');
                return;
            }

            const notes = collectAllNotes();
            if (notes.length === 0) return;

            // Find the index in the notes array that corresponds to the clicked note
            const startIndex = notes.findIndex(note => note.noteIndex === startNoteIndex);
            if (startIndex === -1) {
                return;
            }

            isPlaying = true;
            currentNoteIndex = startIndex;
            document.getElementById('playPauseBtn').innerHTML = '‚è∏Ô∏è Pause';
            playSequence(notes);
        }

        function stopPlayback() {
            isPlaying = false;
            currentNoteIndex = 0;
            document.getElementById('playPauseBtn').innerHTML = '‚ñ∂Ô∏è Play';
            playbackTimeouts.forEach(timeout => clearTimeout(timeout));
            playbackTimeouts = [];
            document.querySelectorAll('.note-circle').forEach(circle => {
                circle.classList.remove('active-note-glow', 'fade-note-glow');
                circle.style.stroke = '';
                circle.style.strokeWidth = '';
            });
        }

        // Auto-scroll function to keep playing note in view
        function scrollToNote(noteElement) {
            // Check if auto-scroll is enabled
            const autoScrollEnabled = document.getElementById('autoScrollToggle')?.checked;
            if (!autoScrollEnabled) return;

            const container = document.querySelector('.tablature-container');
            const svg = document.getElementById('tablatureSvg');

            if (!container || !noteElement) return;

            // Get the note's position relative to the SVG
            const noteCx = parseFloat(noteElement.getAttribute('cx')) || parseFloat(noteElement.getAttribute('data-base-x'));

            // Get current zoom level
            const currentTransform = svg.style.transform || '';
            let scaleX = 1;
            const scaleMatch = currentTransform.match(/scaleX\(([\d.]+)\)/);
            if (scaleMatch) {
                scaleX = parseFloat(scaleMatch[1]);
            }

            // Calculate the scaled position
            const scaledNoteX = noteCx * scaleX;

            // Get container dimensions
            const containerWidth = container.clientWidth;
            const containerScrollLeft = container.scrollLeft;

            // Calculate the note's position relative to the current view
            const noteRelativeX = scaledNoteX - containerScrollLeft;

            // Define the "safe zone" - keep note in middle third of view
            const leftBoundary = containerWidth * 0.3;
            const rightBoundary = containerWidth * 0.7;

            // Only scroll if the note is outside the safe zone
            if (noteRelativeX < leftBoundary || noteRelativeX > rightBoundary) {
                // Center the note in the view
                const targetScrollLeft = scaledNoteX - (containerWidth / 2);

                // Smooth scroll to the new position
                container.scrollTo({
                    left: targetScrollLeft,
                    behavior: 'smooth'
                });
            }

            // Also handle vertical scrolling if needed (for Y zoom)
            const noteCy = parseFloat(noteElement.getAttribute('cy')) || parseFloat(noteElement.getAttribute('data-base-y'));
            let scaleY = 1;
            const scaleYMatch = currentTransform.match(/scaleY\(([\d.]+)\)/);
            if (scaleYMatch) {
                scaleY = parseFloat(scaleYMatch[1]);
            }

            const scaledNoteY = noteCy * scaleY;
            const containerScrollTop = container.scrollTop;
            const containerHeight = container.clientHeight;
            const noteRelativeY = scaledNoteY - containerScrollTop;

            // Check if vertical scroll is needed
            if (noteRelativeY < 50 || noteRelativeY > containerHeight - 50) {
                const targetScrollTop = scaledNoteY - (containerHeight / 2);
                container.scrollTop = targetScrollTop;
            }
        }

        function collectAllNotes() {
            const notes = [];
            document.querySelectorAll('.note-circle').forEach(circle => {
                const x = parseFloat(circle.getAttribute('cx'));
                const noteIndex = parseInt(circle.getAttribute('data-note-index'));
                const pitch = getPitchFromAnalysisData(noteIndex);
                const isGrace = circle.getAttribute('data-is-grace') === 'true';
                notes.push({
                    element: circle, x: x, pitch: pitch,
                    frequency: getNoteFrequency(pitch), isGrace: isGrace, noteIndex: noteIndex
                });
            });
            notes.sort((a, b) => a.x - b.x);
            return notes;
        }

        function playSequence(notes) {
            if (!isPlaying || currentNoteIndex >= notes.length) {
                stopPlayback();
                return;
            }
            const note = notes[currentNoteIndex];
            const quarterNoteMs = 60000 / tempo; // Quarter note duration in ms

            // Get actual duration from the duration text in the tablature
            let noteDurationBeats = 0.5; // Default eighth note

            // Find the duration text element associated with this note
            const noteElement = note.element;
            const noteX = parseFloat(noteElement.getAttribute('cx'));
            const noteY = parseFloat(noteElement.getAttribute('cy'));

            // Look for duration text near this note (usually 20px above)
            const durationTexts = document.querySelectorAll('text[style*="font-size: 10px"]');
            let durationValue = 2; // Default to 8th note (value 2)

            durationTexts.forEach(text => {
                const textX = parseFloat(text.getAttribute('x'));
                const textY = parseFloat(text.getAttribute('y'));
                // Duration text is typically at the same X and about 20px above the note
                if (Math.abs(textX - noteX) < 5 && Math.abs(textY - (noteY - 20)) < 30) {
                    const value = parseFloat(text.textContent);
                    if (!isNaN(value)) {
                        durationValue = value;
                    }
                }
            });

            // Convert duration value to beats (quarter note = 1.0)
            // In tablature: 0.5 = grace note, 1 = sixteenth, 2 = eighth, 4 = quarter, 8 = half, 16 = whole
            if (durationValue === 0.5) noteDurationBeats = 0.125;      // Grace note (very short)
            else if (durationValue === 1) noteDurationBeats = 0.25;    // Sixteenth note
            else if (durationValue === 2) noteDurationBeats = 0.5;     // Eighth note
            else if (durationValue === 3) noteDurationBeats = 0.75;    // Dotted eighth
            else if (durationValue === 4) noteDurationBeats = 1.0;     // Quarter note
            else if (durationValue === 8) noteDurationBeats = 2.0;     // Half note
            else if (durationValue === 16) noteDurationBeats = 4.0;    // Whole note
            else noteDurationBeats = durationValue / 4;                // General formula
            // Calculate actual delay for this note's duration
            const delay = noteDurationBeats * quarterNoteMs;

            note.element.classList.add('active-note-glow');
            const soundDuration = note.isGrace ? 0.1 : Math.min(delay * 0.8 / 1000, 2.0);
            playNote(note.frequency, soundDuration, note.isGrace);

            // Auto-scroll to keep the playing note in view
            scrollToNote(note.element);

            if (currentNoteIndex > 0) {
                const prevNote = notes[currentNoteIndex - 1];
                prevNote.element.classList.remove('active-note-glow');
                prevNote.element.classList.add('fade-note-glow');
                setTimeout(() => prevNote.element.classList.add('fading'), 50);
                setTimeout(() => prevNote.element.classList.remove('fade-note-glow', 'fading'), 3000);
            }

            currentNoteIndex++;
            const timeout = setTimeout(() => playSequence(notes), delay);
            playbackTimeouts.push(timeout);
        }

        // Save auto-scroll preference
        function saveAutoScrollPreference() {
            const autoScrollEnabled = document.getElementById('autoScrollToggle')?.checked;
            localStorage.setItem('dantranh_autoscroll', autoScrollEnabled ? 'true' : 'false');
        }

        // Load auto-scroll preference on page load
        function loadAutoScrollPreference() {
            const savedPref = localStorage.getItem('dantranh_autoscroll');
            if (savedPref !== null) {
                const autoScrollToggle = document.getElementById('autoScrollToggle');
                if (autoScrollToggle) {
                    autoScrollToggle.checked = savedPref === 'true';
                }
            }
        }

        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space') {
                e.preventDefault();
                togglePlayback();
            }
        });

        function showNoteDetails(noteIndex) {
        }

        // Auto-trigger fit width zoom on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const zoomSelect = document.getElementById('zoomLevel');
                if (zoomSelect) {
                    zoomSelect.value = 'fit-width';  // Force fit-width as default
                    updateZoomFromSelect();
                }
            }, 200);

            // Add note click listeners
            setTimeout(() => {
                const circles = document.querySelectorAll('.note-circle');
                circles.forEach((circle) => {
                    // Force entire circle area to be clickable
                    circle.style.cursor = 'pointer';
                    circle.style.pointerEvents = 'all';
                    circle.style.fillOpacity = '1';

                    // Ensure fill is solid for clickability
                    const currentFill = circle.getAttribute('fill');
                    if (!currentFill || currentFill === 'none') {
                        circle.setAttribute('fill', '#008080'); // Default teal if no fill
                    }

                    circle.removeAttribute('onclick');

                    // Create invisible rectangle click area that's guaranteed to work
                    const svg = circle.closest('svg');
                    if (svg) {
                        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                        const cx = parseFloat(circle.getAttribute('cx'));
                        const cy = parseFloat(circle.getAttribute('cy'));
                        const radius = parseInt(circle.getAttribute('r'));
                        const size = Math.max(radius * 2 + 8, 24); // Square click area

                        rect.setAttribute('x', cx - size/2);
                        rect.setAttribute('y', cy - size/2);
                        rect.setAttribute('width', size);
                        rect.setAttribute('height', size);
                        rect.style.fill = 'transparent';
                        rect.style.cursor = 'pointer';
                        rect.style.pointerEvents = 'all';
                        rect.setAttribute('data-note-index', circle.getAttribute('data-note-index'));

                        // Insert before the visible circle
                        circle.parentNode.insertBefore(rect, circle);

                        // Add click handler directly to the rectangle
                        rect.addEventListener('click', function(e) {
                            e.stopPropagation();
                            e.preventDefault();

                            const noteIndex = parseInt(this.getAttribute('data-note-index'));
                            // Trigger audio and visual effects on the visible circle
                            const clickEvent = new MouseEvent('click', {
                                bubbles: false,
                                cancelable: true,
                                clientX: e.clientX,
                                clientY: e.clientY
                            });
                            circle.dispatchEvent(clickEvent);
                        });
                    }

                    circle.addEventListener('click', function(e) {
                        e.stopPropagation();
                        e.preventDefault();

                        const noteIndex = parseInt(this.getAttribute('data-note-index'));
                        const pitch = getPitchFromAnalysisData(noteIndex);
                        const frequency = getNoteFrequency(pitch);
                        const isGrace = this.getAttribute('data-is-grace') === 'true';

                        // Check for double-click to start playback from this note
                        const now = Date.now();
                        const lastClick = this.lastClickTime || 0;
                        const isDoubleClick = (now - lastClick) < 400;
                        this.lastClickTime = now;

                        if (isDoubleClick) {
                            // Double-click: Stop all audio and start playback from this note
                            stopAllCurrentAudio();
                            stopPlayback(); // Stop any existing sequence playback
                            startPlaybackFromNote(noteIndex);
                        } else {
                            // Single-click: Stop current audio and play individual note
                            stopAllCurrentAudio();
                            playNote(frequency, isGrace ? 0.4 : 0.8, isGrace);

                            this.classList.add('active-note-glow');
                            setTimeout(() => {
                                this.classList.remove('active-note-glow');
                                this.classList.add('fade-note-glow');
                                setTimeout(() => this.classList.add('fading'), 50);
                                setTimeout(() => this.classList.remove('fade-note-glow', 'fading'), 3000);
                            }, 200);
                        }
                    }, true);

                    circle.addEventListener('mouseenter', function() {
                        this.style.filter = 'brightness(0.9)';
                    });
                    circle.addEventListener('mouseleave', function() {
                        this.style.filter = 'brightness(1)';
                    });
                });
            }, 300);
            const tempoSlider = document.getElementById('tempoSlider');
            const tempoDisplay = document.getElementById('tempoValue');
            if (tempoSlider && tempoDisplay) {
                tempoSlider.addEventListener('input', function() {
                    tempo = parseInt(this.value);
                    tempoDisplay.textContent = tempo;
                });
            }
        });

        // =================== SYLLABLE LEARNING SYSTEM ===================

        // Storage for learning patterns
        let syllableLearningData = JSON.parse(localStorage.getItem('dantranh_syllable_learning') || '{}');
        let learningMode = false;
        let initialLineBreaks = null;

        // Simplified learning functions
        function startLearning() {
            learningMode = true;
            // Capture current state as baseline
            initialLineBreaks = Array.from(document.querySelectorAll('.line-break')).map(lb => lb.classList.contains('active'));

            // Update UI
            document.getElementById('start-learning-btn').style.display = 'none';
            document.getElementById('done-learning-btn').style.display = 'inline-block';
            document.getElementById('learning-status').textContent = 'Learning mode: ON - Click "|" to adjust breaks';
            document.getElementById('learning-status').style.color = '#4caf50';
        }

        function doneLearning() {
            if (!learningMode) return;

            // Capture final state
            const finalLineBreaks = Array.from(document.querySelectorAll('.line-break')).map(lb => lb.classList.contains('active'));

            // Record changes for learning
            const changes = [];
            for (let i = 0; i < initialLineBreaks.length; i++) {
                if (initialLineBreaks[i] !== finalLineBreaks[i]) {
                    const syllableElement = document.querySelector(`[data-syllable-index="${i}"]`);
                    const syllableText = syllableElement ? syllableElement.textContent.trim() : '';
                    changes.push({
                        position: i,
                        syllable: syllableText,
                        before: initialLineBreaks[i],
                        after: finalLineBreaks[i]
                    });
                }
            }

            // Store learning data
            if (changes.length > 0) {
                const timestamp = new Date().toISOString();
                if (!syllableLearningData.sessions) syllableLearningData.sessions = [];
                syllableLearningData.sessions.push({
                    timestamp,
                    changes
                });
                localStorage.setItem('dantranh_syllable_learning', JSON.stringify(syllableLearningData));
            }

            learningMode = false;
            initialLineBreaks = null;

            // Update UI
            document.getElementById('start-learning-btn').style.display = 'inline-block';
            document.getElementById('done-learning-btn').style.display = 'none';
            document.getElementById('learning-status').textContent = `Learning mode: Off (${changes.length} changes recorded)`;
            document.getElementById('learning-status').style.color = '#666';
        }

        // Improved line breaking algorithm for Vietnamese poetry
        function improveLineBreaks() {
            const syllables = Array.from(document.querySelectorAll('.editable-syllable'));
            const lineBreaks = document.querySelectorAll('.line-break');

            // First, remove all active breaks
            lineBreaks.forEach(lb => lb.classList.remove('active'));

            // Get syllable texts
            const syllableTexts = syllables.map(s => s.textContent.trim());

            // Vietnamese poetic pattern recognition
            for (let i = 0; i < syllableTexts.length - 1; i++) {
                let shouldBreak = false;
                const current = syllableTexts[i].toLowerCase();
                const next = syllableTexts[i + 1] ? syllableTexts[i + 1].toLowerCase() : '';
                const prev = i > 0 ? syllableTexts[i - 1].toLowerCase() : '';
                const nextNext = syllableTexts[i + 2] ? syllableTexts[i + 2].toLowerCase() : '';

                // Rule 1: Break after punctuation (but not if it's "∆°i" after the punctuation)
                if ((current.endsWith(',') || current.endsWith('.')) && next !== '∆°i') {
                    shouldBreak = true;
                }

                // Rule 2: Break before "·ªõi" at the start of a phrase
                if (next === '·ªõi' && i > 0) {
                    shouldBreak = true;
                }

                // Rule 3: Break after "ƒë√¢u" (question ending)
                if (current === 'ƒë√¢u') {
                    shouldBreak = true;
                }

                // Rule 4: Break after "h·ªìng" (end of "t∆° h·ªìng")
                if (current === 'h·ªìng' && prev === 't∆°') {
                    shouldBreak = true;
                }

                // Rule 5: Don't break "∆°i" from what follows (vocative)
                // Break BEFORE "∆°i" if previous word is "t√¥i" or "∆°i"
                if (current === 't√¥i' && next === '∆°i') {
                    shouldBreak = true; // Break after "t√¥i", keep "∆°i" with next phrase
                }

                // Rule 6: Break after complete "b√† R√≠ ∆°i" phrases
                // Also handle "∆°i b√† R√≠ ∆°i" by breaking before the "∆°i" that starts it
                if (current === '∆°i' && prev === 'r√≠' && syllableTexts[i - 2]?.toLowerCase() === 'b√†') {
                    shouldBreak = true;
                }

                // Rule 6b: Break before "∆°i" when it starts "∆°i b√† R√≠ ∆°i" pattern
                // This handles the vocative "∆°i" that begins the phrase
                if (current === '∆°i' && next === 'b√†' && nextNext === 'r√≠' && syllableTexts[i + 3]?.toLowerCase() === '∆°i') {
                    // Break BEFORE this "∆°i" to start a new phrase
                    if (i > 0 && lineBreaks[i - 1]) {
                        lineBreaks[i - 1].classList.add('active');
                    }
                }

                // Rule 7: Detect parallel structures (l√∫c...ph·∫£i pattern)
                if (current === 'c√µng' && prev === 'ph·∫£i' && syllableTexts[i - 2]?.toLowerCase() === 'ƒëi' && syllableTexts[i - 3]?.toLowerCase() === 'l√∫c') {
                    // Look ahead for the parallel "l√∫c kh√≥c ph·∫£i b·ªìng"
                    if (next === 'l√∫c' && nextNext === 'kh√≥c') {
                        shouldBreak = true;
                    }
                }

                // Rule 8: Break after "teo," (onomatopoeia ending)
                if (current === 'teo,') {
                    shouldBreak = true;
                }

                // Rule 9: Break after "kheo" before "l√∫c"
                if (current === 'kheo' && next === 'l√∫c') {
                    shouldBreak = true;
                }

                // Rule 10: Break after parallel structure endings
                if (current === 'b·ªìng' && prev === 'ph·∫£i' && syllableTexts[i - 2]?.toLowerCase() === 'kh√≥c') {
                    shouldBreak = true;
                }

                // Rule 11: Break AFTER the complete "ng√°y o o o" onomatopoeia
                // Check if we're at the last "o" of "ng√°y o o o"
                if (current === 'o' && prev === 'o' && syllableTexts[i - 2]?.toLowerCase() === 'o' && syllableTexts[i - 3]?.toLowerCase() === 'ng√°y') {
                    shouldBreak = true;
                }

                // Rule 12: Break after "co" when it's part of "n·∫±m co" (body position)
                if (current === 'co' && prev === 'n·∫±m') {
                    shouldBreak = true;
                }

                // Rule 13: Break after "bi·∫øng" (end of "l∆∞·ªùi bi·∫øng" - lazy)
                if (current === 'bi·∫øng' && prev === 'l∆∞·ªùi') {
                    shouldBreak = true;
                }

                // Rule 14: Break after "h√†nh" (end of "h·ªçc h√†nh" - studying)
                if (current === 'h√†nh' && prev === 'h·ªçc') {
                    shouldBreak = true;
                }

                // Rule 15: Break before "ƒë√™m" (night/evening time marker)
                if (next === 'ƒë√™m' && i > 0) {
                    shouldBreak = true;
                }

                // Rule 16: Break before "ch·∫≥ng" (negation word that often starts phrases)
                if (next === 'ch·∫≥ng' && i > 5) { // Don't break too early in the song
                    shouldBreak = true;
                }

                // Apply the break if needed
                if (shouldBreak && lineBreaks[i]) {
                    lineBreaks[i].classList.add('active');
                }
            }

            // Line breaks updated in DOM, no additional display update needed
        }

        // Initialize simplified syllable system
        function initializeSyllableEditor() {
            // Just improve the default line breaks - no complex editing needed
            improveLineBreaks();
        }


        // Show learning indicator
        function showLearningIndicator(message) {
            const indicator = document.getElementById('learningIndicator');
            indicator.textContent = message;
            indicator.style.display = 'block';

            setTimeout(() => {
                indicator.style.display = 'none';
            }, 3000);
        }

        // Re-index syllables after modifications
        function reindexSyllables() {
            const syllables = document.querySelectorAll('.editable-syllable');
            syllables.forEach((syllable, index) => {
                syllable.setAttribute('data-syllable-index', index);
            });
        }

        // Export learning data
        function exportLearningData() {
            const data = JSON.stringify(syllableLearningData, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'dantranh_syllable_learning.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // View learning statistics

        // Clear learning data
        function clearLearningData() {
            if (confirm('Clear all learning data? This cannot be undone.')) {
                localStorage.removeItem('dantranh_syllable_learning');
                syllableLearningData = {};
                showLearningIndicator('Learning data cleared');
            }
        }

        // Initialize the syllable editor when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initializeSyllableEditor, 500);

            // Keep gradient fills - don't replace with solid colors
            setTimeout(() => {
                // updateResonanceBandColors(); // Commented out to preserve gradients
                const svg = document.getElementById('tablatureSvg');
                const bands = svg.querySelectorAll('.resonance-band-colored, rect[fill*="resonanceBand"], rect[data-base-x][data-base-y]');
                const visibleBands = Array.from(bands).filter(band => {
                    const opacity = band.getAttribute('opacity') || band.style.opacity;
                    return opacity && parseFloat(opacity) > 0;
                });
                if (visibleBands.length > 0) {
                    const band = visibleBands[0];
                }
            }, 800);
        });

        // Collapsible lyrics toggle
        function toggleLyrics() {
            const content = document.getElementById('lyrics-table-content');
            const icon = document.getElementById('lyrics-toggle-icon');

            if (content.style.display === 'none') {
                content.style.display = 'block';
                icon.textContent = '‚ñº';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñ∂';
            }
        }

        // Dynamic line break synchronization
        function syncEnglishLineBreaks() {
            const englishContainer = document.querySelector('td .eng-word').parentElement;
            if (!englishContainer) {
                return;
            }
            // Get all active line breaks in Vietnamese
            const activeBreaks = [];
            const allBreaks = document.querySelectorAll('.line-break');
            allBreaks.forEach(breakEl => {
                const isActive = breakEl.classList.contains('active');
                const breakAfter = parseInt(breakEl.getAttribute('data-break-after'));
                if (isActive) {
                    activeBreaks.push(breakAfter);
                }
            });
            // Show which specific syllables have active breaks
            activeBreaks.forEach(index => {
                const syllable = document.querySelector(`[data-syllable-index="${index}"]`);
                if (syllable) {
                }
            });

            // Rebuild English content with synchronized breaks
            const englishWords = englishContainer.querySelectorAll('.eng-word');
            let newHTML = '';

            englishWords.forEach((word, index) => {
                newHTML += word.outerHTML;

                // Use direct index mapping instead of text matching to avoid duplicates
                const correspondingSyllableIndex = index; // English word 0 ‚Üí Vietnamese syllable 0, etc.


                if (activeBreaks.includes(correspondingSyllableIndex)) {
                    newHTML += '<br>';
                } else {
                    newHTML += ' ';
                }
            });
            englishContainer.innerHTML = newHTML;

            // Force visual refresh
            englishContainer.style.display = 'none';
            englishContainer.offsetHeight; // Trigger reflow
            englishContainer.style.display = 'block';
        }

        // Simple bilingual highlighting
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved font preference
            loadLyricsFontPreference();

            // Initial sync of line breaks
            setTimeout(syncEnglishLineBreaks, 500);

            // Add click handlers to Vietnamese syllables
            document.querySelectorAll('.syllable.editable-syllable').forEach(vietSyl => {
                vietSyl.addEventListener('click', function() {
                    const vietText = this.textContent;
                    highlightTranslation(vietText, true);
                });
            });

            // Add click handlers to English words
            document.querySelectorAll('.eng-word').forEach(engWord => {
                engWord.addEventListener('click', function() {
                    const vietText = this.getAttribute('data-viet');
                    highlightTranslation(vietText, false);
                });
            });

            // Re-sync when line breaks change (both adding and removing)
            document.querySelectorAll('.line-break').forEach(lineBreak => {
                lineBreak.addEventListener('click', function() {
                    const breakAfter = this.getAttribute('data-break-after');
                    const willBeActive = !this.classList.contains('active'); // Will toggle
                    setTimeout(syncEnglishLineBreaks, 200);
                });
            });
        });

        function highlightTranslation(vietnameseText, fromVietnamese) {
            // Clear previous highlights
            document.querySelectorAll('.syllable.editable-syllable, .eng-word').forEach(el => {
                el.style.backgroundColor = '';
                el.style.color = '';
                el.style.fontWeight = '';
            });

            if (fromVietnamese) {
                // Highlight Vietnamese syllable
                document.querySelectorAll('.syllable.editable-syllable').forEach(vietSyl => {
                    if (vietSyl.textContent === vietnameseText) {
                        vietSyl.style.backgroundColor = '#3498db';
                        vietSyl.style.color = 'white';
                        vietSyl.style.fontWeight = 'bold';
                    }
                });

                // Highlight corresponding English words
                document.querySelectorAll('.eng-word').forEach(engWord => {
                    if (engWord.getAttribute('data-viet') === vietnameseText) {
                        engWord.style.backgroundColor = '#e74c3c';
                        engWord.style.color = 'white';
                        engWord.style.fontWeight = 'bold';
                    }
                });
            } else {
                // Highlight English word
                document.querySelectorAll('.eng-word').forEach(engWord => {
                    if (engWord.getAttribute('data-viet') === vietnameseText) {
                        engWord.style.backgroundColor = '#e74c3c';
                        engWord.style.color = 'white';
                        engWord.style.fontWeight = 'bold';
                    }
                });

                // Highlight corresponding Vietnamese syllables
                document.querySelectorAll('.syllable.editable-syllable').forEach(vietSyl => {
                    if (vietSyl.textContent === vietnameseText) {
                        vietSyl.style.backgroundColor = '#3498db';
                        vietSyl.style.color = 'white';
                        vietSyl.style.fontWeight = 'bold';
                    }
                });
            }
        }

        // Toggle content areas for analysis tools
        function showContent(contentType) {
            const contentArea = document.getElementById('content-area');
            const lyricsSection = document.querySelector('.lyrics-section');

            if (contentType === 'lyrics') {
                // Toggle lyrics section visibility
                if (lyricsSection.style.display === 'none') {
                    lyricsSection.style.display = 'block';
                    contentArea.style.display = 'none';
                } else {
                    lyricsSection.style.display = 'none';
                    contentArea.style.display = 'none';
                }
            } else if (contentType === 'strings-vs-notes') {
                // Generate and display string-note analysis
                if (contentArea.style.display === 'none') {
                    generateStringNoteAnalysis();
                    contentArea.style.display = 'block';
                } else {
                    contentArea.style.display = 'none';
                }
                lyricsSection.style.display = 'none';
            } else if (contentType === 'kpic-kric-sankey') {
                // Generate and display KPIC-2 & KRIC-2 Sankey diagrams
                lyricsSection.style.display = 'none';
                try {
                    generateSankeyDiagrams();
                    contentArea.style.display = 'block';
                } catch (error) {
                    contentArea.innerHTML = '<div style="padding: 20px; color: red;">Error generating Sankey diagrams. Check console for details.</div>';
                    contentArea.style.display = 'block';
                }
            }
        }

        // Generate string-note frequency analysis with exact tablature dimensions
        function generateStringNoteAnalysis() {
            const contentArea = document.getElementById('content-area');

            // Extract note data from SVG elements
            const noteCircles = document.querySelectorAll('.note-circle');
            const stringLabels = document.querySelectorAll('.string-label');
            const stringLines = document.querySelectorAll('.string-line');

            // Create string mapping from both labels and lines for accurate positioning
            const stringInfo = {};

            // Get Y positions from string lines (more accurate than labels)
            stringLines.forEach(line => {
                const yPos = parseFloat(line.getAttribute('data-base-y1') || line.getAttribute('y1'));

                // Find corresponding label by proximity
                let closestLabel = null;
                let minDistance = Infinity;
                stringLabels.forEach(label => {
                    const labelY = parseFloat(label.getAttribute('data-base-y') || label.getAttribute('y'));
                    const distance = Math.abs(yPos - labelY);
                    if (distance < minDistance && distance < 20) {
                        minDistance = distance;
                        closestLabel = label;
                    }
                });

                if (closestLabel) {
                    const text = closestLabel.textContent;
                    const match = text.match(/String (\d+): ([A-G]#?\d)/);
                    if (match) {
                        const stringNum = match[1];
                        const stringNote = match[2];
                        stringInfo[stringNum] = {
                            note: stringNote,
                            yPos: yPos,
                            durations: {}
                        };
                    }
                }
            });

            // Analyze each note circle and categorize by duration
            noteCircles.forEach((circle, index) => {
                const cx = parseFloat(circle.getAttribute('data-base-x') || circle.getAttribute('cx'));
                const cy = parseFloat(circle.getAttribute('data-base-y') || circle.getAttribute('cy'));
                const isGrace = circle.getAttribute('data-is-grace') === 'true';
                const radius = parseFloat(circle.getAttribute('r'));

                // Determine duration type based on spacing analysis (applies to both main and grace notes)
                let durationType;

                // Analyze spacing to infer duration for both main and grace notes
                const nextNote = noteCircles[index + 1];
                if (nextNote) {
                    const nextCx = parseFloat(nextNote.getAttribute('data-base-x') || nextNote.getAttribute('cx'));
                    const spacing = nextCx - cx;

                    // Classify based on spacing (same logic for main and grace notes)
                    if (spacing > 400) {
                        durationType = isGrace ? 'grace-whole' : 'whole';
                    } else if (spacing > 200) {
                        durationType = isGrace ? 'grace-half' : 'half';
                    } else if (spacing > 100) {
                        durationType = isGrace ? 'grace-quarter' : 'quarter';
                    } else if (spacing > 50) {
                        durationType = isGrace ? 'grace-eighth' : 'eighth';
                    } else {
                        durationType = isGrace ? 'grace-sixteenth' : 'sixteenth';
                    }
                } else {
                    // Last note, check previous spacing
                    const prevNote = noteCircles[index - 1];
                    if (prevNote) {
                        const prevCx = parseFloat(prevNote.getAttribute('data-base-x') || prevNote.getAttribute('cx'));
                        const spacing = cx - prevCx;

                        if (spacing > 400) {
                            durationType = isGrace ? 'grace-whole' : 'whole';
                        } else if (spacing > 200) {
                            durationType = isGrace ? 'grace-half' : 'half';
                        } else if (spacing > 100) {
                            durationType = isGrace ? 'grace-quarter' : 'quarter';
                        } else if (spacing > 50) {
                            durationType = isGrace ? 'grace-eighth' : 'eighth';
                        } else {
                            durationType = isGrace ? 'grace-sixteenth' : 'sixteenth';
                        }
                    } else {
                        durationType = isGrace ? 'grace-quarter' : 'quarter'; // Default
                    }
                }

                // Find closest string by Y position
                let closestString = null;
                let minDistance = Infinity;

                for (const [stringNum, info] of Object.entries(stringInfo)) {
                    const distance = Math.abs(cy - info.yPos);
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestString = stringNum;
                    }
                }

                // If note is close to a string (within 30px), assign it
                if (closestString && minDistance < 30) {
                    if (!stringInfo[closestString].durations) {
                        stringInfo[closestString].durations = {};
                    }
                    if (!stringInfo[closestString].durations[durationType]) {
                        stringInfo[closestString].durations[durationType] = [];
                    }

                    stringInfo[closestString].durations[durationType].push({
                        index: index,
                        cx: cx,
                        cy: cy,
                        radius: radius,
                        element: circle,
                        isGrace: isGrace
                    });
                }
            });

            // First pass: Calculate max counts for proper bar scaling
            let maxCount = 0;
            Object.values(stringInfo).forEach(info => {
                if (info.durations) {
                    Object.values(info.durations).forEach(durationArray => {
                        maxCount = Math.max(maxCount, durationArray.length);
                    });
                }
            });

            // Calculate the longest label width to establish fixed bar start position
            let maxLabelWidth = 0;
            Object.entries(stringInfo).forEach(([stringNum, info]) => {
                const labelText = `String ${stringNum}: ${info.note}`;
                const estimatedLabelWidth = labelText.length * 8; // ~8px per character
                maxLabelWidth = Math.max(maxLabelWidth, estimatedLabelWidth);
            });

            // Fixed bar start position: longest label + 40px gap
            const fixedBarStartX = maxLabelWidth + 40;

            // Second pass: Calculate actual content width using fixed bar start position
            let maxContentWidth = fixedBarStartX;
            Object.entries(stringInfo).forEach(([stringNum, info]) => {
                if (info.durations) {
                    let stringWidth = fixedBarStartX; // All strings start bars at same X position

                    Object.values(info.durations).forEach(durationArray => {
                        // Calculate actual bar width using the correct maxCount
                        const count = durationArray.length;
                        const barWidth = Math.max(30, (count / maxCount) * 300);
                        stringWidth += barWidth + 8; // Add bar width + gap
                    });

                    maxContentWidth = Math.max(maxContentWidth, stringWidth);
                }
            });
            // Sort strings numerically for processing
            const sortedStrings = Object.entries(stringInfo).sort((a, b) => parseInt(a[0]) - parseInt(b[0]));

            // Calculate actual content height based on string positions
            const stringYPositions = Object.values(stringInfo).map(info => info.yPos);
            const minStringY = Math.min(...stringYPositions);
            const maxStringY = Math.max(...stringYPositions);
            const actualContentHeight = maxStringY - minStringY + 100; // Add padding for bars
            // Create the visualization with optimized dimensions and zoom controls
            let html = `
                <div style="position: relative; width: 100%; height: 100%;">

                    <!-- Header with title and zoom controls -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                        <div>
                            <h3 style="margin: 0 0 5px 0; color: #2c3e50;">üìä String-Note Frequency Analysis</h3>
                            <p style="margin: 0; font-size: 13px; color: #34495e;">
                                <strong>Post slur-to-tie conversion analysis</strong> - Click bars to highlight notes on tablature
                            </p>
                        </div>

                        <!-- Zoom Controls (matching tablature style) -->
                        <div style="display: flex; gap: 15px; align-items: center;">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 2px;">
                                <label style="font-size: 11px; font-weight: 600; color: #495057;">X-Zoom:</label>
                                <div style="position: relative; width: 100px;">
                                    <input type="range" id="stringAnalysisXZoom" min="10" max="200" value="100"
                                           oninput="updateStringAnalysisZoom('x')" style="width: 100%;">
                                    <span id="stringAnalysisXValue" style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; font-weight: 600; color: #495057; background: white; padding: 1px 4px; border-radius: 3px; border: 1px solid #ddd;">Fit</span>
                                </div>
                            </div>

                            <div style="display: flex; flex-direction: column; align-items: center; gap: 2px;">
                                <label style="font-size: 11px; font-weight: 600; color: #495057;">Y-Zoom:</label>
                                <div style="position: relative; width: 100px;">
                                    <input type="range" id="stringAnalysisYZoom" min="10" max="200" value="67"
                                           oninput="updateStringAnalysisZoom('y')" style="width: 100%;">
                                    <span id="stringAnalysisYValue" style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; font-weight: 600; color: #495057; background: white; padding: 1px 4px; border-radius: 3px; border: 1px solid #ddd;">67%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Two-layer structure: fixed text + scalable content -->
                    <div id="stringAnalysisContainer" style="position: relative; background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px; overflow: auto; margin-bottom: 20px; max-height: 70vh;">
                        <!-- Fixed text layer (not scaled) -->
                        <div id="stringAnalysisTextLayer" style="position: absolute; left: 20px; top: 20px; z-index: 10; pointer-events: none;">
            `;

            // Generate fixed text labels first (will be updated by zoom function)
            sortedStrings.forEach(([stringNum, info]) => {
                const { note, yPos } = info;
                const relativeY = yPos - minStringY + 50; // Match the string line positioning
                html += `<div style="position: absolute; top: ${relativeY}px; font-size: 14px; font-weight: 600; color: #2c3e50; white-space: nowrap; transform: translateY(-50%);">String ${stringNum}: ${note}</div>`;
            });

            html += `
                        </div>
                        <!-- Scalable content layer (bars and lines) -->
                        <div id="stringAnalysisContent" style="position: relative; width: ${maxContentWidth}px; height: ${actualContentHeight}px; transform-origin: 0 0; transition: transform 0.3s ease;" data-content-width="${maxContentWidth}">
            `;

            // Use relative positioning to minimize space
            sortedStrings.forEach(([stringNum, info]) => {
                const { note, durations, yPos } = info;

                // Use relative Y position (subtract minimum to start from top)
                const relativeY = yPos - minStringY + 50; // 50px top padding

                // String line only (text is in fixed layer)
                html += `
                    <div style="position: absolute; left: 120px; width: 11280px; top: ${relativeY}px; height: 2px; background: #ddd; border-radius: 1px;"></div>
                `;

                if (durations && Object.keys(durations).length > 0) {
                    // Use fixed bar start position (40px after longest label)
                    let currentX = fixedBarStartX;

                    // Define duration types using actual tablature note colors
                    // Main notes: #008080 (teal), Grace notes: #FFD700 (gold)
                    const durationTypes = [
                        { type: 'whole', thickness: 48, color: '#008080', label: 'Whole' },
                        { type: 'grace-whole', thickness: 48, color: '#FFD700', label: 'Grace Whole' },
                        { type: 'half', thickness: 36, color: '#008080', label: 'Half' },
                        { type: 'grace-half', thickness: 36, color: '#FFD700', label: 'Grace Half' },
                        { type: 'quarter', thickness: 24, color: '#008080', label: 'Quarter' },
                        { type: 'grace-quarter', thickness: 24, color: '#FFD700', label: 'Grace Quarter' },
                        { type: 'eighth', thickness: 14, color: '#008080', label: 'Eighth' },
                        { type: 'grace-eighth', thickness: 14, color: '#FFD700', label: 'Grace Eighth' },
                        { type: 'sixteenth', thickness: 8, color: '#008080', label: 'Sixteenth' },
                        { type: 'grace-sixteenth', thickness: 8, color: '#FFD700', label: 'Grace Sixteenth' }
                    ];

                    // Render bars for each duration type that exists
                    durationTypes.forEach(durInfo => {
                        if (durations[durInfo.type] && durations[durInfo.type].length > 0) {
                            const count = durations[durInfo.type].length;

                            // X-axis represents count (width)
                            const barWidth = Math.max(30, (count / maxCount) * 300);

                            // Y-axis represents duration (thickness/height)
                            const barHeight = durInfo.thickness;

                            html += `
                                <div onclick="highlightStringNotes('${stringNum}', '${durInfo.type}')"
                                     style="position: absolute;
                                            left: ${currentX}px;
                                            top: ${relativeY - barHeight/2}px;
                                            width: ${barWidth}px;
                                            height: ${barHeight}px;
                                            background: linear-gradient(135deg, ${durInfo.color}, ${getDarkerColor(durInfo.color)});
                                            border-radius: 4px;
                                            cursor: pointer;
                                            transition: all 0.3s ease;
                                            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                                            border: 1px solid rgba(0,0,0,0.1);"
                                     title="${durInfo.label} notes: ${count} on String ${stringNum} (${note})"
                                     data-bar-x="${currentX + barWidth/2}"
                                     data-bar-y="${relativeY}"
                                     data-count="${count}"
                                     data-bar-height="${barHeight}"
                                     onmouseover="if (!this.classList.contains('selected-bar')) { this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.3)'; }"
                                     onmouseout="if (!this.classList.contains('selected-bar')) { this.style.transform='scale(1)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.2)'; }">
                                </div>
                            `;

                            // Move X position for next bar (stacked sideways)
                            currentX += barWidth + 8;
                        }
                    });
                } else {
                    // No notes indicator
                    html += `
                        <div style="position: absolute; left: 130px; top: ${scaledY - 6}px;
                                    font-size: 11px; color: #bdc3c7; font-style: italic;">
                            No notes
                        </div>
                    `;
                }
            });

            html += `
                        </div>
                        <!-- Fixed number overlay (not scaled) -->
                        <div id="stringAnalysisNumberLayer" style="position: absolute; left: 20px; top: 20px; z-index: 20; pointer-events: none;">
                        </div>
                    </div>

                    <!-- Enhanced Legend below the chart -->
                    <div style="padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                        <p style="margin: 0 0 12px 0; font-weight: 600; color: #2c3e50;">
                            üìè Chart Guide: <strong>Bar thickness = Duration, Bar width = Count</strong>
                        </p>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <!-- Main Notes Duration Guide -->
                            <div>
                                <h5 style="margin: 0 0 8px 0; color: #2c3e50;">Main Notes (Teal - #008080):</h5>
                                <div style="display: flex; flex-direction: column; gap: 3px;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 48px; background: linear-gradient(135deg, #008080, #006666); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Whole (48px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 36px; background: linear-gradient(135deg, #008080, #006666); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Half (36px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 24px; background: linear-gradient(135deg, #008080, #006666); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Quarter (24px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 14px; background: linear-gradient(135deg, #008080, #006666); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Eighth (14px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 8px; background: linear-gradient(135deg, #008080, #006666); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Sixteenth (8px)</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Grace Notes Duration Guide -->
                            <div>
                                <h5 style="margin: 0 0 8px 0; color: #2c3e50;">Grace Notes (Gold - #FFD700):</h5>
                                <div style="display: flex; flex-direction: column; gap: 3px;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 48px; background: linear-gradient(135deg, #FFD700, #E6C200); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Grace Whole (48px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 36px; background: linear-gradient(135deg, #FFD700, #E6C200); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Grace Half (36px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 24px; background: linear-gradient(135deg, #FFD700, #E6C200); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Grace Quarter (24px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 14px; background: linear-gradient(135deg, #FFD700, #E6C200); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Grace Eighth (14px)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 40px; height: 8px; background: linear-gradient(135deg, #FFD700, #E6C200); border-radius: 2px; transform: scale(0.5); transform-origin: left;"></div>
                                        <span style="font-size: 11px; margin-left: -12px;">Grace Sixteenth (8px)</span>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            `;

            contentArea.innerHTML = html;

            // Store analysis data globally for highlighting
            window.stringAnalysisData = stringInfo;

            // Initialize zoom controls with defaults
            initializeStringAnalysisZoom();

            // Generate number overlays for bars
            updateStringAnalysisNumbers();
        }

        // Update both number and label positions based on current zoom level
        function updateStringAnalysisNumbers() {
            const numberLayer = document.getElementById('stringAnalysisNumberLayer');
            const textLayer = document.getElementById('stringAnalysisTextLayer');
            const content = document.getElementById('stringAnalysisContent');
            if (!numberLayer || !textLayer || !content) return;

            // Get current transform scale
            const transform = content.style.transform;
            const scaleMatch = transform.match(/scale\(([\d.]+),\s*([\d.]+)\)/);
            const scaleX = scaleMatch ? parseFloat(scaleMatch[1]) : 1;
            const scaleY = scaleMatch ? parseFloat(scaleMatch[2]) : 1;

            // Clear existing overlays
            numberLayer.innerHTML = '';
            textLayer.innerHTML = '';

            // Update string labels to align with scaled string lines (using relative positioning)
            if (window.stringAnalysisData) {
                const stringYPositions = Object.values(window.stringAnalysisData).map(info => info.yPos);
                const minStringY = Math.min(...stringYPositions);

                Object.entries(window.stringAnalysisData).forEach(([stringNum, info]) => {
                    const relativeY = info.yPos - minStringY + 50; // Match bar generation logic
                    const scaledY = relativeY * scaleY;

                    textLayer.innerHTML += `<div style="position: absolute; left: 0px; top: ${scaledY}px; font-size: 14px; font-weight: 600; color: #2c3e50; white-space: nowrap; transform: translateY(-50%);">String ${stringNum}: ${info.note}</div>`;
                });
            }

            // Generate numbers positioned relative to scaled bars
            const bars = content.querySelectorAll('[data-count]');
            bars.forEach(bar => {
                const barX = parseFloat(bar.getAttribute('data-bar-x'));
                const barY = parseFloat(bar.getAttribute('data-bar-y'));
                const count = bar.getAttribute('data-count');
                const barHeight = parseFloat(bar.getAttribute('data-bar-height'));

                // Calculate scaled position
                const scaledX = barX * scaleX;
                const scaledY = barY * scaleY;

                // Add number centered on the string line
                numberLayer.innerHTML += `
                    <div style="position: absolute;
                                left: ${scaledX}px;
                                top: ${scaledY}px;
                                color: white;
                                font-size: ${Math.max(10, Math.min(14, barHeight * 0.6))}px;
                                font-weight: 700;
                                text-shadow: 0 1px 3px rgba(0,0,0,0.5);
                                pointer-events: none;
                                transform: translate(-50%, -50%);
                                z-index: 25;">
                        ${count}
                    </div>
                `;
            });
        }

        // Helper function to get darker color for gradients (tablature colors)
        function getDarkerColor(color) {
            const colorMap = {
                // Main notes: teal (#008080) variants
                '#008080': '#006666',    // Darker teal for main notes

                // Grace notes: gold (#FFD700) variants
                '#FFD700': '#E6C200'     // Darker gold for grace notes
            };
            return colorMap[color] || color;
        }

        // Highlight notes on tablature when bar is clicked (persistent until another is selected)
        function highlightStringNotes(stringNum, durationType) {
            // Remove previous selections from all bars
            document.querySelectorAll('[onclick*="highlightStringNotes"]').forEach(bar => {
                bar.classList.remove('selected-bar');
                bar.style.boxShadow = bar.getAttribute('data-original-shadow') || '0 2px 4px rgba(0,0,0,0.2)';
                bar.style.filter = '';
                bar.style.transform = 'scale(1)';
            });

            // Clear previous note highlights
            document.querySelectorAll('.note-circle').forEach(circle => {
                circle.style.filter = '';
                // Don't reset stroke, strokeWidth, transform, or any positioning/sizing
            });

            if (!window.stringAnalysisData || !window.stringAnalysisData[stringNum]) return;

            const notes = window.stringAnalysisData[stringNum].durations[durationType];
            if (!notes || notes.length === 0) return;

            // Find and persistently select the clicked bar
            const targetBar = document.querySelector(`[onclick="highlightStringNotes('${stringNum}', '${durationType}')"]`);
            if (targetBar) {
                // Store original shadow if not already stored
                if (!targetBar.getAttribute('data-original-shadow')) {
                    targetBar.setAttribute('data-original-shadow', targetBar.style.boxShadow || '0 2px 4px rgba(0,0,0,0.2)');
                }

                // Mark as selected and add persistent glow
                targetBar.classList.add('selected-bar');
                targetBar.style.boxShadow = '0 0 20px #e74c3c, 0 0 30px #e74c3c, 0 4px 8px rgba(231,76,60,0.4)';
                targetBar.style.filter = 'brightness(1.1)';
                targetBar.style.transform = 'scale(1.02)'; // Slight scale to show selection
            }

            // Highlight the selected notes with glow only
            notes.forEach((noteData, index) => {
                const circle = noteData.element;

                // Apply only glow effect with animation delay - preserve everything else
                setTimeout(() => {
                    circle.style.filter = 'drop-shadow(0 0 15px #e74c3c) drop-shadow(0 0 25px #e74c3c) drop-shadow(0 0 35px #e74c3c)';
                    circle.style.transition = 'filter 0.3s ease';

                    // Ensure position, size, stroke, and numbers remain unchanged
                    // Do NOT modify: cx, cy, r, transform, stroke, strokeWidth
                }, index * 80); // Slightly faster staggered animation
            });

            // Show notification
            const stringNote = window.stringAnalysisData[stringNum].note;
            const durationLabel = durationType.replace('grace-', 'Grace ').replace(/^\w/, c => c.toUpperCase());
            showNotification(`Highlighted ${notes.length} ${durationLabel} notes on String ${stringNum} (${stringNote})`);
        }
        function showNotification(message) {
            // Remove existing notification if any
            const existing = document.getElementById('string-analysis-notification');
            if (existing) existing.remove();

            const notification = document.createElement('div');
            notification.id = 'string-analysis-notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #2c3e50, #3498db);
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                box-shadow: 0 6px 20px rgba(0,0,0,0.3);
                z-index: 1002;
                font-size: 14px;
                font-weight: 500;
                opacity: 0;
                transform: translateX(100%) scale(0.8);
                transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                border-left: 4px solid #e74c3c;
                max-width: 300px;
            `;

            document.body.appendChild(notification);

            // Animate in
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateX(0) scale(1)';
            }, 10);

            // Animate out and remove
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%) scale(0.8)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 400);
            }, 3500);
        }

        // Update String Analysis zoom (matches tablature zoom functionality)
        function updateStringAnalysisZoom(axis) {
            const content = document.getElementById('stringAnalysisContent');
            if (!content) return;

            const xSlider = document.getElementById('stringAnalysisXZoom');
            const ySlider = document.getElementById('stringAnalysisYZoom');
            const xValue = document.getElementById('stringAnalysisXValue');
            const yValue = document.getElementById('stringAnalysisYValue');

            if (!xSlider || !ySlider) return;

            let xZoom, yZoom;

            if (axis === 'x') {
                xZoom = parseFloat(xSlider.value) / 100;
                yZoom = parseFloat(ySlider.value) / 100;

                // Update X value display
                if (xSlider.value == 100) {
                    xValue.textContent = 'Fit';
                } else {
                    xValue.textContent = Math.round(xZoom * 100) + '%';
                }
            } else if (axis === 'y') {
                xZoom = parseFloat(xSlider.value) / 100;
                yZoom = parseFloat(ySlider.value) / 100;

                // Update Y value display
                yValue.textContent = Math.round(yZoom * 100) + '%';
            }

            // Apply transform using dynamic content width
            let scaleX, scaleY;

            if (xSlider.value == 100) {
                // Fit width mode - calculate based on actual content width
                const container = document.getElementById('stringAnalysisContainer');
                if (container && content) {
                    const containerWidth = container.clientWidth - 40; // Account for padding
                    const actualContentWidth = parseFloat(content.getAttribute('data-content-width')) || 11420;
                    scaleX = Math.max(0.1, containerWidth / actualContentWidth);
                    scaleY = yZoom;
                    content.style.transform = `scale(${scaleX}, ${scaleY})`;

                    // Update number positions after scaling
                    setTimeout(() => updateStringAnalysisNumbers(), 50);
                }
            } else {
                // Custom zoom mode
                scaleX = xZoom;
                scaleY = yZoom;
                content.style.transform = `scale(${scaleX}, ${scaleY})`;

                // Update number positions after scaling
                setTimeout(() => updateStringAnalysisNumbers(), 50);
            }
        }

        // Initialize String Analysis zoom on content generation
        function initializeStringAnalysisZoom() {
            // Set default: fit-width X, 67% Y
            const xSlider = document.getElementById('stringAnalysisXZoom');
            const ySlider = document.getElementById('stringAnalysisYZoom');
            const xValue = document.getElementById('stringAnalysisXValue');
            const yValue = document.getElementById('stringAnalysisYValue');

            if (xSlider && ySlider) {
                // Set fit width for X-zoom (value 100 = fit mode)
                xSlider.value = 100;
                ySlider.value = 67;

                // Update display values
                if (xValue) xValue.textContent = 'Fit';
                if (yValue) yValue.textContent = '67%';

                // Apply initial zoom after a brief delay
                setTimeout(() => {
                    updateStringAnalysisZoom('x');
                }, 150);
            }
        }

        // Generate KPIC-2 and KRIC-2 Sankey diagrams
        function generateSankeyDiagrams() {
            const contentArea = document.getElementById('content-area');
            if (!contentArea) {
                return;
            }

            // Extract note data and calculate transitions
            const noteCircles = document.querySelectorAll('.note-circle');
            const pitchTransitions = {};
            const rhythmTransitions = {};
            const stringLabels = document.querySelectorAll('.string-label');
            const stringLines = document.querySelectorAll('.string-line');

            // Create string mapping
            const stringInfo = {};
            stringLines.forEach(line => {
                const yPos = parseFloat(line.getAttribute('data-base-y1') || line.getAttribute('y1'));
                let closestLabel = null;
                let minDistance = Infinity;
                stringLabels.forEach(label => {
                    const labelY = parseFloat(label.getAttribute('data-base-y') || label.getAttribute('y'));
                    const distance = Math.abs(yPos - labelY);
                    if (distance < minDistance && distance < 20) {
                        minDistance = distance;
                        closestLabel = label;
                    }
                });
                if (closestLabel) {
                    const text = closestLabel.textContent;
                    const match = text.match(/String (\d+): ([A-G]#?\d)/);
                    if (match) {
                        stringInfo[match[1]] = {
                            note: match[2],
                            yPos: yPos
                        };
                    }
                }
            });

            // Extract pitch and rhythm data for each note
            const noteData = [];
            noteCircles.forEach((circle, index) => {
                const cy = parseFloat(circle.getAttribute('data-base-y') || circle.getAttribute('cy'));
                const cx = parseFloat(circle.getAttribute('data-base-x') || circle.getAttribute('cx'));

                // Find string/pitch
                let closestString = null;
                let minDistance = Infinity;
                for (const [stringNum, info] of Object.entries(stringInfo)) {
                    const distance = Math.abs(cy - info.yPos);
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestString = stringNum;
                    }
                }

                // Determine duration based on spacing
                let duration = 'quarter';
                const nextNote = noteCircles[index + 1];
                if (nextNote) {
                    const nextCx = parseFloat(nextNote.getAttribute('data-base-x') || nextNote.getAttribute('cx'));
                    const spacing = nextCx - cx;
                    if (spacing > 400) duration = 'whole';
                    else if (spacing > 200) duration = 'half';
                    else if (spacing > 100) duration = 'quarter';
                    else if (spacing > 50) duration = 'eighth';
                    else duration = 'sixteenth';
                }

                noteData.push({
                    index: index,
                    pitch: closestString && stringInfo[closestString] ? stringInfo[closestString].note : 'Unknown',
                    stringNum: closestString || '0',
                    duration: duration,
                    cx: cx
                });
            });

            // Calculate KPIC-2 transitions (pitch to pitch)
            for (let i = 0; i < noteData.length - 1; i++) {
                const from = `String ${noteData[i].stringNum}: ${noteData[i].pitch}`;
                const to = `String ${noteData[i + 1].stringNum}: ${noteData[i + 1].pitch}`;
                const key = `${from}|||${to}`;
                if (!pitchTransitions[key]) {
                    pitchTransitions[key] = 0;
                }
                pitchTransitions[key]++;
            }

            // Calculate KRIC-2 transitions (rhythm to rhythm)
            const durationRanks = {
                'whole': 4,
                'half': 2,
                'quarter': 1,
                'eighth': 0.5,
                'sixteenth': 0.25
            };

            for (let i = 0; i < noteData.length - 1; i++) {
                const from = noteData[i].duration;
                const to = noteData[i + 1].duration;
                const key = `${from}|||${to}`;
                if (!rhythmTransitions[key]) {
                    rhythmTransitions[key] = 0;
                }
                rhythmTransitions[key]++;
            }

            // Calculate totals for verification
            const kpicTotal = Object.values(pitchTransitions).reduce((sum, count) => sum + count, 0);
            const kricTotal = Object.values(rhythmTransitions).reduce((sum, count) => sum + count, 0);
            const totalNoteTransitions = noteData.length - 1;

            // Create HTML structure
            const pitchSankeyHTML = generateSankeyHTML('pitch', pitchTransitions, noteData);
            const rhythmSankeyHTML = generateSankeyHTML('rhythm', rhythmTransitions, noteData, durationRanks);

            contentArea.innerHTML = `
                <div style="padding: 20px;">
                    <h3 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">üìà KPIC-2 & KRIC-2 Transition Analysis</h3>

                    <!-- Verification Summary -->
                    <div style="text-align: center; margin-bottom: 15px; padding: 10px; background: ${kpicTotal === kricTotal ? '#d4edda' : '#f8d7da'}; border-radius: 5px; border: 1px solid ${kpicTotal === kricTotal ? '#c3e6cb' : '#f5c6cb'};">
                        <strong style="color: #2c3e50;">Transition Count Verification:</strong><br>
                        <span style="color: #3498db;">KPIC-2 Total: ${kpicTotal}</span> |
                        <span style="color: #e74c3c;">KRIC-2 Total: ${kricTotal}</span> |
                        <span style="color: #2c3e50;">Expected: ${totalNoteTransitions}</span><br>
                        <span style="font-weight: bold; color: ${kpicTotal === kricTotal ? '#155724' : '#721c24'};">
                            ${kpicTotal === kricTotal ? '‚úÖ KPIC-2 = KRIC-2 (Verified!)' : '‚ùå Counts Mismatch!'}
                        </span>
                    </div>

                    <!-- Zoom Controls -->
                    <div style="display: flex; gap: 20px; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                        <div style="flex: 1;">
                            <label style="font-weight: bold; color: #495057;">X-Zoom:</label>
                            <input type="range" id="sankey-x-zoom" min="0.5" max="3" step="0.1" value="1" style="width: 100%;">
                            <span id="sankey-x-zoom-value">1.0x</span>
                        </div>
                        <div style="flex: 1;">
                            <label style="font-weight: bold; color: #495057;">Y-Zoom:</label>
                            <input type="range" id="sankey-y-zoom" min="0.05" max="3" step="0.01" value="0.67" style="width: 100%;">
                            <span id="sankey-y-zoom-value">67%</span>
                        </div>
                    </div>

                    <div style="display: flex; gap: 20px;">
                        <!-- KPIC-2 Sankey -->
                        <div style="flex: 1; background: white; padding: 15px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h4 style="text-align: center; color: #3498db;">KPIC-2: Pitch Transitions</h4>
                            <div id="kpic-sankey" style="overflow: auto; max-height: 600px;">
                                ` + pitchSankeyHTML + `
                            </div>
                        </div>

                        <!-- KRIC-2 Sankey -->
                        <div style="flex: 1; background: white; padding: 15px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h4 style="text-align: center; color: #e74c3c;">KRIC-2: Rhythm Transitions</h4>
                            <div id="kric-sankey" style="overflow: auto; max-height: 600px;">
                                ` + rhythmSankeyHTML + `
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Add zoom event listeners
            document.getElementById('sankey-x-zoom').addEventListener('input', function() {
                const zoomValue = this.value;
                document.getElementById('sankey-x-zoom-value').textContent = zoomValue + 'x';
                updateSankeyZoom();
            });

            document.getElementById('sankey-y-zoom').addEventListener('input', function() {
                const zoomValue = this.value;
                const percentage = Math.round(zoomValue * 100);
                document.getElementById('sankey-y-zoom-value').textContent = percentage + '%';
                updateSankeyZoom();
            });

            // Apply initial zoom to match tablature after a delay to ensure elements are rendered
            setTimeout(() => {
                updateSankeyZoom();
            }, 50);
        }

        // Generate Sankey HTML
        function generateSankeyHTML(type, transitions, noteData, durationRanks) {
            const links = [];
            const nodeWidth = type === 'pitch' ? 60 : 80;
            let svg = '';

            if (type === 'pitch') {
                // For KPIC-2: Use exact tablature string order and spacing
                const stringLines = document.querySelectorAll('.string-line');
                const stringLabels = document.querySelectorAll('.string-label');

                // Get actual string positions from tablature
                const stringPositions = {};
                stringLines.forEach(line => {
                    const yPos = parseFloat(line.getAttribute('data-base-y1') || line.getAttribute('y1'));

                    // Find corresponding label
                    let closestLabel = null;
                    let minDistance = Infinity;
                    stringLabels.forEach(label => {
                        const labelY = parseFloat(label.getAttribute('data-base-y') || label.getAttribute('y'));
                        const distance = Math.abs(yPos - labelY);
                        if (distance < minDistance && distance < 20) {
                            minDistance = distance;
                            closestLabel = label;
                        }
                    });

                    if (closestLabel) {
                        const text = closestLabel.textContent;
                        const match = text.match(/String (\d+): ([A-G]#?\d)/);
                        if (match) {
                            const stringKey = `String ${match[1]}: ${match[2]}`;
                            stringPositions[stringKey] = yPos;
                        }
                    }
                });

                // Use actual tablature dimensions for proper scaling
                const minY = Math.min(...Object.values(stringPositions));
                const maxY = Math.max(...Object.values(stringPositions));
                const range = maxY - minY;

                // Match the tablature's actual scale
                // The tablature uses these string positions directly, so we should too
                const svgHeight = maxY + 100; // Add padding
                const svgWidth = 600;

                // Process transitions
                Object.entries(transitions).forEach(([key, count]) => {
                    const [from, to] = key.split('|||');
                    links.push({ source: from, target: to, value: count });
                });

                svg = `<svg width="${svgWidth}" height="${svgHeight}" id="${type}-sankey-svg">`;

                // Draw all string positions as nodes (both left and right)
                Object.entries(stringPositions).forEach(([stringKey, originalY]) => {
                    // Use actual Y position from tablature
                    const y = originalY;

                    // Extract just the pitch name (remove "String X: " prefix)
                    const pitchName = stringKey.split(': ')[1] || stringKey;

                    // Left side (From) - 60px square boxes, perfectly centered on string line
                    svg += `<rect x="20" y="${y - 30}" width="${nodeWidth}" height="60"
                            fill="#3498db" opacity="0.8" rx="3"
                            class="sankey-node" data-node="${stringKey}" data-side="left"/>`;
                    svg += `<text x="${20 + nodeWidth/2}" y="${y + 7}" text-anchor="middle"
                            style="font-size: 20px; fill: white; font-weight: bold; stroke: black; stroke-width: 0.5; paint-order: stroke fill;">${pitchName}</text>`;

                    // Right side (To) - 60px square boxes, perfectly centered on string line
                    svg += `<rect x="${svgWidth - nodeWidth - 20}" y="${y - 30}" width="${nodeWidth}" height="60"
                            fill="#2ecc71" opacity="0.8" rx="3"
                            class="sankey-node" data-node="${stringKey}" data-side="right"/>`;
                    svg += `<text x="${svgWidth - nodeWidth/2 - 20}" y="${y + 7}" text-anchor="middle"
                            style="font-size: 20px; fill: white; font-weight: bold; stroke: black; stroke-width: 0.5; paint-order: stroke fill;">${pitchName}</text>`;
                });

                // Draw links with click handling
                links.forEach((link, linkIndex) => {
                    const sourceY = stringPositions[link.source];
                    const targetY = stringPositions[link.target];

                    if (sourceY && targetY) {
                        // Use actual Y positions from tablature
                        const scaledSourceY = sourceY;
                        const scaledTargetY = targetY;
                        const thickness = Math.min(20, Math.max(2, link.value * 2));

                        // Create curved path
                        const sourceX = 20 + nodeWidth;
                        const targetX = svgWidth - nodeWidth - 20;
                        const midX = (sourceX + targetX) / 2;

                        // Extract just the note names for the pattern
                        const fromNote = link.source.split(': ')[1];
                        const toNote = link.target.split(': ')[1];
                        const pattern = `["${fromNote}", "${toNote}"]`;

                        svg += `<path d="M ${sourceX} ${scaledSourceY} C ${midX} ${scaledSourceY}, ${midX} ${scaledTargetY}, ${targetX} ${scaledTargetY}"
                                stroke="rgba(52, 152, 219, 0.4)"
                                stroke-width="${thickness}" fill="none"
                                class="sankey-link clickable-band"
                                data-source="${link.source}"
                                data-target="${link.target}"
                                data-pattern='${pattern}'
                                data-pattern-raw='${fromNote}-${toNote}'
                                data-value="${link.value}"
                                data-band-id="kpic-${linkIndex}"
                                style="cursor: pointer;"
                                onmouseover="this.style.stroke='rgba(52, 152, 219, 0.7)'; this.style.strokeWidth='${Math.min(25, thickness + 3)}';"
                                onmouseout="if(!this.classList.contains('selected-band')) { this.style.stroke='rgba(52, 152, 219, 0.4)'; this.style.strokeWidth='${thickness}'; }"
                                title="${fromNote} ‚Üí ${toNote}: ${link.value} occurrence${link.value > 1 ? 's' : ''}"/>`;

                        // Add center label with selection styling support
                        svg += `<text x="${midX}" y="${(scaledSourceY + scaledTargetY) / 2}" text-anchor="middle" pointer-events="none"
                                class="sankey-label" data-band-id="kpic-${linkIndex}"
                                style="font-size: 10px; fill: #fff; font-weight: bold;
                                       text-shadow: 1px 1px 1px rgba(0,0,0,0.8);
                                       transition: font-size 0.2s ease, filter 0.2s ease;">${link.value}</text>`;
                    }
                });

                svg += '</svg>';

            } else {
                // KRIC-2: Keep existing rhythm layout but add clickability
                const nodes = new Set();
                Object.entries(transitions).forEach(([key, count]) => {
                    const [from, to] = key.split('|||');
                    nodes.add(from);
                    nodes.add(to);
                    links.push({ source: from, target: to, value: count });
                });

                // Function to calculate proportional height based on duration
                function getDurationHeight(duration) {
                    const baseHeight = 20; // Base unit for sixteenth note
                    const multiplier = durationRanks[duration] || 1; // Get duration value
                    return Math.max(baseHeight, multiplier * 80); // Minimum 20px, scale by 80
                }

                const nodeArray = Array.from(nodes);

                const sourceNodes = new Set(links.map(l => l.source));
                const targetNodes = new Set(links.map(l => l.target));
                const leftNodes = Array.from(sourceNodes);
                const rightNodes = Array.from(targetNodes);

                // Sort nodes by duration rank (largest to smallest - top to bottom)
                const sortedLeftNodes = leftNodes.sort((a, b) => {
                    const rankA = durationRanks[a] || 0;
                    const rankB = durationRanks[b] || 0;
                    return rankB - rankA; // Descending order (largest first)
                });

                const sortedRightNodes = rightNodes.sort((a, b) => {
                    const rankA = durationRanks[a] || 0;
                    const rankB = durationRanks[b] || 0;
                    return rankB - rankA; // Descending order (largest first)
                });

                // Calculate total height needed for all nodes with their proportional heights
                const eighthNoteSpacing = 80; // Large spacing to ensure no overlap (2 √ó eighth note height)
                let totalNeededHeight = 100; // Top and bottom padding

                // Calculate for left nodes (they determine the layout)
                sortedLeftNodes.forEach((node, index) => {
                    totalNeededHeight += getDurationHeight(node);
                    if (index < sortedLeftNodes.length - 1) {
                        totalNeededHeight += eighthNoteSpacing; // Add spacing between boxes
                    }
                });

                const svgHeight = Math.max(400, totalNeededHeight);
                const svgWidth = 600;

                svg = `<svg width="${svgWidth}" height="${svgHeight}" id="${type}-sankey-svg">`;

                // Draw rhythm nodes with proportional heights
                // Calculate positions and heights for left nodes
                const leftNodePositions = {};
                let currentY = 50; // Start position

                sortedLeftNodes.forEach((node, i) => {
                    const nodeHeight = getDurationHeight(node);
                    const displayText = durationRanks[node] ? `${node} (${durationRanks[node]})` : node;

                    // Center Y position for this node
                    const centerY = currentY + nodeHeight / 2;
                    leftNodePositions[node] = centerY;

                    svg += `<rect x="20" y="${currentY}" width="${nodeWidth}" height="${nodeHeight}"
                            fill="#e74c3c" opacity="0.8" rx="3"
                            class="sankey-node" data-node="${node}" data-side="left"/>`;
                    svg += `<text x="${20 + nodeWidth/2}" y="${centerY + 4}" text-anchor="middle"
                            style="font-size: 11px; fill: white; font-weight: bold;">${displayText}</text>`;
                    if (i < sortedLeftNodes.length - 1) {
                        const separatorY = currentY + nodeHeight + eighthNoteSpacing / 2;
                        svg += `<line x1="10" y1="${separatorY}" x2="${nodeWidth + 30}" y2="${separatorY}"
                                stroke="#ccc" stroke-width="1" stroke-dasharray="5,5" opacity="0.5"/>`;
                    }

                    currentY += nodeHeight + eighthNoteSpacing; // Move to next position with eighth note spacing
                });

                // Calculate positions and heights for right nodes
                const rightNodePositions = {};
                currentY = 50; // Reset start position

                sortedRightNodes.forEach((node, i) => {
                    const nodeHeight = getDurationHeight(node);
                    const displayText = durationRanks[node] ? `${node} (${durationRanks[node]})` : node;

                    // Center Y position for this node
                    const centerY = currentY + nodeHeight / 2;
                    rightNodePositions[node] = centerY;

                    svg += `<rect x="${svgWidth - nodeWidth - 20}" y="${currentY}" width="${nodeWidth}" height="${nodeHeight}"
                            fill="#f39c12" opacity="0.8" rx="3"
                            class="sankey-node" data-node="${node}" data-side="right"/>`;
                    svg += `<text x="${svgWidth - nodeWidth/2 - 20}" y="${centerY + 4}" text-anchor="middle"
                            style="font-size: 11px; fill: white; font-weight: bold;">${displayText}</text>`;

                    currentY += nodeHeight + eighthNoteSpacing; // Move to next position with eighth note spacing
                });

                // Draw rhythm links using stored positions
                links.forEach((link, linkIndex) => {
                    const sourceY = leftNodePositions[link.source];
                    const targetY = rightNodePositions[link.target];

                    if (sourceY !== undefined && targetY !== undefined) {
                        const thickness = Math.min(20, Math.max(2, link.value * 2));

                        const sourceX = 20 + nodeWidth;
                        const targetX = svgWidth - nodeWidth - 20;
                        const midX = (sourceX + targetX) / 2;

                        // Extract just the duration names for the pattern
                        const pattern = `["${link.source}", "${link.target}"]`;

                        svg += `<path d="M ${sourceX} ${sourceY} C ${midX} ${sourceY}, ${midX} ${targetY}, ${targetX} ${targetY}"
                                stroke="rgba(231, 76, 60, 0.4)"
                                stroke-width="${thickness}" fill="none"
                                class="sankey-link clickable-band"
                                data-source="${link.source}"
                                data-target="${link.target}"
                                data-pattern='${pattern}'
                                data-pattern-raw='${link.source}-${link.target}'
                                data-value="${link.value}"
                                data-band-id="kric-${linkIndex}"
                                style="cursor: pointer;"
                                onmouseover="this.style.stroke='rgba(231, 76, 60, 0.7)'; this.style.strokeWidth='${Math.min(25, thickness + 3)}';"
                                onmouseout="if(!this.classList.contains('selected-band')) { this.style.stroke='rgba(231, 76, 60, 0.4)'; this.style.strokeWidth='${thickness}'; }"
                                title="${link.source} ‚Üí ${link.target}: ${link.value} occurrence${link.value > 1 ? 's' : ''}"/>`;

                        // Add center label with selection styling support
                        svg += `<text x="${midX}" y="${(sourceY + targetY) / 2}" text-anchor="middle" pointer-events="none"
                                class="sankey-label" data-band-id="kric-${linkIndex}"
                                style="font-size: 10px; fill: #fff; font-weight: bold;
                                       text-shadow: 1px 1px 1px rgba(0,0,0,0.8);
                                       transition: font-size 0.2s ease, filter 0.2s ease;">${link.value}</text>`;
                    }
                });

                svg += '</svg>';
            }

            // Add interaction for clickable bands
            setTimeout(() => {
                document.querySelectorAll('.clickable-band').forEach(band => {
                    band.addEventListener('click', function(event) {
                        const pattern = JSON.parse(this.getAttribute('data-pattern'));
                        const isMultiSelect = event.ctrlKey || event.metaKey;

                        // Determine if this is a KPIC or KRIC band based on parent SVG
                        const parentSvg = this.closest('svg');
                        const isKRIC = parentSvg && parentSvg.id === 'rhythm-sankey-svg';

                        // Get the associated label
                        const bandId = this.getAttribute('data-band-id');
                        const associatedLabel = document.querySelector(`text[data-band-id="${bandId}"]`);

                        // Check selection state BEFORE any modifications
                        const wasSelected = this.classList.contains('selected-band');
                        const allSelectedBands = document.querySelectorAll('.clickable-band.selected-band');
                        // Visual feedback for selected bands
                        if (!isMultiSelect) {
                            // Clear all OTHER selected bands if not multi-selecting
                            document.querySelectorAll('.clickable-band.selected-band').forEach(b => {
                                if (b !== this) { // Don't clear THIS band yet
                                    b.classList.remove('selected-band');
                                    if (b.closest('svg').id === 'rhythm-sankey-svg') {
                                        b.style.stroke = 'rgba(231, 76, 60, 0.4)';
                                    } else {
                                        b.style.stroke = 'rgba(52, 152, 219, 0.4)';
                                    }
                                    // Also reset other labels
                                    const otherBandId = b.getAttribute('data-band-id');
                                    const otherLabel = document.querySelector(`text[data-band-id="${otherBandId}"]`);
                                    if (otherLabel) {
                                        otherLabel.style.fontSize = '10px';
                                        otherLabel.style.filter = 'none';
                                    }
                                }
                            });
                        }

                        if (wasSelected) {
                            // Deselecting
                            this.classList.remove('selected-band');
                            this.style.stroke = isKRIC ? 'rgba(231, 76, 60, 0.4)' : 'rgba(52, 152, 219, 0.4)';

                            // Reset label styling
                            if (associatedLabel) {
                                associatedLabel.style.fontSize = '10px';
                                associatedLabel.style.filter = 'none';
                            }

                            // Deselect the corresponding pattern from dropdown
                            if (isKRIC) {
                                const kricSelect = document.getElementById('specificKricPattern');
                                if (kricSelect && window.kricPatterns && window.kricPatterns['kric-2']) {
                                    const patterns = window.kricPatterns['kric-2'];
                                    const matchIndex = patterns.findIndex(p => JSON.stringify(p.pattern) === JSON.stringify(pattern));
                                    if (matchIndex !== -1 && kricSelect.options[matchIndex]) {
                                        kricSelect.options[matchIndex].selected = false;
                                    }
                                }
                            } else {
                                const kpicSelect = document.getElementById('specificKpicPattern');
                                if (kpicSelect) {
                                    const analysisMode = document.querySelector('input[name="analysisMode"]:checked')?.value || 'full';
                                    const modePatterns = analysisData.kpic_patterns[analysisMode] || analysisData.kpic_patterns;
                                    let patterns = modePatterns['kpic-2'] || [];
                                    const matchIndex = patterns.findIndex(p => JSON.stringify(p.pattern) === JSON.stringify(pattern));
                                    if (matchIndex !== -1 && kpicSelect.options[matchIndex]) {
                                        kpicSelect.options[matchIndex].selected = false;
                                    }
                                }
                            }

                            // Check if any bands are still selected
                            const anySelected = document.querySelectorAll('.clickable-band.selected-band').length > 0;
                            if (!anySelected) {
                                clearHighlighting();
                                // Restore default dimming
                                document.querySelectorAll('.note-circle').forEach(circle => {
                                    circle.style.opacity = '0.4';
                                });
                            } else {
                                // Refresh highlighting with remaining selections
                                updateHighlighting();
                            }
                        } else {
                            // Selecting
                            // Only clear other bands if not multi-selecting
                            if (!isMultiSelect) {
                                // Clear ALL other selected bands (not just this one)
                                document.querySelectorAll('.clickable-band.selected-band').forEach(b => {
                                    if (b !== this) {
                                        b.classList.remove('selected-band');
                                        if (b.closest('svg').id === 'rhythm-sankey-svg') {
                                            b.style.stroke = 'rgba(231, 76, 60, 0.4)';
                                        } else {
                                            b.style.stroke = 'rgba(52, 152, 219, 0.4)';
                                        }
                                        // Reset other labels
                                        const otherBandId = b.getAttribute('data-band-id');
                                        const otherLabel = document.querySelector(`text[data-band-id="${otherBandId}"]`);
                                        if (otherLabel) {
                                            otherLabel.style.fontSize = '10px';
                                            otherLabel.style.filter = 'none';
                                        }
                                    }
                                });
                            }

                            // Set this band as selected
                            this.classList.add('selected-band');
                            this.style.stroke = isKRIC ? 'rgba(231, 76, 60, 0.9)' : 'rgba(52, 152, 219, 0.9)';

                            // Enhance label styling
                            if (associatedLabel) {
                                associatedLabel.style.fontSize = '14px';
                                associatedLabel.style.filter = 'drop-shadow(0 0 6px #ffff00) drop-shadow(0 0 12px #ffff00)';
                            }

                            // Call appropriate pattern trigger function FIRST (this updates dropdown)
                            if (isKRIC) {
                                triggerKRICPattern(pattern, isMultiSelect);
                            } else {
                                triggerKPICPattern(pattern, isMultiSelect);
                            }
                        }
                    });
                });
            }, 100);

            return svg;
        }

        // Trigger KPIC pattern selection
        function triggerKPICPattern(pattern, isMultiSelect = false) {
            const kpicSlider = document.getElementById('kpicSlider');
            if (!kpicSlider) return;

            // Always ensure we're at KPIC-2
            if (kpicSlider.value !== '2') {
                // Update KPIC slider to 2
                kpicSlider.value = 2;
                window.kpicThreshold = 'kpic-2';

                // Update slider display
                const display = document.getElementById('kpicSliderValue');
                if (display) {
                    display.textContent = '2';
                    const percentage = (2 / 136) * 100;
                    const sliderRect = kpicSlider.getBoundingClientRect();
                    const sliderWidth = sliderRect.width;
                    const handleWidth = 20;
                    const leftPosition = (percentage / 100) * (sliderWidth - handleWidth) + (handleWidth / 2) - 0;
                    display.style.left = `${Math.max(0, Math.min(leftPosition, sliderWidth - 30))}px`;
                }
            }

            // ALWAYS update pattern options to ensure dropdown is properly populated
            // This ensures patterns are available even on subsequent clicks
            updateKpicPatternOptions();

            // Small delay to ensure DOM updates are complete
            setTimeout(() => {
                selectPattern(pattern, isMultiSelect);
            }, 50);
        }

        // Trigger KRIC pattern selection
        function triggerKRICPattern(pattern, isMultiSelect = false) {
            const kricSlider = document.getElementById('kricSlider');
            if (!kricSlider) return;

            // Always ensure we're at KRIC-2
            if (kricSlider.value !== '2') {
                // Update KRIC slider to 2
                kricSlider.value = 2;
                window.kricThreshold = 'kric-2';

                // Update slider display
                const display = document.getElementById('kricSliderValue');
                if (display) {
                    display.textContent = '2';
                    const percentage = (2 / 136) * 100;
                    const sliderRect = kricSlider.getBoundingClientRect();
                    const sliderWidth = sliderRect.width;
                    const handleWidth = 20;
                    const leftPosition = (percentage / 100) * (sliderWidth - handleWidth) + (handleWidth / 2) - 0;
                    display.style.left = `${Math.max(0, Math.min(leftPosition, sliderWidth - 30))}px`;
                }
            }

            // ALWAYS update pattern options to ensure dropdown is properly populated
            updateKricPatternOptions();

            // Small delay to ensure DOM updates are complete
            setTimeout(() => {
                selectKricPattern(pattern, isMultiSelect);
            }, 50);
        }

        // Helper function to select a specific KRIC pattern
        function selectKricPattern(pattern, isMultiSelect) {
            const patternSelect = document.getElementById('specificKricPattern');
            if (!patternSelect) {
                return;
            }

            // Generate KRIC patterns from noteData if not exists
            if (!window.kricPatterns) {
                generateKricPatterns();
            }

            // Get KRIC-2 patterns
            const patterns = window.kricPatterns['kric-2'] || [];
            // Find the matching pattern index
            let matchingIndex = -1;
            for (let i = 0; i < patterns.length; i++) {
                const patternStr = JSON.stringify(patterns[i].pattern);
                const searchStr = JSON.stringify(pattern);

                if (patternStr === searchStr) {
                    matchingIndex = i;
                    break;
                }
            }
            if (matchingIndex === -1) {
                // Search for this pattern in the actual note data
                const noteCircles = document.querySelectorAll('.note-circle');
                const positions = [];

                // Find all occurrences of this rhythm pattern
                for (let i = 0; i < noteCircles.length - 1; i++) {
                    const currentNote = noteCircles[i];
                    const nextNote = noteCircles[i + 1];

                    // Determine durations based on spacing
                    const currentCx = parseFloat(currentNote.getAttribute('data-base-x') || currentNote.getAttribute('cx'));
                    const nextCx = parseFloat(nextNote.getAttribute('data-base-x') || nextNote.getAttribute('cx'));
                    const spacing = nextCx - currentCx;

                    let currentDuration = 'quarter';
                    if (spacing > 400) currentDuration = 'whole';
                    else if (spacing > 200) currentDuration = 'half';
                    else if (spacing > 100) currentDuration = 'quarter';
                    else if (spacing > 50) currentDuration = 'eighth';
                    else currentDuration = 'sixteenth';

                    let nextDuration = 'quarter';
                    if (i < noteCircles.length - 2) {
                        const followingNote = noteCircles[i + 2];
                        const followingCx = parseFloat(followingNote.getAttribute('data-base-x') || followingNote.getAttribute('cx'));
                        const nextSpacing = followingCx - nextCx;
                        if (nextSpacing > 400) nextDuration = 'whole';
                        else if (nextSpacing > 200) nextDuration = 'half';
                        else if (nextSpacing > 100) nextDuration = 'quarter';
                        else if (nextSpacing > 50) nextDuration = 'eighth';
                        else nextDuration = 'sixteenth';
                    }

                    // Check if this matches our pattern
                    if (currentDuration === pattern[0] && nextDuration === pattern[1]) {
                        positions.push(i);
                    }
                }

                if (positions.length > 0) {
                    const tempPattern = {
                        pattern: pattern,
                        count: positions.length,
                        positions: positions
                    };
                    patterns.push(tempPattern);
                    matchingIndex = patterns.length - 1;

                    // Add it to the dropdown
                    const option = document.createElement('option');
                    option.value = matchingIndex;
                    option.textContent = `${pattern.join(' ‚Üí ')} (${positions.length}√ó) [from Sankey]`;
                    patternSelect.appendChild(option);
                }
            }
            if (matchingIndex >= 0 && matchingIndex < patternSelect.options.length) {
                // Handle multi-selection
                if (!isMultiSelect) {
                    // Clear ALL previous selections
                    Array.from(patternSelect.options).forEach(option => {
                        option.selected = false;
                    });
                }

                // Find the option with the matching index value
                let targetOption = null;
                for (let i = 0; i < patternSelect.options.length; i++) {
                    if (parseInt(patternSelect.options[i].value) === matchingIndex) {
                        targetOption = patternSelect.options[i];
                        break;
                    }
                }

                if (targetOption) {
                    if (isMultiSelect) {
                        // Toggle selection in multi-select mode
                        targetOption.selected = !targetOption.selected;
                    } else {
                        // Select only this pattern
                        targetOption.selected = true;
                    }

                    // Trigger highlighting
                    updateHighlighting();
                } else {
                }
            } else {
            }
        }

        // Generate KRIC patterns from note data for all levels
        function generateKricPatterns() {
            const noteCircles = document.querySelectorAll('.note-circle');
            const rhythmData = [];

            // Extract rhythm data from notes
            noteCircles.forEach((circle, index) => {
                const cx = parseFloat(circle.getAttribute('data-base-x') || circle.getAttribute('cx'));

                // Determine duration based on spacing to next note
                let duration = 'quarter';
                const nextNote = noteCircles[index + 1];
                if (nextNote) {
                    const nextCx = parseFloat(nextNote.getAttribute('data-base-x') || nextNote.getAttribute('cx'));
                    const spacing = nextCx - cx;
                    if (spacing > 400) duration = 'whole';
                    else if (spacing > 200) duration = 'half';
                    else if (spacing > 100) duration = 'quarter';
                    else if (spacing > 50) duration = 'eighth';
                    else duration = 'sixteenth';
                }

                rhythmData.push({
                    index: index,
                    duration: duration,
                    cx: cx
                });
            });

            // Generate KRIC patterns for all levels (2 through max possible)
            const maxLevel = Math.min(16, rhythmData.length); // Max 16 levels or note count
            window.kricPatterns = {};

            for (let ngramSize = 2; ngramSize <= maxLevel; ngramSize++) {
                const patterns = {};

                for (let i = 0; i <= rhythmData.length - ngramSize; i++) {
                    const pattern = [];

                    // Build the n-gram pattern
                    for (let j = 0; j < ngramSize; j++) {
                        pattern.push(rhythmData[i + j].duration);
                    }

                    const key = JSON.stringify(pattern);
                    if (!patterns[key]) {
                        patterns[key] = {
                            pattern: pattern,
                            count: 0,
                            positions: []
                        };
                    }
                    patterns[key].count++;
                    patterns[key].positions.push(i);
                }

                // Convert to array and sort by count (descending)
                const patternsArray = Object.values(patterns).sort((a, b) => b.count - a.count);
                window.kricPatterns[`kric-${ngramSize}`] = patternsArray;
            }
        }

        // Helper function to select a specific pattern
        function selectPattern(pattern, isMultiSelect) {
            const patternSelect = document.getElementById('specificKpicPattern');
            if (!patternSelect) {
                return;
            }

            // Make sure we have the kpic-2 patterns
            const analysisMode = document.querySelector('input[name="analysisMode"]:checked')?.value || 'full';
            const modePatterns = analysisData.kpic_patterns[analysisMode] || analysisData.kpic_patterns;
            let patterns = modePatterns['kpic-2'] || [];
            // Find the matching pattern index
            let matchingIndex = -1;
            for (let i = 0; i < patterns.length; i++) {
                const patternStr = JSON.stringify(patterns[i].pattern);
                const searchStr = JSON.stringify(pattern);

                if (patternStr === searchStr) {
                    matchingIndex = i;
                    break;
                }
            }

            // If pattern not found, it might be a single occurrence pattern not in KPIC-2
            if (matchingIndex === -1) {
                // Search for this pattern in the actual note data
                const noteCircles = document.querySelectorAll('.note-circle');
                const positions = [];

                // Find all occurrences of this pattern
                for (let i = 0; i < noteCircles.length - 1; i++) {
                    const currentNote = noteCircles[i];
                    const nextNote = noteCircles[i + 1];

                    // Get the note values (you might need to adjust this based on your data structure)
                    const currentPitch = currentNote.getAttribute('data-note') ||
                                        currentNote.getAttribute('data-pitch');
                    const nextPitch = nextNote.getAttribute('data-note') ||
                                      nextNote.getAttribute('data-pitch');

                    // Check if this matches our pattern
                    if (currentPitch === pattern[0] && nextPitch === pattern[1]) {
                        positions.push(i);
                    }
                }

                if (positions.length > 0) {
                    const tempPattern = {
                        pattern: pattern,
                        count: positions.length,
                        positions: positions
                    };
                    patterns = [...patterns, tempPattern];
                    matchingIndex = patterns.length - 1;

                    // Add it to the dropdown
                    const option = document.createElement('option');
                    option.value = matchingIndex;
                    option.textContent = `${pattern.join(' ‚Üí ')} (${positions.length}√ó) [from Sankey]`;
                    patternSelect.appendChild(option);

                    // Also add it to the analysisData so highlighting works
                    if (!modePatterns['kpic-2']) {
                        modePatterns['kpic-2'] = [];
                    }
                    modePatterns['kpic-2'].push(tempPattern);
                }
            }
            if (matchingIndex >= 0 && matchingIndex < patternSelect.options.length) {
                // Handle multi-selection
                if (!isMultiSelect) {
                    // Clear ALL previous selections - force clear
                    Array.from(patternSelect.options).forEach(option => {
                        option.selected = false;
                    });
                }

                // Find the option with the matching index value
                let targetOption = null;
                for (let i = 0; i < patternSelect.options.length; i++) {
                    if (parseInt(patternSelect.options[i].value) === matchingIndex) {
                        targetOption = patternSelect.options[i];
                        break;
                    }
                }

                if (targetOption) {
                    if (isMultiSelect) {
                        // Toggle selection in multi-select mode
                        targetOption.selected = !targetOption.selected;
                    } else {
                        // Select only this pattern
                        targetOption.selected = true;
                    }

                    // Force the select element to update
                    patternSelect.dispatchEvent(new Event('change'));

                    // Scroll the selected option into view
                    targetOption.scrollIntoView({ block: 'nearest' });

                    // Force visual update of the dropdown
                    patternSelect.focus();
                    patternSelect.blur();
                    // CRITICAL FIX: Always call updateHighlighting immediately and directly
                    // Don't rely on setTimeout or conditional checks
                    updateHighlighting();
                } else {
                }
            } else {
            }
        }

        // Update Sankey zoom
        function updateSankeyZoom() {
            const xZoom = document.getElementById('sankey-x-zoom').value;
            const yZoom = document.getElementById('sankey-y-zoom').value;

            const kpicSvg = document.getElementById('pitch-sankey-svg');
            const kricSvg = document.getElementById('rhythm-sankey-svg');

            if (kpicSvg) {
                // Apply zoom to the whole SVG
                kpicSvg.style.transform = `scale(${xZoom}, ${yZoom})`;
                kpicSvg.style.transformOrigin = 'top left';

                // Keep label boxes constant size by counter-scaling them
                const nodes = kpicSvg.querySelectorAll('.sankey-node');
                const texts = kpicSvg.querySelectorAll('text');

                nodes.forEach(node => {
                    // Get the original center position
                    const rect = node.getBBox();
                    const centerX = rect.x + rect.width / 2;
                    const centerY = rect.y + rect.height / 2;

                    // Apply counter-scale with center positioning
                    node.style.transform = `scale(${1/xZoom}, ${1/yZoom})`;
                    node.style.transformOrigin = `${centerX}px ${centerY}px`;
                });

                texts.forEach(text => {
                    // Get the text position
                    const x = parseFloat(text.getAttribute('x'));
                    const y = parseFloat(text.getAttribute('y'));

                    // Apply counter-scale with text center positioning
                    text.style.transform = `scale(${1/xZoom}, ${1/yZoom})`;
                    text.style.transformOrigin = `${x}px ${y}px`;
                });
            }

            if (kricSvg) {
                // Apply zoom to the whole SVG
                kricSvg.style.transform = `scale(${xZoom}, ${yZoom})`;
                kricSvg.style.transformOrigin = 'top left';

                // Keep label boxes constant size by counter-scaling them
                const nodes = kricSvg.querySelectorAll('.sankey-node');
                const texts = kricSvg.querySelectorAll('text');

                nodes.forEach(node => {
                    // Get the original center position
                    const rect = node.getBBox();
                    const centerX = rect.x + rect.width / 2;
                    const centerY = rect.y + rect.height / 2;

                    // Apply counter-scale with center positioning
                    node.style.transform = `scale(${1/xZoom}, ${1/yZoom})`;
                    node.style.transformOrigin = `${centerX}px ${centerY}px`;
                });

                texts.forEach(text => {
                    // Get the text position
                    const x = parseFloat(text.getAttribute('x'));
                    const y = parseFloat(text.getAttribute('y'));

                    // Apply counter-scale with text center positioning
                    text.style.transform = `scale(${1/xZoom}, ${1/yZoom})`;
                    text.style.transformOrigin = `${x}px ${y}px`;
                });
            }
        }

        // Highlight pitch pattern
        function highlightPitchPattern(pitch) {
            // Find and highlight corresponding KPIC-2 patterns
            const patterns = analysisData.kpic_patterns.full['kpic-2'] || [];
            patterns.forEach(pattern => {
                if (pattern.pattern.includes(pitch)) {
                    // Trigger highlighting of these positions
                }
            });
        }

        // Highlight rhythm pattern
        function highlightRhythmPattern(rhythm) {
            // Find and highlight corresponding KRIC-2 patterns
            const patterns = analysisData.kric_patterns?.full?.['kric-2'] || [];
            patterns.forEach(pattern => {
                if (pattern.pattern.includes(rhythm)) {
                    // Trigger highlighting of these positions
                }
            });
        }
    </script>
</body>
</html>