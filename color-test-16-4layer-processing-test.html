<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dan Tranh Color System v7.1 - 4-Layer Glow Processing Test</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #000;
            margin-bottom: 10px;
            font-size: 32px;
        }

        h2 {
            color: #000;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #000;
        }

        .note {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background: #000000;
            color: white;
            border: 6px solid;
            font-size: 12px;
            transition: all 0.3s ease;
            margin: 8px;
        }

        /* 12 Optimized Colors */
        .color-1 { border-color: #FF0000; }   /* Red */
        .color-2 { border-color: #FF6600; }   /* Red-Orange */
        .color-3 { border-color: #FFAA00; }   /* Orange */
        .color-4 { border-color: #FFFF00; }   /* Yellow */
        .color-5 { border-color: #AAFF00; }   /* Yellow-Green */
        .color-6 { border-color: #00FF00; }   /* Green */
        .color-7 { border-color: #00FFAA; }   /* Green-Aqua */
        .color-8 { border-color: #00FFFF; }   /* Cyan */
        .color-9 { border-color: #0066FF; }   /* Blue */
        .color-10 { border-color: #0000FF; }  /* Pure Blue */
        .color-11 { border-color: #6600FF; }  /* Violet */
        .color-12 { border-color: #CC00FF; }  /* Magenta */

        /* 4-Layer Glow Effects - Medium to Large sizes (20px, 30px, 45px, 60px) */
        .glow-4layer-1 {
            box-shadow:
                0 0 20px #FF0000,
                0 0 30px #FF0000,
                0 0 45px #FF0000,
                0 0 60px #FF0000;
        }
        .glow-4layer-2 {
            box-shadow:
                0 0 20px #FF6600,
                0 0 30px #FF6600,
                0 0 45px #FF6600,
                0 0 60px #FF6600;
        }
        .glow-4layer-3 {
            box-shadow:
                0 0 20px #FFAA00,
                0 0 30px #FFAA00,
                0 0 45px #FFAA00,
                0 0 60px #FFAA00;
        }
        .glow-4layer-4 {
            box-shadow:
                0 0 20px #FFFF00,
                0 0 30px #FFFF00,
                0 0 45px #FFFF00,
                0 0 60px #FFFF00;
        }
        .glow-4layer-5 {
            box-shadow:
                0 0 20px #AAFF00,
                0 0 30px #AAFF00,
                0 0 45px #AAFF00,
                0 0 60px #AAFF00;
        }
        .glow-4layer-6 {
            box-shadow:
                0 0 20px #00FF00,
                0 0 30px #00FF00,
                0 0 45px #00FF00,
                0 0 60px #00FF00;
        }
        .glow-4layer-7 {
            box-shadow:
                0 0 20px #00FFAA,
                0 0 30px #00FFAA,
                0 0 45px #00FFAA,
                0 0 60px #00FFAA;
        }
        .glow-4layer-8 {
            box-shadow:
                0 0 20px #00FFFF,
                0 0 30px #00FFFF,
                0 0 45px #00FFFF,
                0 0 60px #00FFFF;
        }
        .glow-4layer-9 {
            box-shadow:
                0 0 20px #0066FF,
                0 0 30px #0066FF,
                0 0 45px #0066FF,
                0 0 60px #0066FF;
        }
        .glow-4layer-10 {
            box-shadow:
                0 0 20px #0000FF,
                0 0 30px #0000FF,
                0 0 45px #0000FF,
                0 0 60px #0000FF;
        }
        .glow-4layer-11 {
            box-shadow:
                0 0 20px #6600FF,
                0 0 30px #6600FF,
                0 0 45px #6600FF,
                0 0 60px #6600FF;
        }
        .glow-4layer-12 {
            box-shadow:
                0 0 20px #CC00FF,
                0 0 30px #CC00FF,
                0 0 45px #CC00FF,
                0 0 60px #CC00FF;
        }

        /* 4-Layer Pulsing Animation - HEAVY PROCESSING TEST */
        .pulse-4layer {
            animation: pulse4Layer 2s ease-in-out infinite;
        }

        @keyframes pulse4Layer {
            0%, 100% {
                transform: scale(1);
                box-shadow:
                    0 0 15px currentColor,
                    0 0 25px currentColor,
                    0 0 35px currentColor,
                    0 0 50px currentColor;
            }
            50% {
                transform: scale(1.1);
                box-shadow:
                    0 0 25px currentColor,
                    0 0 40px currentColor,
                    0 0 60px currentColor,
                    0 0 80px currentColor;
            }
        }

        /* 4-Layer Pulsing with specific colors */
        .pulse-4layer-1 {
            animation: pulse4Layer1 2s ease-in-out infinite;
        }

        @keyframes pulse4Layer1 {
            0%, 100% {
                transform: scale(1);
                box-shadow:
                    0 0 15px #FF0000,
                    0 0 25px #FF0000,
                    0 0 35px #FF0000,
                    0 0 50px #FF0000;
            }
            50% {
                transform: scale(1.1);
                box-shadow:
                    0 0 25px #FF0000,
                    0 0 40px #FF0000,
                    0 0 60px #FF0000,
                    0 0 80px #FF0000;
            }
        }

        .pulse-4layer-6 {
            animation: pulse4Layer6 2s ease-in-out infinite;
        }

        @keyframes pulse4Layer6 {
            0%, 100% {
                transform: scale(1);
                box-shadow:
                    0 0 15px #00FF00,
                    0 0 25px #00FF00,
                    0 0 35px #00FF00,
                    0 0 50px #00FF00;
            }
            50% {
                transform: scale(1.1);
                box-shadow:
                    0 0 25px #00FF00,
                    0 0 40px #00FF00,
                    0 0 60px #00FF00,
                    0 0 80px #00FF00;
            }
        }

        .pulse-4layer-8 {
            animation: pulse4Layer8 2s ease-in-out infinite;
        }

        @keyframes pulse4Layer8 {
            0%, 100% {
                transform: scale(1);
                box-shadow:
                    0 0 15px #00FFFF,
                    0 0 25px #00FFFF,
                    0 0 35px #00FFFF,
                    0 0 50px #00FFFF;
            }
            50% {
                transform: scale(1.1);
                box-shadow:
                    0 0 25px #00FFFF,
                    0 0 40px #00FFFF,
                    0 0 60px #00FFFF,
                    0 0 80px #00FFFF;
            }
        }

        /* Background variations */
        .bg-white { background: #FFFFFF; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-light-grey { background: #F0F0F0; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-medium-grey { background: #C0C0C0; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-grey { background: #808080; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-dark-grey { background: #404040; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-very-dark { background: #202020; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-near-black { background: #101010; padding: 25px; border-radius: 10px; margin: 10px 0; }
        .bg-black { background: #000000; padding: 25px; border-radius: 10px; margin: 10px 0; }

        .color-row {
            display: flex;
            gap: 8px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .demo-section {
            margin: 20px 0;
            border: 2px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
        }

        .section-header {
            background: #f8f9fa;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            border-bottom: 2px solid #ddd;
        }

        .section-header-dark {
            background: #333;
            color: white;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .performance-test {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .performance-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #000;
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            z-index: 1000;
        }

        .analysis-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .hover-test:hover {
            transform: scale(1.05);
        }

        /* Processing load indicator */
        .heavy-processing {
            border: 3px solid #f44336 !important;
        }

        .light-processing {
            border: 3px solid #4caf50 !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="performance-counter" id="fps-counter">
            FPS: <span id="fps">--</span><br>
            Processing: <span id="load">Normal</span>
        </div>

        <h1>ðŸ”¥ Dan Tranh Color System v7.1</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            4-Layer Glow Test - All Backgrounds - Processing Impact Analysis
        </p>

        <!-- Performance Warning -->
        <div class="performance-test">
            <h3>âš¡ Processing Impact Test</h3>
            <p><strong>4-Layer Glows:</strong> Each note renders 4 separate box-shadow effects</p>
            <p><strong>When Pulsing:</strong> All 4 layers animate simultaneously (high GPU load)</p>
            <p><strong>Monitor:</strong> FPS counter (top-right) shows performance impact</p>
            <p><strong>Test:</strong> Scroll through all backgrounds to see processing load</p>
        </div>

        <!-- Background 1: White -->
        <div class="demo-section">
            <div class="section-header">Background 1: Pure White (#FFFFFF)</div>
            <div class="bg-white">
                <div class="color-row">
                    <div style="text-align: center;">
                        <div class="note color-1 glow-4layer-1 hover-test">1</div>
                        <div style="font-size: 10px; margin-top: 5px;">Red</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-2 glow-4layer-2 hover-test">2</div>
                        <div style="font-size: 10px; margin-top: 5px;">R-Orange</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-3 glow-4layer-3 hover-test">3</div>
                        <div style="font-size: 10px; margin-top: 5px;">Orange</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-4 glow-4layer-4 hover-test">4</div>
                        <div style="font-size: 10px; margin-top: 5px;">Yellow</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-5 glow-4layer-5 hover-test">5</div>
                        <div style="font-size: 10px; margin-top: 5px;">Y-Green</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-6 glow-4layer-6 hover-test">6</div>
                        <div style="font-size: 10px; margin-top: 5px;">Green</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-7 glow-4layer-7 hover-test">7</div>
                        <div style="font-size: 10px; margin-top: 5px;">G-Aqua</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-8 glow-4layer-8 hover-test">8</div>
                        <div style="font-size: 10px; margin-top: 5px;">Cyan</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-9 glow-4layer-9 hover-test">9</div>
                        <div style="font-size: 10px; margin-top: 5px;">Blue</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-10 glow-4layer-10 hover-test">10</div>
                        <div style="font-size: 10px; margin-top: 5px;">P-Blue</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-11 glow-4layer-11 hover-test">11</div>
                        <div style="font-size: 10px; margin-top: 5px;">Violet</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="note color-12 glow-4layer-12 hover-test">12</div>
                        <div style="font-size: 10px; margin-top: 5px;">Magenta</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Background 2: Light Grey -->
        <div class="demo-section">
            <div class="section-header">Background 2: Light Grey (#F0F0F0)</div>
            <div class="bg-light-grey">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Background 3: Medium Grey -->
        <div class="demo-section">
            <div class="section-header">Background 3: Medium Grey (#C0C0C0)</div>
            <div class="bg-medium-grey">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Background 4: Grey -->
        <div class="demo-section">
            <div class="section-header">Background 4: Grey (#808080)</div>
            <div class="bg-grey">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Background 5: Dark Grey -->
        <div class="demo-section">
            <div class="section-header section-header-dark">Background 5: Dark Grey (#404040)</div>
            <div class="bg-dark-grey">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Background 6: Very Dark -->
        <div class="demo-section">
            <div class="section-header section-header-dark">Background 6: Very Dark Grey (#202020)</div>
            <div class="bg-very-dark">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Background 7: Near Black -->
        <div class="demo-section">
            <div class="section-header section-header-dark">Background 7: Near Black (#101010)</div>
            <div class="bg-near-black">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Background 8: Pure Black -->
        <div class="demo-section">
            <div class="section-header section-header-dark">Background 8: Pure Black (#000000) - Maximum Neon</div>
            <div class="bg-black">
                <div class="color-row">
                    <div class="note color-1 glow-4layer-1">1</div>
                    <div class="note color-2 glow-4layer-2">2</div>
                    <div class="note color-3 glow-4layer-3">3</div>
                    <div class="note color-4 glow-4layer-4">4</div>
                    <div class="note color-5 glow-4layer-5">5</div>
                    <div class="note color-6 glow-4layer-6">6</div>
                    <div class="note color-7 glow-4layer-7">7</div>
                    <div class="note color-8 glow-4layer-8">8</div>
                    <div class="note color-9 glow-4layer-9">9</div>
                    <div class="note color-10 glow-4layer-10">10</div>
                    <div class="note color-11 glow-4layer-11">11</div>
                    <div class="note color-12 glow-4layer-12">12</div>
                </div>
            </div>
        </div>

        <!-- Processing Impact Test -->
        <h2>âš¡ Processing Impact Test - Pulsing 4-Layer Glows</h2>

        <div class="performance-test">
            <p style="margin-bottom: 15px;"><strong>Click notes below to toggle pulsing animation and test processing load:</strong></p>

            <div class="comparison-grid">
                <div style="background: white; padding: 20px; border-radius: 10px;">
                    <h4 style="text-align: center; margin-bottom: 15px;">Static 4-Layer Glows (Light Processing)</h4>
                    <div class="color-row">
                        <div class="note color-1 glow-4layer-1 light-processing hover-test" onclick="togglePulse(this, 1)">1</div>
                        <div class="note color-6 glow-4layer-6 light-processing hover-test" onclick="togglePulse(this, 6)">6</div>
                        <div class="note color-8 glow-4layer-8 light-processing hover-test" onclick="togglePulse(this, 8)">8</div>
                        <div class="note color-12 glow-4layer-12 light-processing hover-test" onclick="togglePulse(this, 12)">12</div>
                    </div>
                    <p style="text-align: center; margin-top: 10px; font-size: 12px;">Click to activate pulsing</p>
                </div>

                <div style="background: #000; padding: 20px; border-radius: 10px;">
                    <h4 style="text-align: center; margin-bottom: 15px; color: white;">Pulsing 4-Layer Glows (Heavy Processing)</h4>
                    <div class="color-row">
                        <div class="note color-1 glow-4layer-1 pulse-4layer-1 heavy-processing">1</div>
                        <div class="note color-6 glow-4layer-6 pulse-4layer-6 heavy-processing">6</div>
                        <div class="note color-8 glow-4layer-8 pulse-4layer-8 heavy-processing">8</div>
                        <div class="note color-12 glow-4layer-12 heavy-processing" style="animation: pulse4Layer 2s ease-in-out infinite;">12</div>
                    </div>
                    <p style="text-align: center; margin-top: 10px; font-size: 12px; color: white;">Always pulsing - watch FPS</p>
                </div>
            </div>
        </div>

        <!-- Analysis -->
        <h2>ðŸ“Š Performance Analysis</h2>
        <div class="analysis-box">
            <h3>ðŸ’¡ Key Findings:</h3>
            <ul style="line-height: 2; margin-top: 10px;">
                <li><strong>Static 4-Layer Glows:</strong> Minimal processing impact (CSS only)</li>
                <li><strong>Pulsing 4-Layer Glows:</strong> Significant GPU load when animating</li>
                <li><strong>Performance Impact:</strong> Each pulsing note = 4 animated shadows + scale transform</li>
                <li><strong>FPS Drop:</strong> Noticeable with 4+ pulsing notes simultaneously</li>
                <li><strong>Battery Impact:</strong> High on mobile devices</li>
                <li><strong>Recommendation:</strong> Limit pulsing to 1-2 notes maximum (audio playback only)</li>
            </ul>

            <h4 style="margin-top: 20px;">âš¡ Performance Optimization:</h4>
            <ul style="margin-top: 10px; line-height: 1.8;">
                <li>ðŸŽ¯ <strong>Static Selections:</strong> Use 4-layer glow without animation</li>
                <li>ðŸŽµ <strong>Audio Playback:</strong> Use simple 2-layer pulse (not 4-layer)</li>
                <li>ðŸŽ® <strong>Hover Effects:</strong> Use transform scale only (no glow animation)</li>
                <li>ðŸ“± <strong>Mobile Mode:</strong> Reduce to 2-layer glows maximum</li>
                <li>ðŸ’» <strong>Desktop Mode:</strong> Full 4-layer static glows OK</li>
                <li>ðŸš« <strong>Never:</strong> Multiple 4-layer pulsing notes simultaneously</li>
            </ul>
        </div>

        <!-- Recommended Implementation -->
        <div class="analysis-box" style="background: #e8f5e9; border-left-color: #4caf50;">
            <h3>âœ… Recommended Final Implementation:</h3>
            <ul style="line-height: 2; margin-top: 10px;">
                <li><strong>Base Notes:</strong> Black (#000000) with 6px colored outline</li>
                <li><strong>Selected Notes:</strong> 4-layer static glow (no animation)</li>
                <li><strong>Audio Playback:</strong> 2-layer pulse only (performance-friendly)</li>
                <li><strong>Glow Sizes:</strong> 20px, 30px, 45px, 60px (medium-large)</li>
                <li><strong>12 Colors:</strong> Optimized set avoiding green/spring confusion</li>
                <li><strong>Background Adaptive:</strong> Glow intensity scales with background darkness</li>
            </ul>
        </div>
    </div>

    <script>
        // FPS Counter
        let fps = 0;
        let lastTime = performance.now();
        let frameCount = 0;

        function updateFPS() {
            frameCount++;
            const currentTime = performance.now();

            if (currentTime - lastTime >= 1000) {
                fps = Math.round(frameCount * 1000 / (currentTime - lastTime));
                document.getElementById('fps').textContent = fps;

                // Update processing load indicator
                const loadElement = document.getElementById('load');
                if (fps >= 55) {
                    loadElement.textContent = 'Light';
                    loadElement.style.color = '#0f0';
                } else if (fps >= 45) {
                    loadElement.textContent = 'Medium';
                    loadElement.style.color = '#ff0';
                } else {
                    loadElement.textContent = 'Heavy';
                    loadElement.style.color = '#f00';
                }

                frameCount = 0;
                lastTime = currentTime;
            }

            requestAnimationFrame(updateFPS);
        }

        updateFPS();

        // Toggle pulse function
        function togglePulse(element, colorNum) {
            if (element.classList.contains('pulse-4layer-' + colorNum)) {
                element.classList.remove('pulse-4layer-' + colorNum);
                element.classList.remove('heavy-processing');
                element.classList.add('light-processing');
            } else {
                element.classList.add('pulse-4layer-' + colorNum);
                element.classList.add('heavy-processing');
                element.classList.remove('light-processing');
            }
        }

        // Add click handlers to static notes
        document.querySelectorAll('.light-processing').forEach(note => {
            note.style.cursor = 'pointer';
        });
    </script>
</body>
</html>