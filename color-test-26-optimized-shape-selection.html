<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test 26: Optimized Shape Selection - Symmetrical for KRIC, Complex for KPIC</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
        }

        h1 { text-align: center; color: #000; margin-bottom: 10px; font-size: 32px; }
        h2 { color: #000; margin-top: 40px; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 3px solid #000; }

        /* Base Note with double borders */
        .note {
            width: 70px;
            height: 70px;
            background: #000000;
            border: 6px solid;
            border-radius: 50%;
            margin: 6px;
            outline: 1px solid #000000;
            outline-offset: 0px;
            box-shadow: inset 0 0 0 1px #000000;
        }

        /* 12 Colors */
        .c1 { border-color: #FF0000; }  .c2 { border-color: #FF6600; }  .c3 { border-color: #FFAA00; }
        .c4 { border-color: #FFFF00; }  .c5 { border-color: #AAFF00; }  .c6 { border-color: #00FF00; }
        .c7 { border-color: #00FFAA; }  .c8 { border-color: #00FFFF; }  .c9 { border-color: #0066FF; }
        .c10 { border-color: #0000FF; } .c11 { border-color: #6600FF; } .c12 { border-color: #CC00FF; }

        /* KPIC: Complex/Detailed Shapes in Grid (20x20 grid, 10px offset) */
        .kpic-fish {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5,10 Q8,6 12,8 Q15,10 12,12 Q8,14 5,10 Z M12,8 L16,6 L16,14 L12,12' fill='%230066FF'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5,10 Q8,6 12,8 Q15,10 12,12 Q8,14 5,10 Z M12,8 L16,6 L16,14 L12,12' fill='%230066FF'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }
        .kpic-moons {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,5 Q15,7 13,10 Q15,13 10,15 Q12,12 12,10 Q12,8 10,5 Z' fill='%23CC00FF'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,5 Q15,7 13,10 Q15,13 10,15 Q12,12 12,10 Q12,8 10,5 Z' fill='%23CC00FF'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }
        .kpic-lightning {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8,4 L12,4 L10,8 L13,8 L7,16 L9,10 L6,10 L8,4 Z' fill='%23FFFF00'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8,4 L12,4 L10,8 L13,8 L7,16 L9,10 L6,10 L8,4 Z' fill='%23FFFF00'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }
        .kpic-butterflies {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6,8 Q8,6 10,8 Q12,6 14,8 Q12,10 10,8 Q8,10 6,8 Z M6,12 Q8,14 10,12 Q12,14 14,12 Q12,10 10,12 Q8,10 6,12 Z' fill='%236600FF'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6,8 Q8,6 10,8 Q12,6 14,8 Q12,10 10,8 Q8,10 6,8 Z M6,12 Q8,14 10,12 Q12,14 14,12 Q12,10 10,12 Q8,10 6,12 Z' fill='%236600FF'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }
        .kpic-arrows {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='10,4 13,8 11,8 11,14 9,14 9,8 7,8' fill='%23FF0000'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='10,4 13,8 11,8 11,14 9,14 9,8 7,8' fill='%23FF0000'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }
        .kpic-teardrops {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,5 Q13,8 10,12 Q7,8 10,5 Z' fill='%2300FFAA'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,5 Q13,8 10,12 Q7,8 10,5 Z' fill='%2300FFAA'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }
        .kpic-spirals {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,5 Q14,7 12,10 Q8,12 10,9 Q11,9.5 10.5,10' stroke='%23FFAA00' stroke-width='2.5' fill='none'/%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,5 Q14,7 12,10 Q8,12 10,9 Q11,9.5 10.5,10' stroke='%23FFAA00' stroke-width='2.5' fill='none'/%3E%3C/svg%3E");
            background-size: 20px 20px; background-position: 0 0, 10px 10px; background-color: #000;
        }

        /* KRIC: Symmetrical/Flow-Friendly Shapes in Rows (4px width) */
        .kric-circles-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='2' cy='10' r='6' fill='%23FF0000'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-circles-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='2' r='6' fill='%23FF0000'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-hearts-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2,15 C2,15 -2,11 -2,8.5 C-2,7 -1,6 0.5,6 C1,6 1.5,6.3 2,7 C2.5,6.3 3,6 3.5,6 C5,6 6,7 6,8.5 C6,11 2,15 2,15 Z' fill='%2300FFFF'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-hearts-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10,7 C10,7 6,3 6,0.5 C6,-1 7,-2 8.5,-2 C9,-2 9.5,-1.7 10,-1 C10.5,-1.7 11,-2 11.5,-2 C13,-2 14,-1 14,0.5 C14,3 10,7 10,7 Z' fill='%2300FFFF'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-stars-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='2,3 3.5,7.5 8,7.5 4.5,10.5 6,15 2,12.5 -2,15 -0.5,10.5 -4,7.5 0.5,7.5' fill='%2300FFAA'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-stars-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='10,1 11.5,5.5 16,5.5 12.5,8.5 14,13 10,10.5 6,13 7.5,8.5 4,5.5 8.5,5.5' fill='%2300FFAA'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-squares-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='-2' y='6' width='8' height='8' fill='%23FFFF00'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-squares-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='6' y='-2' width='8' height='8' fill='%23FFFF00'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-diamonds-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='2,7 3.5,9 2,11 0.5,9' fill='%23AAFF00'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-diamonds-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='8,2 9.5,3 8,4 6.5,3' fill='%23AAFF00'/%3E%3Cpolygon points='14,2 15.5,3 14,4 12.5,3' fill='%23AAFF00'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-hexagons-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='2,7 3,8 3,11 2,12 1,11 1,8' fill='%2300FFAA'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-hexagons-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='8,2 9,1 11,1 12,2 11,3 9,3' fill='%2300FFAA'/%3E%3Cpolygon points='14,2 15,1 17,1 18,2 17,3 15,3' fill='%2300FFAA'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-plus-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.5,8 L2.5,8 L2.5,9 L3.5,9 L3.5,10 L2.5,10 L2.5,11 L1.5,11 L1.5,10 L0.5,10 L0.5,9 L1.5,9 Z' fill='%230000FF'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-plus-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9,1.5 L10,1.5 L10,0.5 L11,0.5 L11,1.5 L12,1.5 L12,2.5 L11,2.5 L11,3.5 L10,3.5 L10,2.5 L9,2.5 Z M15,1.5 L16,1.5 L16,0.5 L17,0.5 L17,1.5 L18,1.5 L18,2.5 L17,2.5 L17,3.5 L16,3.5 L16,2.5 L15,2.5 Z' fill='%230000FF'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        .kric-crosses-h {
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.2,8 L2.8,8 L2.8,8.8 L3.5,8.8 L3.5,10.2 L2.8,10.2 L2.8,11 L1.2,11 L1.2,10.2 L0.5,10.2 L0.5,8.8 L1.2,8.8 Z' fill='%23FF6600'/%3E%3C/svg%3E");
            background-size: 4px 20px; background-color: #000;
        }
        .kric-crosses-v {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.5,1.2 L9.5,1.2 L9.5,0.5 L10.5,0.5 L10.5,1.2 L11.5,1.2 L11.5,2.8 L10.5,2.8 L10.5,3.5 L9.5,3.5 L9.5,2.8 L8.5,2.8 Z M14.5,1.2 L15.5,1.2 L15.5,0.5 L16.5,0.5 L16.5,1.2 L17.5,1.2 L17.5,2.8 L16.5,2.8 L16.5,3.5 L15.5,3.5 L15.5,2.8 L14.5,2.8 Z' fill='%23FF6600'/%3E%3C/svg%3E");
            background-size: 20px 4px; background-color: #000;
        }

        /* 2-Layer Glow */
        .glow { box-shadow: inset 0 0 0 1px #000000, 0 0 15px currentColor, 0 0 30px currentColor; }

        /* Demo layouts */
        .demo-section { background: #f8f9fa; padding: 25px; border-radius: 10px; margin: 20px 0; }
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 20px 0; }
        .pattern-showcase { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin: 20px 0; }
        .pattern-item { text-align: center; padding: 12px; background: white; border-radius: 8px; }
        .shape-group { padding: 15px; background: white; border-radius: 10px; border: 2px solid #ddd; }

        .explanation { background: #e8f5e9; border-left: 4px solid #4caf50; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .parameter-box { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Test 26: Optimized Shape Selection</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            <strong>Smart Assignment:</strong> Symmetrical Shapes for KRIC Rows, Complex Shapes for KPIC Grids
        </p>

        <!-- Shape Assignment Strategy -->
        <h2>1. Shape Assignment by Flow Quality</h2>

        <div class="comparison-grid">
            <div class="shape-group" style="border-color: #0066FF;">
                <h3 style="text-align: center; color: #0066FF; margin-bottom: 15px;">KPIC: Complex/Detailed Shapes (Grid)</h3>
                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div class="note kpic-fish c9 glow"></div>
                        <p style="font-size: 10px;">Fish<br><small>Asymmetrical</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kpic-moons c12 glow"></div>
                        <p style="font-size: 10px;">Moons<br><small>Crescent</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kpic-lightning c4 glow"></div>
                        <p style="font-size: 10px;">Lightning<br><small>Jagged</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kpic-butterflies c11 glow"></div>
                        <p style="font-size: 10px;">Butterfly<br><small>Complex</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kpic-arrows c1 glow"></div>
                        <p style="font-size: 10px;">Arrows<br><small>Directional</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kpic-teardrops c7 glow"></div>
                        <p style="font-size: 10px;">Teardrops<br><small>Pointed</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kpic-spirals c3 glow"></div>
                        <p style="font-size: 10px;">Spirals<br><small>Curved</small></p>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 15px; font-size: 12px; color: #666;">
                    Perfect for scattered grid - complexity doesn't affect flow
                </p>
            </div>

            <div class="shape-group" style="border-color: #00AA00;">
                <h3 style="text-align: center; color: #00AA00; margin-bottom: 15px;">KRIC: Symmetrical/Flow Shapes (Rows)</h3>
                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div class="note kric-circles-h c1 glow"></div>
                        <p style="font-size: 10px;">Circles<br><small>Perfect flow</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kric-hearts-v c8 glow"></div>
                        <p style="font-size: 10px;">Hearts<br><small>Smooth flow</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kric-stars-h c7 glow"></div>
                        <p style="font-size: 10px;">Stars<br><small>Radial symmetry</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kric-squares-h c4 glow"></div>
                        <p style="font-size: 10px;">Squares<br><small>Even spacing</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kric-diamonds-h c5 glow"></div>
                        <p style="font-size: 10px;">Diamonds<br><small>Symmetrical</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kric-hexagons-h c7 glow"></div>
                        <p style="font-size: 10px;">Hexagons<br><small>Even sides</small></p>
                    </div>
                    <div style="text-align: center;">
                        <div class="note kric-plus-v c10 glow"></div>
                        <p style="font-size: 10px;">Plus<br><small>Centered</small></p>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 15px; font-size: 12px; color: #666;">
                    Perfect for continuous rows - symmetrical shapes flow smoothly
                </p>
            </div>
        </div>

        <!-- Flow Quality Comparison -->
        <h2>2. Flow Quality Comparison (KRIC Rows)</h2>

        <div class="pattern-showcase">
            <div class="pattern-item" style="background: #d4edda;">
                <div class="note kric-circles-h c1 glow"></div>
                <h4>‚úÖ Circles</h4>
                <p style="font-size: 11px;">Perfect continuous flow</p>
            </div>
            <div class="pattern-item" style="background: #d4edda;">
                <div class="note kric-hearts-h c8 glow"></div>
                <h4>‚úÖ Hearts</h4>
                <p style="font-size: 11px;">Smooth, symmetrical</p>
            </div>
            <div class="pattern-item" style="background: #d4edda;">
                <div class="note kric-stars-v c7 glow"></div>
                <h4>‚úÖ Stars</h4>
                <p style="font-size: 11px;">Even radial points</p>
            </div>
            <div class="pattern-item" style="background: #d4edda;">
                <div class="note kric-squares-v c4 glow"></div>
                <h4>‚úÖ Squares</h4>
                <p style="font-size: 11px;">Clean, regular</p>
            </div>
        </div>

        <!-- Parameter Specifications -->
        <h2>3. Updated Parameters</h2>
        <div class="parameter-box">
            <h3>üìè Exact Parameter Values:</h3>

            <h4>KPIC Grid (Unchanged):</h4>
            <pre style="background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px;">
background-size: 20px 20px;           /* Grid cells */
background-position: 0 0, 10px 10px;  /* Checkerboard offset */
shape-size: ~6-8px within cell        /* Shape fits in cell */
coverage: ~40% color, 60% black       /* Balanced ratio */
            </pre>

            <h4>KRIC Rows (Updated to 4px):</h4>
            <pre style="background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px;">
/* Horizontal Rows */
background-size: 4px 20px;            /* Narrow vertical strips */
shape-width: ~3px                     /* Fit in 4px width */
black-alley: Every 4px                /* Dense row pattern */

/* Vertical Rows */
background-size: 20px 4px;            /* Narrow horizontal strips */
shape-height: ~3px                    /* Fit in 4px height */
black-alley: Every 4px                /* Dense row pattern */
            </pre>

            <h4>Shape Size Adjustments for 4px:</h4>
            <ul style="margin-top: 10px; line-height: 1.8;">
                <li>üî¥ <strong>Circles:</strong> 1.5px radius (was 6px) - fits in 4px strip</li>
                <li>‚≠ê <strong>Stars:</strong> 3px span (was 12px) - simplified for tight rows</li>
                <li>‚ô•Ô∏è <strong>Hearts:</strong> 3px width (was 8px) - compressed but recognizable</li>
                <li>‚¨ú <strong>Squares:</strong> 3√ó3px (was 8√ó8px) - clean geometric fit</li>
                <li>üíé <strong>Diamonds:</strong> 3px span (was 10px) - sharp points preserved</li>
            </ul>
        </div>

        <!-- Final Analysis -->
        <div class="explanation">
            <h3>üéØ Optimized System Benefits:</h3>
            <ul style="line-height: 2; margin-top: 10px;">
                <li><strong>KPIC gets complexity:</strong> Fish, moons, lightning, butterflies work great in grids</li>
                <li><strong>KRIC gets flow:</strong> Circles, hearts, stars create smooth continuous rows</li>
                <li><strong>4px KRIC rows:</strong> Much denser, more stripe-like appearance</li>
                <li><strong>Visual distinction:</strong> Grid scatter vs dense rows instantly recognizable</li>
                <li><strong>Shape semantics:</strong> Each shape type optimized for its pattern layout</li>
                <li><strong>Perfect separation:</strong> Double black borders maintain clarity</li>
            </ul>

            <h4 style="margin-top: 20px;">üìä Final Pattern Distribution:</h4>
            <ul style="margin-top: 10px; line-height: 1.8;">
                <li>üîµ <strong>KPIC:</strong> 15 complex shapes in 20√ó20 grids = 360 combinations (15√ó24 colors)</li>
                <li>üü¢ <strong>KRIC:</strong> 10 symmetrical shapes in 4px rows (H&V) = 480 combinations (20√ó24 colors)</li>
                <li>üìä <strong>Total:</strong> 840 perfectly optimized visual patterns</li>
            </ul>
        </div>
    </div>
</body>
</html>