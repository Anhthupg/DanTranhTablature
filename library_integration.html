<!-- Add this to your existing library page (localhost:3002) -->
<!-- Place this script tag before the closing </body> tag -->

<script>
// Connect existing library thumbnails to new V3 song pages
(function() {
    console.log('ðŸŽµ Connecting to V3 song pages...');

    // Function to update Xá»‰a CÃ¡ MÃ¨ links
    function updateXiaCaMeLinks() {
        // Find all elements that might be Xá»‰a CÃ¡ MÃ¨ thumbnails
        const allElements = document.querySelectorAll('*');

        allElements.forEach(element => {
            const text = element.textContent || element.title || element.alt || '';

            // Check if this element contains "Xá»‰a CÃ¡ MÃ¨"
            if (text.toLowerCase().includes('xá»‰a cÃ¡ mÃ¨') ||
                text.toLowerCase().includes('xia ca me')) {

                // Find the clickable element (could be the element itself or a parent/child)
                let clickable = element;

                // If it's not already a link, try to find a parent link
                if (element.tagName !== 'A') {
                    clickable = element.closest('a') || element.querySelector('a') || element;
                }

                // Make it clickable and point to V3 page
                if (clickable.tagName === 'A') {
                    clickable.href = 'xia_ca_me_v3.html';
                } else {
                    clickable.style.cursor = 'pointer';
                    clickable.onclick = () => window.open('xia_ca_me_v3.html', '_blank');
                }

                // Add V3 badge
                if (!clickable.querySelector('.v3-badge')) {
                    clickable.style.position = 'relative';

                    const badge = document.createElement('div');
                    badge.className = 'v3-badge';
                    badge.innerHTML = '4 strings';
                    badge.style.cssText = `
                        position: absolute;
                        top: 8px;
                        right: 8px;
                        background: linear-gradient(135deg, #00c851, #00ff7f);
                        color: white;
                        padding: 4px 10px;
                        border-radius: 15px;
                        font-size: 11px;
                        font-weight: bold;
                        z-index: 10;
                        box-shadow: 0 2px 8px rgba(0,200,81,0.3);
                        pointer-events: none;
                    `;

                    clickable.appendChild(badge);
                }

                console.log('âœ… Updated Xá»‰a CÃ¡ MÃ¨ to use V3 page');
            }
        });
    }

    // Run immediately and also when page content changes
    updateXiaCaMeLinks();

    // Watch for dynamically added content
    const observer = new MutationObserver(() => {
        updateXiaCaMeLinks();
    });

    observer.observe(document.body, {
        childList: true,
        subtree: true
    });

    console.log('ðŸ”— Library integration active - Xá»‰a CÃ¡ MÃ¨ thumbnails will open V3 page!');
})();
</script>

<!--
INSTRUCTIONS:
1. Copy the <script> section above
2. Paste it into your existing library page at localhost:3002
3. Place it just before the closing </body> tag
4. Now when users click on Xá»‰a CÃ¡ MÃ¨ thumbnails, they'll open the new V3 page with 4 strings!

The script will:
- Automatically find Xá»‰a CÃ¡ MÃ¨ thumbnails on your existing library
- Add a "4 strings" badge to show it's been updated
- Make them open the new xia_ca_me_v3.html page
- Keep all your existing library design intact
-->