<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đò Đưa quan họ - Dan Tranh Tablature</title>
    <style>
        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8f9fa;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }

        /* Tab styles */
        .tab-navigation {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .tab-button {
            background: #fff;
            border: 1px solid #3498db;
            color: #3498db;
            padding: 10px 16px;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .tab-button:hover {
            background: rgba(52, 152, 219, 0.1);
        }

        .tab-button.active {
            background: #3498db;
            color: white;
        }

        /* Content area */
        .tab-content-area {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel h4 {
            color: #3498db;
            margin-top: 0;
        }

        /* V1-style lyrics */
        .v1-lyrics-container {
            background: rgba(52, 152, 219, 0.02);
            border: 1px solid rgba(52, 152, 219, 0.1);
            border-radius: 8px;
            padding: 15px;
        }

        .lyrics-headers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498DB;
        }

        .vietnamese-header, .english-header {
            font-weight: bold;
            font-size: 16px;
            color: #2C3E50;
            text-align: center;
        }

        .lyrics-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: none;
            border: 1px solid #3498DB;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s ease;
        }

        .control-btn:hover {
            background: rgba(52, 152, 219, 0.1);
        }

        .lyrics-content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        .vietnamese-lyrics, .english-lyrics {
            font-size: 16px;
            line-height: 1.8;
            padding: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 6px;
        }

        .vietnamese-lyrics {
            color: #2C3E50;
            font-weight: 500;
            background: rgba(52, 152, 219, 0.08);
            border-left: 4px solid #3498DB;
        }

        .english-lyrics {
            color: #7F8C8D;
            font-style: italic;
            background: rgba(127, 140, 141, 0.08);
            border-left: 4px solid #95A5A6;
        }

        .pipe-separator {
            color: #3498DB;
            cursor: pointer;
            margin: 0 2px;
            transition: background 0.2s ease;
            padding: 0 2px;
            border-radius: 2px;
        }

        .pipe-separator:hover {
            background: rgba(52, 152, 219, 0.2);
        }

        .pipe-separator.line-break::after {
            content: "\A";
            white-space: pre;
        }

        .word-segment {
            cursor: pointer;
            transition: background 0.2s ease;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .word-segment:hover {
            background: rgba(255, 215, 0, 0.3);
        }

        .word-segment.highlighted {
            background: #FFD700;
            color: #4A3C00;
        }

        .lyrics-bottom-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            font-size: 12px;
            color: #7F8C8D;
        }

        .font-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .font-controls select {
            padding: 2px 6px;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .lyrics-content-grid {
                display: block;
            }

            .vietnamese-lyrics {
                border-bottom: 1px solid rgba(52, 152, 219, 0.2);
                margin-bottom: 5px;
            }

            .english-lyrics {
                font-size: 14px;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <h1>Đò Đưa quan họ</h1>

    <div id="analysis-container">
        <!-- Content will be loaded dynamically by viewer-app.js -->
    </div>

    <!-- Embed the analysis data directly to avoid CORS issues -->
    <script>
        window.analysisData = {
            "songName": "Đò Đưa quan họ",
            "songFolder": "Do_Dua",
            "lyrics": {
                "phrases": [
                    {"text": "Bập ơ a bập bềnh sóng a nước", "translation": "[Translation pending]"},
                    {"text": "đêm trăng.", "translation": "[Translation pending]"},
                    {"text": "Thuyền ơ a băng sóng bạc a", "translation": "[Translation pending]"},
                    {"text": "lướt dòng cuộn", "translation": "[Translation pending]"},
                    {"text": "trôi điệu mơ màng khắp cần ba", "translation": "[Translation pending]"},
                    {"text": "đời tiếng vang xa.", "translation": "[Translation pending]"}
                ],
                "syllables": ["Bập","ơ","a","bập","bềnh","sóng","a","nước","đêm","trăng.","Thuyền","ơ","a","băng","sóng","bạc","a","lướt","dòng","cuộn","trôi","điệu","mơ","màng","khắp","cần","ba","đời","tiếng","vang","xa."],
                "hasLyrics": true
            },
            "musical": "<p>This traditional Vietnamese folk song demonstrates the pentatonic scale structure typical of Northern Vietnamese music. The melody follows the characteristic quan họ style with its distinctive call-and-response patterns.</p>",
            "performance": "<p>Play with gentle finger techniques, emphasizing the flowing melody that mimics the movement of water. The tempo should be moderate, allowing for expressive ornamentation on key notes.</p>",
            "cultural": "<p>Quan họ is a UNESCO-recognized folk singing tradition from Bắc Ninh and Bắc Giang provinces. This particular song represents the riverine culture of Northern Vietnam, where ferries were essential for transportation and social connection.</p>",
            "history": "<p>Dating back several centuries, this melody has been passed down through generations of Vietnamese musicians. The song emerged from the Red River Delta region where waterways formed the primary transportation network.</p>",
            "variations": "<p>Different regions of Vietnam have their own interpretations of this melody. The Southern version tends to use different ornamentations, while Central Vietnamese performers may adjust the tuning to match their regional scales.</p>"
        };
    </script>

    <!-- Load the shared viewer app -->
    <script src="../../../js/viewer-app.js"></script>
</body>
</html>